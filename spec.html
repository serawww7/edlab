<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>EDLab ‚Äî —Å—Ç–æ—Ä—ñ–Ω–∫–∞ —Ä–æ–∑–¥—ñ–ª—É</title>
<meta name="color-scheme" content="light dark"/>
<link rel="preload" href="assets/edlab.css" as="style">
<link rel="stylesheet" href="assets/edlab.css"/>
<style>
.header-mini{display:flex;justify-content:space-between;align-items:center;gap:12px}
.grid2{display:grid;gap:16px;grid-template-columns:2fr 1fr}
@media(max-width:980px){.grid2{grid-template-columns:1fr}}
.lesson-list .lesson{position:relative}
.lesson-list .btn{position:relative;z-index:2}
.tester-toolbar{display:flex;justify-content:space-between;gap:8px;align-items:center;background:#0d1a2e;color:#e6eef9;border:1px solid #223049;border-bottom:0;border-radius:12px 12px 0 0;padding:8px 12px}
.tester{border:1px solid #223049;border-radius:0 0 12px 12px;overflow:hidden;background:#0b1220}
.tester iframe{width:100%;height:900px;border:0;background:#fff;display:block}
.btn.ghost{background:transparent;border-color:#334155;color:#cbd5e1}
.btn.ghost:hover{background:#0f1f39}
small.mono{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Courier New", monospace}
.note{background:#0c182a;color:#cde1ff;border:1px dashed #274364;padding:10px 12px;border-radius:12px;margin-top:8px}
</style>
</head>
<body>
<div class="wrap">
  <header class="header-mini">
    <div class="logo">
      <span class="emoji">üéì</span><b>EDLab</b>
      <span class="badge">—Ü–∏—Ñ—Ä–æ–≤—ñ –ø–∞—Ä–∏ –¥–ª—è –û–ü–ü –∫–æ–ª–µ–¥–∂—É</span>
    </div>
    <a class="btn" href="index.html">‚¨Ö –ù–∞ –≥–æ–ª–æ–≤–Ω—É</a>
  </header>

  <h1 id="specTitle">–†–æ–∑–¥—ñ–ª</h1>
  <p class="muted" id="specDesc">‚Äî</p>

  <div class="grid2">
    <!-- –õ—ñ–≤–æ: —Å–ø–∏—Å–æ–∫ –∑–∞–Ω—è—Ç—å -->
    <div class="card lesson-list" id="listCard">
      <h2 id="listTitle">–ó–∞–Ω—è—Ç—Ç—è</h2>
      <div id="lessons"></div>

      <div id="coachHint" class="note" style="display:none">
        –£ –ø–∞–ø—Ü—ñ <b>coach/</b> –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –∂–æ–¥–Ω–æ—ó —Ç—Ä–µ–Ω—ñ–Ω–≥-—Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑ —Ç–∏–ø–æ–≤–∏—Ö –Ω–∞–∑–≤.
        –î–æ–¥–∞–π, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: <span class="mono">coach_intro.html</span> –∞–±–æ <span class="mono">coach_para1.html</span>, <span class="mono">session01.html</span>.
      </div>

      <div id="previewBox" style="display:none;margin-top:14px">
        <div class="tester-toolbar">
          <div class="row">
            <strong>–®–≤–∏–¥–∫–µ –ø—Ä–µ–≤‚Äô—é</strong>
            <span class="muted mono" id="previewUrl">‚Äî</span>
          </div>
          <div class="row">
            <button class="btn ghost" type="button" id="toGen">‚öôÔ∏è –î–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞</button>
            <button class="btn" type="button" id="closePrev">‚úñÔ∏è –ó–∞–∫—Ä–∏—Ç–∏ –ø—Ä–µ–≤‚Äô—é</button>
          </div>
        </div>
        <div class="tester">
          <iframe id="previewFrame" src="about:blank"
            sandbox="allow-same-origin allow-scripts allow-forms allow-modals allow-downloads"
            referrerpolicy="no-referrer"></iframe>
        </div>
      </div>
      <p class="muted" id="previewNote" style="display:none;margin-top:6px">–ü–æ—Ä–∞–¥–∞: –Ω–∞—Ç–∏—Å–Ω–∏ ¬´–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ iFrame¬ª ‚Äî –∫–æ–¥ —Å–ø—Ä–∞–≤–∞ –≤–∂–µ –∑ –ø–æ—Ç—Ä—ñ–±–Ω–∏–º URL.</p>
    </div>

    <!-- –ü—Ä–∞–≤–æ: –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä iFrame -->
    <div class="card" id="generator">
      <h2>üîß –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–¥—É –¥–ª—è Moodle (iFrame)</h2>
      <label for="url">URL —Å—Ç–æ—Ä—ñ–Ω–∫–∏</label>
      <input id="url" type="text" value=""/>

      <div class="inline">
        <div>
          <label for="height">–í–∏—Å–æ—Ç–∞ —Ñ—Ä–µ–π–º–∞ (px)</label>
          <input id="height" type="number" value="1600"/>
        </div>
        <div>
          <label for="sandbox">Sandbox —Ç–æ–∫–µ–Ω–∏</label>
          <input id="sandbox" type="text" value="allow-same-origin allow-scripts allow-forms allow-modals allow-downloads"/>
        </div>
      </div>

      <label for="code">HTML-–∫–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ —É Moodle</label>
      <textarea id="code" readonly></textarea>

      <div class="row" style="margin-top:8px">
        <button class="btn" type="button" id="btnGen">üîÅ –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–¥</button>
        <button class="btn" type="button" id="btnCopy">üìã –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏</button>
      </div>
      <p class="muted" style="margin-top:6px">–†–µ–∂–∏–º–∏ –≤—Å—Ç–∞–≤–∫–∏: <b>Page</b> –∞–±–æ <b>URL (Display: Embed)</b>. –Ø–∫—â–æ –∫–Ω–æ–ø–∫–∏ ¬´–Ω—ñ–º—ñ¬ª ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä —Ñ—ñ–ª—å—Ç—Ä–∏ —Ä–µ—Å—É—Ä—Å—É –∞–±–æ –∑–º–µ–Ω—à –Ω–∞–±—ñ—Ä sandbox.</p>
    </div>
  </div>
</div>

<footer class="site-footer">
  <div class="footer-inner">
    <div class="col brand">
      <div class="brand-line"><span class="emoji">üåæ</span><strong>EDLab</strong></div>
      <p>–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ñ —Ç–∞ –∫–æ—É—á-—Ç—Ä–µ–Ω—ñ–Ω–≥–∏.</p>
    </div>
    <div class="col legal">
      <h3>–ü—Ä–∞–≤–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h3>
      <p>¬© 2025 <b>–°–µ—Ä–≥—ñ–π –ü–û–õ–Ü–©–£–ö</b>. –ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∑–∞—Ö–∏—â–µ–Ω—ñ –∞–≤—Ç–æ—Ä—Å—å–∫–∏–º –ø—Ä–∞–≤–æ–º.</p>
    </div>
    <div class="col links">
      <h3>–û—Ñ—ñ—Ü—ñ–π–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏</h3>
      <ul>
        <li><a href="index.html">–ì–æ–ª–æ–≤–Ω–∞ EDLab</a></li>
        <li><a href="https://www.serawww.pp.ua" target="_blank" rel="noopener">serawww.pp.ua</a></li>
        <li><a href="https://www.facebook.com/coach.Sergiy" target="_blank" rel="noopener">facebook.com/coach.Sergiy</a></li>
      </ul>
    </div>
  </div>
  <div class="footer-bottom"><span>–ó—Ä–æ–±–ª–µ–Ω–æ –∑ —Ç—É—Ä–±–æ—Ç–æ—é –ø—Ä–æ –∑—Ä—É—á–Ω—ñ—Å—Ç—å –≤–∏–∫–ª–∞–¥–∞—á–∞ —ñ —Å—Ç—É–¥–µ–Ω—Ç–∞</span></div>
</footer>

<script>
// –£—Ç–∏–ª—ñ—Ç–∏
const $ = (s)=>document.querySelector(s);
const byId = (id)=>document.getElementById(id);
const params = new URLSearchParams(location.search);
const SPEC = (params.get('spec')||'coach').toLowerCase();

// –ë–∞–∑–æ–≤—ñ (—Å—Ç–∞—Ç–∏—á–Ω—ñ) –¥–∞–Ω—ñ –¥–ª—è –ø—Ä–æ—Ñ—ñ–ª—å–Ω–∏—Ö —Ä–æ–∑–¥—ñ–ª—ñ–≤
const DATA = {
  agro: {
    title: "üåæ –ê–≥—Ä–æ–Ω–æ–º—ñ—è",
    desc: "–ü–æ–ª—å–æ–≤—ñ –∂—É—Ä–Ω–∞–ª–∏, –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è, –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥–∏, QR/NFC.",
    list: [
      {n:1,  title:"–ü–∞—Ä–∞ 1 ‚Äî –¢–µ—Ä–º–æ–ø—Ä–∏–Ω—Ç–µ—Ä 58 –º–º –¥–ª—è –∞–≥—Ä–æ–Ω–æ–º–∞", url:"agro_II_kyrs/agro_para1.html",  desc:"–®–∞–±–ª–æ–Ω–∏ –ø–æ–ª—å–æ–≤–∏—Ö –∫–≤–∏—Ç–∫—ñ–≤: –∑–∞–≤–¥–∞–Ω–Ω—è, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏, QR/NFC."},
      {n:2,  title:"–ü–∞—Ä–∞ 2 ‚Äî –û–±–ª—ñ–∫ –Ω–∞—Å—ñ–Ω–Ω—è —Ç–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤",     url:"agro_II_kyrs/agro_para2.html",  desc:"–°–∫–ª–∞–¥ –Ω–∞—Å—ñ–Ω–Ω—è/–ó–ó–†; –ø–∞—Ä—Ç—ñ—ó, –∑–∞–ª–∏—à–∫–∏, –≤–∏–¥–∞—á–∞; CSV+QR."},
      {n:3,  title:"–ü–∞—Ä–∞ 3 ‚Äî –í—ñ–¥–±—ñ—Ä “ë—Ä—É–Ω—Ç–æ–≤–∏—Ö –ø—Ä–æ–±",           url:"agro_II_kyrs/agro_para3.html",  desc:"–ü–ª–∞–Ω —Å—ñ—Ç–∫–∏, –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è –ø—Ä–æ–±, –∂—É—Ä–Ω–∞–ª GPS-—Ç–æ—á–æ–∫."},
      {n:4,  title:"–ü–∞—Ä–∞ 4 ‚Äî –ü–æ–ª—å–æ–≤–∏–π –æ–≥–ª—è–¥ (scouting)",       url:"agro_II_kyrs/agro_para4.html",  desc:"–ß–µ–∫-–ª–∏—Å—Ç —à–∫—ñ–¥–Ω–∏–∫—ñ–≤/—Ö–≤–æ—Ä–æ–±, —Ñ–æ—Ç–æ-–ø–æ—Å–∏–ª–∞–Ω–Ω—è, —Å–µ—Ä–π–æ–∑–Ω—ñ—Å—Ç—å."},
      {n:5,  title:"–ü–∞—Ä–∞ 5 ‚Äî –ü–ª–∞–Ω –≤–Ω–µ—Å–µ–Ω–Ω—è –¥–æ–±—Ä–∏–≤",            url:"agro_II_kyrs/agro_para5.html",  desc:"–ù–æ—Ä–º–∏ NPK, –º—ñ—à–∫–∏/—Ç–æ–Ω–Ω–∏, –ª–æ–≥—ñ—Å—Ç–∏–∫–∞, –Ω–∞–∫–ª–∞–¥–Ω—ñ 58 –º–º."},
      {n:6,  title:"–ü–∞—Ä–∞ 6 ‚Äî –ó—Ä–æ—à–µ–Ω–Ω—è: –≥—Ä–∞—Ñ—ñ–∫ —Ç–∞ –æ–±–ª—ñ–∫",       url:"agro_II_kyrs/agro_para6.html",  desc:"–ü–ª–∞–Ω –ø–æ–ª–∏–≤—É, –ª—ñ—á–∏–ª—å–Ω–∏–∫–∏, –¥–µ—Ñ—ñ—Ü–∏—Ç –≤–æ–ª–æ–≥–∏, –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è."},
      {n:7,  title:"–ü–∞—Ä–∞ 7 ‚Äî –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –±—É—Ä‚Äô—è–Ω—ñ–≤ —ñ –ó–ó–†",       url:"agro_II_kyrs/agro_para7.html",  desc:"–û–±–ª—ñ–∫ –∑–∞—Å–º—ñ—á–µ–Ω–Ω—è/—Ñ–∞–∑–∏; –≤–∏–±—ñ—Ä –ø—Ä–æ—Ç–æ–∫–æ–ª—É –ó–ó–†; –±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å."},
      {n:8,  title:"–ü–∞—Ä–∞ 8 ‚Äî –û—Ü—ñ–Ω–∫–∞ —Å—Ç–∞–Ω—É –ø–æ—Å—ñ–≤—ñ–≤",            url:"agro_II_kyrs/agro_para8.html",  desc:"–í–∏—Å–æ—Ç–∞/—â—ñ–ª—å–Ω—ñ—Å—Ç—å, —ñ–Ω–¥–µ–∫—Å–∏, –ø–æ–∑–Ω–∞—á–∫–∏ –ø–æ –ø–æ–ª—é, –≤–∏—Å–Ω–æ–≤–æ–∫."},
      {n:9,  title:"–ü–∞—Ä–∞ 9 ‚Äî –ü—Ä–æ–≥–Ω–æ–∑ —É—Ä–æ–∂–∞–π–Ω–æ—Å—Ç—ñ",              url:"agro_II_kyrs/agro_para9.html",  desc:"–ö–≤–∞–¥—Ä–∞—Ç–∏ –≤–∏–±—ñ—Ä–∫–∏, –º–∞—Å–∞ 1000 –Ω–∞—Å—ñ–Ω–∏–Ω, –º–æ–¥–µ–ª—å –ø—Ä–æ–≥–Ω–æ–∑—É."},
      {n:10, title:"–ü–∞—Ä–∞ 10 ‚Äî –õ–æ–≥—ñ—Å—Ç–∏–∫–∞ –∂–Ω–∏–≤",                  url:"agro_II_kyrs/agro_para10.html", desc:"–ß–µ—Ä–≥–∏ –∫–æ–º–±–∞–π–Ω—ñ–≤/–∞–≤—Ç–æ, —Ç–∞–ª–æ–Ω–∏ –≤–∞–≥–∏, —Ç—Ä–µ–∫-–∂—É—Ä–Ω–∞–ª."},
      {n:11, title:"–ü–∞—Ä–∞ 11 ‚Äî –°–∫–ª–∞–¥–∏ —Ç–∞ —è–∫—ñ—Å—Ç—å",                url:"agro_II_kyrs/agro_para11.html", desc:"–í–æ–ª–æ–≥—ñ—Å—Ç—å, –∑–∞—Å–º—ñ—á–µ–Ω—ñ—Å—Ç—å, –ø–∞—Ä—Ç—ñ–π–Ω—ñ—Å—Ç—å, FEFO, –Ω–∞–∫–ª–∞–¥–Ω—ñ."},
      {n:12, title:"–ü–∞—Ä–∞ 12 ‚Äî –ü—Ä–æ–¥–∞–∂—ñ/–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∏",               url:"agro_II_kyrs/agro_para12.html", desc:"–ö–æ–Ω—Ç—Ä–∞–∫—Ç–∏, –≤—ñ–¥–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è, —Ü—ñ–Ω–∏, –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è."},
      {n:13, title:"–ü–∞—Ä–∞ 13 ‚Äî –ü–ª–∞–Ω-—Ñ–∞–∫—Ç –≤–∏—Ç—Ä–∞—Ç",                url:"agro_II_kyrs/agro_para13.html", desc:"–ü–∞–ª–∏–≤–æ/–ó–ó–†/–∑–∞–ø—á–∞—Å—Ç–∏–Ω–∏; –ª—ñ–º—ñ—Ç–∏; –ø—ñ–¥—Å—É–º–æ–∫ –ø–æ –ø–æ–ª—é."},
      {n:14, title:"–ü–∞—Ä–∞ 14 ‚Äî –¢–µ—Ö–Ω—ñ–∫–∞ —Ç–∞ –ü–ü–†",                  url:"agro_II_kyrs/agro_para14.html", desc:"–ì—Ä–∞—Ñ—ñ–∫–∏ –¢–û, –∑–∞—è–≤–∫–∏, –∑–∞–ø–∞—Å–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏, –∂—É—Ä–Ω–∞–ª–∏ —Ä–æ–±—ñ—Ç."},
      {n:15, title:"–ü–∞—Ä–∞ 15 ‚Äî –ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π –¥–∞—à–±–æ—Ä–¥",             url:"agro_II_kyrs/agro_para15.html", desc:"–ó–≤–µ–¥–µ–Ω–Ω—è —Å–µ–∑–æ–Ω—É, KPI, —á–µ–∫-–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ—ó."}
    ]
  },
  mech: {
    title: "üöú –ú–µ—Ö–∞–Ω—ñ–∑–∞—Ü—ñ—è (–º–µ—Ö–∞–Ω—ñ–∫–∏)",
    desc: "–¢–û/–ü–ü–†, –æ–±–ª—ñ–∫ –ø–∞–ª—å–Ω–æ–≥–æ, –∑–∞—è–≤–∫–∏, –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –±–µ–∑–ø–µ–∫–∞.",
    list: [
      {n:1,  title:"–ü–∞—Ä–∞ 1 ‚Äî –û–±–ª—ñ–∫ –ø–∞–ª—å–Ω–æ–≥–æ + —á–µ–∫ 58 –º–º",          url:"mech_II_kyrs/mechanic_para1.html",  desc:"–ó–∞–ø—Ä–∞–≤–∫–∏, –∑–∞–ª–∏—à–∫–∏, –¥—Ä—É–∫ —Ç–∞–ª–æ–Ω—ñ–≤, –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–æ—Ä–º."},
      {n:2,  title:"–ü–∞—Ä–∞ 2 ‚Äî –ñ—É—Ä–Ω–∞–ª —â–æ–¥–µ–Ω–Ω–æ–≥–æ –æ–≥–ª—è–¥—É",             url:"mech_II_kyrs/mechanic_para2.html",  desc:"–û–≥–ª—è–¥ —Ç—Ä–∞–∫—Ç–æ—Ä/–∫–æ–º–±–∞–π–Ω; –∑–∞—É–≤–∞–∂–µ–Ω–Ω—è, —Ñ–æ—Ç–æ-–ø–æ—Å–∏–ª–∞–Ω–Ω—è."},
      {n:3,  title:"–ü–∞—Ä–∞ 3 ‚Äî –ü–ü–†/–¢–û –ø–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫",                 url:"mech_II_kyrs/mechanic_para3.html",  desc:"–Ü–Ω—Ç–µ—Ä–≤–∞–ª–∏, –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è, –ø–µ—Ä–µ–ª—ñ–∫ —Ä–æ–±—ñ—Ç, –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ."},
      {n:4,  title:"–ü–∞—Ä–∞ 4 ‚Äî –ó–∞—è–≤–∫–∏ –Ω–∞ —Ä–µ–º–æ–Ω—Ç/–∑–∞–ø—á–∞—Å—Ç–∏–Ω–∏",         url:"mech_II_kyrs/mechanic_para4.html",  desc:"–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏, —Å–∫–ª–∞–¥, —Å—Ç–∞—Ç—É—Å–∏, –∑–≤—ñ—Ç–Ω—ñ—Å—Ç—å."},
      {n:5,  title:"–ü–∞—Ä–∞ 5 ‚Äî –í–∏—Ç—Ä–∞—Ç–∏ —Ç–∞ –Ω–æ—Ä–º–∏ –ø–∞–ª—å–Ω–æ–≥–æ",           url:"mech_II_kyrs/mechanic_para5.html",  desc:"–ü–ª–∞–Ω-—Ñ–∞–∫—Ç, –≥–µ–∫—Ç–∞—Ä/–∫–º, –ø–µ—Ä–µ–≤–∏—Ç—Ä–∞—Ç–∏, –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è."},
      {n:6,  title:"–ü–∞—Ä–∞ 6 ‚Äî –ú–∞—Ä—à—Ä—É—Ç–∏ —Ç–∞ —Ä–æ–±–æ—á–∏–π —á–∞—Å",             url:"mech_II_kyrs/mechanic_para6.html",  desc:"–ó–º—ñ–Ω–∏, –ø—Ä–æ—Å—Ç–æ—ó, –º–∞—Ä—à—Ä—É—Ç–Ω—ñ –ª–∏—Å—Ç–∏, –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å."},
      {n:7,  title:"–ü–∞—Ä–∞ 7 ‚Äî –ì—ñ–¥—Ä–∞–≤–ª—ñ–∫–∞/–µ–ª–µ–∫—Ç—Ä–∏–∫–∞ ‚Äî –∑–∞–º—ñ—Ä–∏",       url:"mech_II_kyrs/mechanic_para7.html",  desc:"–ü—Ä–æ—Ç–æ–∫–æ–ª –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å —Ç–∏—Å–∫—É/–Ω–∞–ø—Ä. –∑ —Ñ–æ—Ä–º–∞–º–∏ —Ç–∞ QR."},
      {n:8,  title:"–ü–∞—Ä–∞ 8 ‚Äî –ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è/–∫—Ä—É—Ç–Ω–∏–π –º–æ–º–µ–Ω—Ç",         url:"mech_II_kyrs/mechanic_para8.html",  desc:"–¢–∞–±–ª–∏—Ü—ñ –º–æ–º–µ–Ω—Ç—ñ–≤, —à–∞–±–ª–æ–Ω–∏ –∞–∫—Ç—ñ–≤, –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è."},
      {n:9,  title:"–ü–∞—Ä–∞ 9 ‚Äî –¢–µ—Ö–Ω—ñ–∫–∞ –≤ –ø–æ–ª—ñ (–ª–æ–≥)",                url:"mech_II_kyrs/mechanic_para9.html",  desc:"–ñ—É—Ä–Ω–∞–ª –∑–º—ñ–Ω, —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ–ª–µ–º/–ø–æ–ª–æ—Å–∞–º–∏, –ø—Ä–æ—Å—Ç–æ—ó."},
      {n:10, title:"–ü–∞—Ä–∞ 10 ‚Äî –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –¥–æ–ø—É—Å–∫–∏",                  url:"mech_II_kyrs/mechanic_para10.html", desc:"–ß–µ–∫-–ª–∏—Å—Ç–∏ –û–ü, —ñ–Ω—Å—Ç—Ä—É–∫—Ç–∞–∂—ñ, –Ω–∞—Ä—è–¥–∏-–¥–æ–ø—É—Å–∫–∏."},
      {n:11, title:"–ü–∞—Ä–∞ 11 ‚Äî –¢–µ–ª–µ–º–∞—Ç–∏–∫–∞: –∞–Ω–∞–ª—ñ–∑ —Ç—Ä–µ–∫—ñ–≤",          url:"mech_II_kyrs/mechanic_para11.html", desc:"–Ü–º–ø–æ—Ä—Ç CSV-—Ç—Ä–µ–∫—ñ–≤, —à–≤–∏–¥–∫—ñ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—ó."},
      {n:12, title:"–ü–∞—Ä–∞ 12 ‚Äî –®–∏–Ω–∏/—Ä–µ—Å—É—Ä—Å",                         url:"mech_II_kyrs/mechanic_para12.html", desc:"–ü—Ä–æ–±—ñ–≥–∏, –∑–Ω–æ—Å–∏, –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏, –ø–ª–∞–Ω –∑–∞–∫—É–ø—ñ–≤–µ–ª—å."},
      {n:13, title:"–ü–∞—Ä–∞ 13 ‚Äî –í–∞—Ä—Ç—ñ—Å—Ç—å —Ä–µ–º–æ–Ω—Ç—É",                    url:"mech_II_kyrs/mechanic_para13.html", desc:"–†–æ–±–æ—Ç–∏/–∑–∞–ø—á–∞—Å—Ç–∏–Ω–∏, –∫–∞–ª—å–∫—É–ª—è—Ü—ñ—è, –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤."},
      {n:14, title:"–ü–∞—Ä–∞ 14 ‚Äî –Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É",         url:"mech_II_kyrs/mechanic_para14.html", desc:"–ö–æ–¥–∏/QR, –≤–∏–¥–∞—á–∞-–ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è, –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ."},
      {n:15, title:"–ü–∞—Ä–∞ 15 ‚Äî –ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π –∑–≤—ñ—Ç —Å–µ–∑–æ–Ω—É",             url:"mech_II_kyrs/mechanic_para15.html", desc:"KPI —Ç–µ—Ö–Ω—ñ–∫–∏, –¢–û, –≤–∏—Ç—Ä–∞—Ç–∏, —Ä—ñ—à–µ–Ω–Ω—è –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Å–µ–∑–æ–Ω."}
    ]
  },
  tech: {
    title: "üêÑ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ü—ñ—ó —Ç–≤–∞—Ä–∏–Ω–Ω–∏—Ü—Ç–≤–∞",
    desc: "HACCP/FSMS, SPC, –ø—Ä–æ—Å—Ç–µ–∂—É–≤–∞–Ω—ñ—Å—Ç—å, –∞—É–¥–∏—Ç, CAPA.",
    list: [
      {n:1,  title:"–ü–∞—Ä–∞ 1 ‚Äî –ü–∞—Å–ø–æ—Ä—Ç –ø—Ä–æ–¥—É–∫—Ç—É + —Ç–µ—Ä–º–æ–¥—Ä—É–∫",         url:"tech_II_kyrs/tech_para1.html",  desc:"–ü–∞—Å–ø–æ—Ä—Ç, –ª–æ—Ç–∏, —á–µ–∫ 58 –º–º –¥–ª—è –µ—Ç–∏–∫–µ—Ç–æ–∫/–µ—Ç–∞–ø—ñ–≤."},
      {n:2,  title:"–ü–∞—Ä–∞ 2 ‚Äî –ú–∞—Ä–∫—É–≤–∞–Ω–Ω—è/—à—Ç—Ä–∏—Ö-–∫–æ–¥–∏/QR",              url:"tech_II_kyrs/tech_para2.html",  desc:"EAN-13/QR –¥–ª—è –ª–æ—Ç—ñ–≤, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, –∂—É—Ä–Ω–∞–ª."},
      {n:3,  title:"–ü–∞—Ä–∞ 3 ‚Äî –ñ—É—Ä–Ω–∞–ª–∏ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞",                   url:"tech_II_kyrs/tech_para3.html",  desc:"–ï—Ç–∞–ø–∏, –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ —Ç–æ—á–∫–∏, –∑–≤–µ–¥–µ–Ω–Ω—è –ø–∞—Ä—Ç—ñ–π."},
      {n:4,  title:"–ü–∞—Ä–∞ 4 ‚Äî –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω/–ø–æ—Ç—É–∂–Ω–æ—Å—Ç–µ–π",           url:"tech_II_kyrs/tech_para4.html",  desc:"–ü–æ—Ç–æ–∫–∏, –≤—É–∑—å–∫—ñ –º—ñ—Å—Ü—è, –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è."},
      {n:5,  title:"–ü–∞—Ä–∞ 5 ‚Äî –ö–æ–Ω—Ç—Ä–æ–ª—å —è–∫–æ—Å—Ç—ñ (–≤—Ö—ñ–¥/–≤–∏—Ö—ñ–¥)",          url:"tech_II_kyrs/tech_para5.html",  desc:"–°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, –≤—ñ–¥–±—ñ—Ä –ø—Ä–æ–±, –ø—Ä–æ—Ç–æ–∫–æ–ª–∏."},
      {n:6,  title:"–ü–∞—Ä–∞ 6 ‚Äî –†–æ–∑—Å—ñ–ª/—Ä–µ—Ü–µ–ø—Ç—É—Ä–∞/–º–∞—Å-–±–∞–ª–∞–Ω—Å",           url:"tech_II_kyrs/tech_para6.html",  desc:"–§–æ—Ä–º—É–ª–∏, –≤—Ç—Ä–∞—Ç–∏, –∑–≤—ñ—Ç –ø–æ –ø–∞—Ä—Ç—ñ—ó."},
      {n:7,  title:"–ü–∞—Ä–∞ 7 ‚Äî –•–æ–ª–æ–¥–æ–≤–∏–π –ª–∞–Ω—Ü—é–≥/–æ—Ö–æ–ª–æ–¥–∂–µ–Ω–Ω—è",          url:"tech_II_kyrs/tech_para7.html",  desc:"T-–ª–æ–≥–µ—Ä–∏, –∫—Ä–∏–≤—ñ –æ—Ö–æ–ª–æ–¥–∂–µ–Ω–Ω—è, –ª—ñ–º—ñ—Ç–∏."},
      {n:8,  title:"–ü–∞—Ä–∞ 8 ‚Äî –ü–∞–∫—É–≤–∞–Ω–Ω—è/–≥–µ—Ä–º–µ—Ç–∏—á–Ω—ñ—Å—Ç—å",               url:"tech_II_kyrs/tech_para8.html",  desc:"–ö—Ä–∏—Ç–µ—Ä—ñ—ó, –≤–∏–ø—Ä–æ–±—É–≤–∞–Ω–Ω—è, –æ–±–ª—ñ–∫ –¥–µ—Ñ–µ–∫—Ç—ñ–≤."},
      {n:9,  title:"–ü–∞—Ä–∞ 9 ‚Äî –ï—Ç–∏–∫–µ—Ç–∫–∞/–∞–ª–µ—Ä–≥–µ–Ω–∏/—Å–∫–ª–∞–¥",               url:"tech_II_kyrs/tech_para9.html",  desc:"–û–ø–∏—Å, –∞–ª–µ—Ä–≥–µ–Ω–∏, –Ω–æ—Ä–º–∏, –∫–æ–Ω—Ç—Ä–æ–ª—å."},
      {n:10, title:"–ü–∞—Ä–∞ 10 ‚Äî –ñ—É—Ä–Ω–∞–ª –Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç–µ–π",              url:"tech_II_kyrs/tech_para10.html", desc:"NCR, –∞–Ω–∞–ª—ñ–∑ –ø—Ä–∏—á–∏–Ω, CAPA-–∑–≤‚Äô—è–∑–∫–∏."},
      {n:11, title:"–ü–∞—Ä–∞ 11 ‚Äî SPC: –∫–∞—Ä—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é",                  url:"tech_II_kyrs/tech_para11.html", desc:"XÃÑ‚ÄìR, –º–µ–∂—ñ, —Å–∏–≥–Ω–∞–ª–∏, Cp/Cpk."},
      {n:12, title:"–ü–∞—Ä–∞ 12 ‚Äî –ê—É–¥–∏—Ç –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫—ñ–≤",                 url:"tech_II_kyrs/tech_para12.html", desc:"–ß–µ–∫-–ª–∏—Å—Ç–∏, –±–∞–ª–∏, —Ä–µ–π—Ç–∏–Ω–≥, –¥—ñ—ó."},
      {n:13, title:"–ü–∞—Ä–∞ 13 ‚Äî SPC+CAPA —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ",                 url:"tech_II_kyrs/tech_para13.html", desc:"–ö–∞—Ä—Ç–∏, Cp/Cpk, NCR, CAPA, –∫–≤–∏—Ç–æ–∫ 58 –º–º, QR/NFC."},
      {n:14, title:"–ü–∞—Ä–∞ 14 ‚Äî –ü—Ä–æ—Å—Ç–µ–∂—É–≤–∞–Ω—ñ—Å—Ç—å & Mock Recall",        url:"tech_II_kyrs/tech_para14.html", desc:"RM‚ÜíFG‚Üí–∫–ª—ñ—î–Ω—Ç, –º–∞—Å-–±–∞–ª–∞–Ω—Å, –∑–≤—ñ—Ç –≤—ñ–¥–∫–ª–∏–∫–∞–Ω–Ω—è."},
      {n:15, title:"–ü–∞—Ä–∞ 15 ‚Äî –ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π HACCP/FSMS",               url:"tech_II_kyrs/tech_para15.html", desc:"–ù–µ–±–µ–∑–ø–µ–∫–∏/CCP, –∞—É–¥–∏—Ç, CAPA, –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ, –∫–≤–∏—Ç–æ–∫, QR/NFC."}
    ]
  }
};

// –î–∏–Ω–∞–º—ñ—á–Ω–∏–π —Ä–æ–∑–¥—ñ–ª coach: –±—É–¥—É—î–º–æ —Å–ø–∏—Å–æ–∫ –Ω–∞ –ª—å–æ—Ç—É
const COACH = {
  title: "üß† –ü—Å–∏—Ö–æ–ª–æ–≥—ñ—á–Ω—ñ —Ç—Ä–µ–Ω—ñ–Ω–≥–∏ (coach)",
  desc: "–ö–æ—É—á–∏–Ω–≥–æ–≤—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏, —Ä–µ—Ñ–ª–µ–∫—Å—ñ—è, soft skills, —Ä–æ–±–æ—Ç–∞ –≤ –≥—Ä—É–ø–∞—Ö.",
  base: "coach/",
  // –∫–∞–Ω–¥–∏–¥–∞—Ç–∏ —ñ–º–µ–Ω —Ñ–∞–π–ª—ñ–≤, —è–∫—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ
  candidates(){
    const arr = [];
    arr.push("coach_intro.html", "index.html"); // —É –ø–∞–ø—Ü—ñ coach/
    for(let i=1;i<=20;i++){
      arr.push(`coach_para${i}.html`);
      arr.push(`session${String(i).padStart(2,'0')}.html`);
      arr.push(`coach${i}.html`);
    }
    return arr.map(name=>COACH.base + name);
  }
};

// –†–µ–Ω–¥–µ—Ä —Å—Ç–æ—Ä—ñ–Ω–∫–∏
function setSpecMetaStatic(specKey){
  const S = DATA[specKey];
  byId('specTitle').textContent = S.title;
  byId('specDesc').textContent  = S.desc;
  byId('listTitle').textContent = S.title + " ‚Äî —É—Ä–æ–∫–∏";
  const html = S.list.map(item=>lessonCard(item)).join("");
  byId('lessons').innerHTML = html;
  const firstUrl = S.list[0]?.url ? absoluteUrl(S.list[0].url) : "";
  byId('url').value = firstUrl; gen();
}

function lessonCard(item){
  const tags = item.tags ? `<div class="tags" style="margin-top:6px">${item.tags.map(t=>`<span class="tag">${t}</span>`).join("")}</div>` : "";
  return `
    <div class="lesson">
      <div class="thumb">üìÑ</div>
      <div class="meta">
        <b>${item.title}</b>
        <small class="mono">${item.url}</small>
        <p class="muted" style="margin-top:4px">${item.desc||""}</p>
        <div class="row" style="margin-top:8px">
          <a class="btn" href="${item.url}" target="_blank" rel="noopener">–í—ñ–¥–∫—Ä–∏—Ç–∏</a>
          <button class="btn secondary js-preview"  type="button" data-url="${item.url}">–®–≤–∏–¥–∫–µ –ø—Ä–µ–≤‚Äô—é</button>
          <button class="btn secondary js-iframe"   type="button" data-url="${item.url}">–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ iFrame</button>
        </div>
        ${tags}
      </div>
    </div>
  `;
}

// –ê–≤—Ç–æ–ø–æ—à—É–∫ coach/
async function buildCoachList(){
  byId('specTitle').textContent = COACH.title;
  byId('specDesc').textContent  = COACH.desc;
  byId('listTitle').textContent = COACH.title + " ‚Äî —Ç—Ä–µ–Ω—ñ–Ω–≥–∏";

  const base = location.origin + location.pathname.replace('spec.html','') + COACH.base;
  const found = [];

  // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∏ HEAD/GET (HEAD –Ω–∞ GH Pages —ñ–Ω–æ–¥—ñ —Ä–µ–¥—ñ—Ä–µ–∫—Ç–∏—Ç—å; GET –±–µ–∑ –∫–µ—à–∞)
  for(const rel of COACH.candidates()){
    const url = rel.startsWith('http') ? rel : (location.origin + location.pathname.replace('spec.html','') + rel);
    try{
      const res = await fetch(url, {method:'GET', cache:'no-store'});
      if(res.ok){
        // —Å–ø—Ä–æ–±—É—î–º–æ –¥—ñ—Å—Ç–∞—Ç–∏ <title>
        let titleTxt = "";
        try{
          const html = await res.text();
          const m = html.match(/<title>([^<]{1,120})<\/title>/i);
          if(m) titleTxt = m[1].trim();
        }catch(_e){}
        // —Ñ–æ—Ä–º—É—î–º–æ –∑–∞–ø–∏—Å
        const name = rel.replace(COACH.base,'');
        const pretty = titleTxt || prettyCoachName(name);
        const desc   = titleTxt ? `–°—Ç–æ—Ä—ñ–Ω–∫–∞: ${name}` : `–°–µ—Å—ñ—è: ${name}`;
        found.push({n:found.length+1, title:pretty, url: rel, desc});
      }
    }catch(_e){
      // –ø—Ä–æ–ø—É—Å–∫–∞—î–º–æ 404/–º–µ—Ä–µ–∂–µ–≤—ñ
    }
  }

  if(!found.length){
    byId('lessons').innerHTML = "";
    byId('coachHint').style.display = '';
    byId('url').value = "";
    gen();
    return;
  }

  // —Ä–µ–Ω–¥–µ—Ä
  byId('lessons').innerHTML = found.map(item=>lessonCard(item)).join("");
  // –¥–µ—Ñ–æ–ª—Ç–Ω–∏–π –≤–∏–±—ñ—Ä —É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ñ
  byId('coachHint').style.display = 'none';
  const firstUrl = absoluteUrl(found[0].url);
  byId('url').value = firstUrl; gen();
}

// –ì—É–º–∞–Ω–Ω–∞ –Ω–∞–∑–≤–∞ –∑ —ñ–º–µ–Ω—ñ —Ñ–∞–π–ª—É
function prettyCoachName(name){
  // –ø—Ä–∏–∫–ª–∞–¥–∏: coach_para3.html ‚Üí "–°–µ—Å—ñ—è 3 ‚Äî coach_para3"
  //           session05.html   ‚Üí "–°–µ—Å—ñ—è 5 ‚Äî session05"
  //           coach_intro.html ‚Üí "–í—Å—Ç—É–ø ‚Äî coach_intro"
  const base = name.replace(/\.html$/i,'');
  let label = base;
  const m1 = base.match(/coach_para(\d+)/i);
  const m2 = base.match(/session(\d+)/i);
  if(/intro/i.test(base)) label = "–í—Å—Ç—É–ø ‚Äî " + base;
  else if(m1) label = `–°–µ—Å—ñ—è ${m1[1]} ‚Äî ${base}`;
  else if(m2) label = `–°–µ—Å—ñ—è ${Number(m2[1])} ‚Äî ${base}`;
  else if(/^coach\d+$/i.test(base)){
    const n = base.match(/\d+/)[0];
    label = `–°–µ—Å—ñ—è ${n} ‚Äî ${base}`;
  }
  return label;
}

// –ü—Ä–µ–≤‚Äô—é + –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
function absoluteUrl(relative){
  const base = location.origin + location.pathname.replace('spec.html','');
  return relative.startsWith('http') ? relative : base + relative;
}
function openPreview(u){
  const abs = absoluteUrl(u);
  byId('previewUrl').textContent = abs;
  byId('previewFrame').src = abs;
  byId('previewBox').style.display = '';
  byId('previewNote').style.display = '';
  window.scrollTo({top: byId('previewBox').getBoundingClientRect().top + window.scrollY - 20, behavior:'smooth'});
}
function closePreview(){
  byId('previewFrame').src = 'about:blank';
  byId('previewBox').style.display = 'none';
  byId('previewNote').style.display = 'none';
}
function gen(){
  const url = byId('url').value.trim();
  const h   = parseInt(byId('height').value,10) || 1600;
  const sb  = byId('sandbox').value.trim();
  const html =
`<div style="max-width:980px;margin:0 auto;position:relative;z-index:1;">
  <iframe
    src="${url}"
    style="width:100%;height:${h}px;border:0;display:block;pointer-events:auto;background:#fff;"
    loading="eager"
    referrerpolicy="no-referrer"
    sandbox="${sb}">
  </iframe>
</div>`;
  byId('code').value = html;
}
function copyCode(){
  const ta = byId('code');
  ta.select(); ta.setSelectionRange(0, ta.value.length);
  document.execCommand('copy');
  const old = document.title;
  document.title = '‚úÖ HTML —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ';
  setTimeout(()=>document.title = old, 900);
}

// –ü–æ–¥—ñ—ó
document.addEventListener('click', (e)=>{
  const previewBtn = e.target.closest('.js-preview');
  if(previewBtn){
    const u = previewBtn.dataset.url;
    openPreview(u);
    return;
  }
  const iframeBtn = e.target.closest('.js-iframe');
  if(iframeBtn){
    const u = absoluteUrl(iframeBtn.dataset.url);
    byId('url').value = u;
    gen();
    openPreview(u);
    return;
  }
  if(e.target.id==='closePrev'){ closePreview(); }
  if(e.target.id==='toGen'){ byId('generator').scrollIntoView({behavior:'smooth',block:'start'}); }
  if(e.target.id==='btnGen'){ gen(); }
  if(e.target.id==='btnCopy'){ copyCode(); }
});

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
(async function init(){
  if (window.self !== window.top) document.documentElement.classList.add('embedded'); // Moodle friendly
  if(SPEC==='coach'){
    await buildCoachList();
  }else if(['agro','mech','tech'].includes(SPEC)){
    setSpecMetaStatic(SPEC);
  }else{
    //fallback ‚Üí coach
    await buildCoachList();
  }
})();
</script>
</body>
</html>
