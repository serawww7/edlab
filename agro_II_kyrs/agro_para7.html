<!-- –ü–ê–†–ê 7 (–∞—É–¥–∏—Ç–æ—Ä–Ω–æ) –¥–ª—è –∞–≥—Ä–æ–Ω–æ–º—ñ–≤
     –¢–µ–º–∞: “ê–†–£–ù–¢–û–í–Ü –ó–†–ê–ó–ö–ò ‚Äî pH, EC, NPK(—à–≤–∏–¥–∫—ñ —Ç–µ—Å—Ç–∏) ‚Üí —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –≤–Ω–µ—Å–µ–Ω–Ω—è
     –§–æ–∫—É—Å: —Ç–µ–ª–µ—Ñ–æ–Ω–∏/–ü–ö, –ª–æ–∫–∞–ª—å–Ω–æ; –∑—Ä—É—á–Ω–∏–π –≤–≤—ñ–¥ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –∑—Ä–∞–∑–∫—ñ–≤, –º–∏—Ç—Ç—î–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —Ç–∞ CSV.
     –í–ê–ñ–õ–ò–í–û (–∫–æ–Ω—Ç—Ä–∞—Å—Ç): –¥–ª—è –≤—Å—ñ—Ö —Ç–µ–º–Ω–∏—Ö –∫–ª—ñ—Ç–∏–Ω–æ–∫ –ø—Ä–∏–º—É—Å–æ–≤–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Å–≤—ñ—Ç–ª–∏–π —Ç–µ–∫—Å—Ç.
     –ì–æ—Ç–æ–≤–æ –¥–ª—è GitHub Pages / iFrame —É Moodle. --><!DOCTYPE html><html lang="uk"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>–ü–∞—Ä–∞ 7 ‚Äî “ê—Ä—É–Ω—Ç–æ–≤—ñ –∑—Ä–∞–∑–∫–∏: pH ¬∑ EC ¬∑ NPK ‚Üí —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó</title>
<meta name="color-scheme" content="light dark">
<style>
  :root{
    --bg:#0b1220; --card:#0f172a; --muted:#94a3b8; --text:#e2e8f0;
    --accent:#22c55e; --accent-2:#60a5fa; --warn:#f59e0b; --bad:#ef4444; --good:#10b981; --line:#1f2937;
    --darkcell:#0b1324; --darkink:#e6eef9; --darkink2:#e5e7eb;
  }
  *{box-sizing:border-box}
  body{
    margin:0; background:linear-gradient(180deg,#0b1220,#111827 30%,#0b1220);
    color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif; line-height:1.55
  }
  .wrap{max-width:1080px; margin:0 auto; padding:24px 16px 64px}
  .badge{display:inline-block; padding:6px 10px; border:1px solid var(--line); background:#0b1220; border-radius:999px; font-size:12px; color:var(--muted); letter-spacing:.3px}
  h1{font-size:34px; margin:6px 0 12px; line-height:1.15;
     background:linear-gradient(90deg,#60a5fa,#22c55e); -webkit-background-clip:text; -webkit-text-fill-color:transparent}
  h2{font-size:22px; margin:28px 0 12px}
  h3{font-size:18px; margin:20px 0 8px; color:#cbd5e1}
  p{margin:10px 0}
  .muted{color:#93a3b5}
  .small{font-size:12px; color:#9fb0c8}

  .card{
    background:linear-gradient(180deg,#0f172a,#0b1220); border:1px solid var(--line); border-radius:16px; padding:16px; margin:12px 0;
    box-shadow:0 6px 24px rgba(0,0,0,.25)
  }
  .grid{display:grid; gap:12px}
  .g2{grid-template-columns:repeat(2,minmax(0,1fr))}
  .g3{grid-template-columns:repeat(3,minmax(0,1fr))}
  @media (max-width:980px){.g2,.g3{grid-template-columns:1fr}}

  .btn{display:inline-block; padding:10px 14px; border-radius:10px; border:1px solid #223049; background:#0d1a2e; color:#dbeafe; text-decoration:none; cursor:pointer}
  .btn:hover{background:#0f1f39}
  .pill{display:inline-block; padding:4px 10px; border:1px solid #223049; border-radius:999px; font-size:12px; color:#a5b4fc; background:#0d1a2e; margin-right:6px}
  .mono,code{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}

  .box{border:1px solid #223049; border-radius:12px; padding:12px; background:var(--darkcell); color:var(--darkink)}
  .ok{color:var(--good)} .warn{color:var(--warn)} .bad{color:var(--bad)}

  .table{width:100%; border-collapse:separate; border-spacing:0; overflow:auto; border-radius:12px; border:1px solid #223049}
  .table th,.table td{padding:8px 10px; border-bottom:1px solid #1f2937; font-size:14px; vertical-align:top}
  .table thead th{background:#0c1629; color:#a5b4fc; text-align:left; position:sticky; top:0}
  .table tbody tr:nth-child(even){background:var(--darkcell); color:var(--darkink2)} /* –ö–û–ù–¢–†–ê–°–¢ –î–õ–Ø –¢–ï–ú–ù–ò–• –†–Ø–î–ö–Ü–í */
  .table td.dark, .table th.dark{background:var(--darkcell) !important; color:var(--darkink2) !important} /* –ö–û–ù–¢–†–ê–°–¢ –î–õ–Ø –¢–ï–ú–ù–ò–• –ö–û–ú–Ü–†–û–ö */
  .table td .tag{display:inline-block; padding:3px 8px; border-radius:999px; border:1px solid #223049; background:#0d1a2e; color:#dbeafe; font-size:12px}

  /* –í—Ö—ñ–¥–Ω—ñ –ø–æ–ª—è –Ω–∞ —Ç–µ–º–Ω–æ–º—É —Ñ–æ–Ω—ñ ‚Äî —Å–≤—ñ—Ç–ª–∏–π —Ç–µ–∫—Å—Ç */
  input[type="text"], input[type="number"], input[type="date"], select, textarea{
    width:100%; padding:8px 10px; border-radius:10px; border:1px solid #223049; background:#0d1a2e; color:#e6eef9
  }

  .out{background:var(--darkcell); color:var(--darkink2); border:1px dashed #263042; padding:10px 12px; border-radius:10px; word-break:break-all}
  .row{display:flex; gap:10px; flex-wrap:wrap}

  /* –í–±—É–¥–æ–≤–∞–Ω–æ (iframe) ‚Üí —Å—Ç—Ä–∏–º–∞–Ω–∏–π –≤–∏–≥–ª—è–¥ –Ω–∞ —Å–≤—ñ—Ç–ª–æ–º—É */
  html.embedded body{background:#fff; color:#111}
  html.embedded .card{background:#fff; border:1px solid #e5e7eb; box-shadow:none}
  html.embedded h1{-webkit-text-fill-color:initial; background:none; color:#111}
  html.embedded .btn{background:#111827; color:#fff; border-color:#111827}
  html.embedded .box{background:#f8fafc; color:#111}
  html.embedded .table tbody tr:nth-child(even){background:#f3f4f6; color:#111}
</style>
<meta name="description" content="–ó–∞ –ø–∞—Ä—É —Å—Ç—É–¥–µ–Ω—Ç–∏ –∑–±–µ—Ä—É—Ç—å –¥–∞–Ω—ñ –ø–æ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –∑—Ä–∞–∑–∫–∞—Ö (–∫–æ–¥ –ø–æ–ª—è, pH, EC, N, P, K –∑–∞ —à–≤–∏–¥–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏), –æ—Ç—Ä–∏–º–∞—é—Ç—å –º–∏—Ç—Ç—î–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ –≤–∞–ø–Ω—É–≤–∞–Ω–Ω—é —Ç–∞ NPK (–Ω–∞"><link rel="canonical" href="https://edlab.pp.ua/agro_II_kyrs/agro_para7.html"><meta property="og:type" content="article"><meta property="og:title" content="üß™ “ê—Ä—É–Ω—Ç–æ–≤—ñ –∑—Ä–∞–∑–∫–∏: pH, EC, NPK(—à–≤–∏–¥–∫—ñ —Ç–µ—Å—Ç–∏) ‚Üí –±–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –≤–Ω–µ—Å–µ–Ω–Ω—è"><meta property="og:description" content="–ó–∞ –ø–∞—Ä—É —Å—Ç—É–¥–µ–Ω—Ç–∏ –∑–±–µ—Ä—É—Ç—å –¥–∞–Ω—ñ –ø–æ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –∑—Ä–∞–∑–∫–∞—Ö (–∫–æ–¥ –ø–æ–ª—è, pH, EC, N, P, K –∑–∞ —à–≤–∏–¥–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏), –æ—Ç—Ä–∏–º–∞—é—Ç—å –º–∏—Ç—Ç—î–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ –≤–∞–ø–Ω—É–≤–∞–Ω–Ω—é —Ç–∞ NPK (–Ω–∞"><meta property="og:url" content="https://edlab.pp.ua/agro_II_kyrs/agro_para7.html"><script type="application/ld+json">{"@context":"https://schema.org","@type":"LearningResource","name":"üß™ “ê—Ä—É–Ω—Ç–æ–≤—ñ –∑—Ä–∞–∑–∫–∏: pH, EC, NPK(—à–≤–∏–¥–∫—ñ —Ç–µ—Å—Ç–∏) ‚Üí –±–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –≤–Ω–µ—Å–µ–Ω–Ω—è","description":"–ó–∞ –ø–∞—Ä—É —Å—Ç—É–¥–µ–Ω—Ç–∏ –∑–±–µ—Ä—É—Ç—å –¥–∞–Ω—ñ –ø–æ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –∑—Ä–∞–∑–∫–∞—Ö (–∫–æ–¥ –ø–æ–ª—è, pH, EC, N, P, K –∑–∞ —à–≤–∏–¥–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏), –æ—Ç—Ä–∏–º–∞—é—Ç—å –º–∏—Ç—Ç—î–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ –≤–∞–ø–Ω—É–≤–∞–Ω–Ω—é —Ç–∞ NPK (–Ω–∞","inLanguage":"uk","educationalLevel":"college","url":"https://edlab.pp.ua/agro_II_kyrs/agro_para7.html","provider":{"@type":"Organization","name":"EDLab"}}</script></head>
<body>
  <div class="wrap">
    <span class="badge">–ü–∞—Ä–∞ 7 ¬∑ –∞—É–¥–∏—Ç–æ—Ä–Ω–æ ¬∑ –∞–≥—Ä–æ–Ω–æ–º–∏</span>
    <h1>üß™ “ê—Ä—É–Ω—Ç–æ–≤—ñ –∑—Ä–∞–∑–∫–∏: pH, EC, NPK(—à–≤–∏–¥–∫—ñ —Ç–µ—Å—Ç–∏) ‚Üí –±–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –≤–Ω–µ—Å–µ–Ω–Ω—è</h1>

    <div class="card">
      <h2>üéØ –ú–µ—Ç–∞</h2>
      <p>
        –ó–∞ –ø–∞—Ä—É —Å—Ç—É–¥–µ–Ω—Ç–∏ –∑–±–µ—Ä—É—Ç—å <b>–¥–∞–Ω—ñ –ø–æ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –∑—Ä–∞–∑–∫–∞—Ö</b> (–∫–æ–¥ –ø–æ–ª—è, pH, EC, N, P, K –∑–∞ —à–≤–∏–¥–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏),
        –æ—Ç—Ä–∏–º–∞—é—Ç—å <b>–º–∏—Ç—Ç—î–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó</b> –ø–æ –≤–∞–ø–Ω—É–≤–∞–Ω–Ω—é —Ç–∞ NPK (–Ω–∞–≤—á–∞–ª—å–Ω–∞ —Å–ø—Ä–æ—â–µ–Ω–∞ –º–æ–¥–µ–ª—å), –∞ —Ç–∞–∫–æ–∂ —Å—Ñ–æ—Ä–º—É—é—Ç—å <b>CSV</b> –¥–ª—è Sheets.
      </p>
      <p class="small">–ú–æ–¥–µ–ª—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π ‚Äî –Ω–∞–≤—á–∞–ª—å–Ω–∞, –∑ –ø—Ä–æ—Å—Ç–∏–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏. –£ —Ä–µ–∞–ª—å–Ω–æ–º—É –≥–æ—Å–ø–æ–¥–∞—Ä—Å—Ç–≤—ñ –∫–æ—Ä–∏–≥—É–≤–∞—Ç–∏ –∑–∞ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–º–∏ –∞–≥—Ä–æ—Ö—ñ–º—ñ—á–Ω–∏–º–∏ –∫–∞—Ä—Ç–∞–º–∏ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è–º–∏ –≤–∏—Ä–æ–±–Ω–∏–∫—ñ–≤ –¥–æ–±—Ä–∏–≤.</p>
    </div>

    <!-- –ü–ê–†–ê–ú–ï–¢–†–ò –ö–£–õ–¨–¢–£–†–ò / –¶–Ü–õ–¨–û–í–Ü –ó–ù–ê–ß–ï–ù–ù–Ø -->
    <div class="card">
      <h2>üåæ –ö—É–ª—å—Ç—É—Ä–∞/—Ü—ñ–ª—ñ</h2>
      <div class="grid g3">
        <div class="box">
          <h3>–ö—É–ª—å—Ç—É—Ä–∞ —Ç–∞ —Ü—ñ–ª—å–æ–≤–∏–π pH</h3>
          <label>–ö—É–ª—å—Ç—É—Ä–∞</label>
          <input id="crop" type="text" value="–ü—à–µ–Ω–∏—Ü—è –æ–∑–∏–º–∞">
          <label style="margin-top:8px">–¶—ñ–ª—å–æ–≤–∏–π pH (H2O)</label>
          <input id="phTarget" type="number" step="0.1" value="6.2">
          <p class="small">–¢–∏–ø–æ–≤—ñ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏ (–Ω–∞–≤—á–∞–ª—å–Ω–æ): –ø—à–µ–Ω–∏—Ü—è 6.0‚Äì7.0; –∫—É–∫—É—Ä—É–¥–∑–∞ 6.0‚Äì6.8; —Ä—ñ–ø–∞–∫ 6.2‚Äì7.0.</p>
        </div>
        <div class="box">
          <h3>–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω—ñ –ø–æ—Ä–æ–≥–∏ NPK (—Ä—ñ–≤–Ω—ñ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–æ—Å—Ç—ñ)</h3>
          <p class="small">–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —É–º–æ–≤–Ω—ñ –ø–æ—Ä–æ–≥–∏ –¥–ª—è —à–≤–∏–¥–∫–∏—Ö —Ç–µ—Å—Ç—ñ–≤ (ppm):</p>
          <table class="table">
            <thead><tr><th class="dark">–ü–æ–∂–∏–≤–Ω.</th><th class="dark">–ù–∏–∑—å–∫–∏–π</th><th class="dark">–°–µ—Ä–µ–¥–Ω—ñ–π</th><th class="dark">–í–∏—Å–æ–∫–∏–π</th></tr></thead>
            <tbody>
              <tr><td class="dark">N(NO‚ÇÉ)</td><td class="dark">0‚Äì10</td><td class="dark">11‚Äì25</td><td class="dark">26+</td></tr>
              <tr><td class="dark">P‚ÇÇO‚ÇÖ</td><td class="dark">0‚Äì15</td><td class="dark">16‚Äì30</td><td class="dark">31+</td></tr>
              <tr><td class="dark">K‚ÇÇO</td><td class="dark">0‚Äì80</td><td class="dark">81‚Äì150</td><td class="dark">151+</td></tr>
            </tbody>
          </table>
        </div>
        <div class="box">
          <h3>–ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π</h3>
          <p class="small">–°–ø—Ä–æ—â–µ–Ω–∞ –≤–∏–¥–∞—á–∞ –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è (–∫–≥/–≥–∞ –¥—ñ—é—á–æ—ó —Ä–µ—á–æ–≤–∏–Ω–∏):</p>
          <ul class="small">
            <li>N: –Ω–∏–∑—å–∫–∏–π ‚Üí 90; —Å–µ—Ä–µ–¥–Ω—ñ–π ‚Üí 60; –≤–∏—Å–æ–∫–∏–π ‚Üí 30</li>
            <li>P‚ÇÇO‚ÇÖ: –Ω–∏–∑—å–∫–∏–π ‚Üí 70; —Å–µ—Ä–µ–¥–Ω—ñ–π ‚Üí 40; –≤–∏—Å–æ–∫–∏–π ‚Üí 0</li>
            <li>K‚ÇÇO: –Ω–∏–∑—å–∫–∏–π ‚Üí 80; —Å–µ—Ä–µ–¥–Ω—ñ–π ‚Üí 40; –≤–∏—Å–æ–∫–∏–π ‚Üí 0</li>
          </ul>
          <p class="small">–í–∞–ø–Ω—É–≤–∞–Ω–Ω—è (CaCO‚ÇÉ): —è–∫—â–æ pH –Ω–∏–∂—á–µ —Ü—ñ–ª—ñ –Ω–∞ 0.3‚Äì0.7 ‚Üí 1‚Äì2 —Ç/–≥–∞; –Ω–∏–∂—á–µ –Ω–∞ ‚â•0.8 ‚Üí 2‚Äì4 —Ç/–≥–∞ (–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≥—Ä–∞–Ω—É–ª–æ–º–µ—Ç—Ä—ñ—ó, –∑–∞ –ø–æ–≥–æ–¥–∂–µ–Ω–Ω—è–º –∑ –∞–≥—Ä–æ—Ö—ñ–º—ñ–∫–æ–º).</p>
        </div>
      </div>
    </div>

    <!-- –¢–ê–ë–õ–ò–¶–Ø –ó–†–ê–ó–ö–Ü–í -->
    <div class="card">
      <h2>üß´ –ó—Ä–∞–∑–∫–∏ “ë—Ä—É–Ω—Ç—É (–≤–≤—ñ–¥ –¥–∞–Ω–∏—Ö)</h2>
      <div class="row">
        <button class="btn" type="button" onclick="addRow()">‚ûï –î–æ–¥–∞—Ç–∏ –∑—Ä–∞–∑–æ–∫</button>
        <button class="btn" type="button" onclick="recalc()">üîÅ –ü–µ—Ä–µ—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
        <button class="btn" type="button" onclick="copyCSV()">üìã –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ CSV</button>
      </div>
      <div style="overflow:auto; margin-top:8px">
        <table class="table" id="tbl">
          <thead>
            <tr>
              <th>#</th>
              <th>–ü–æ–ª–µ (–∫–æ–¥)</th>
              <th>–ó—Ä–∞–∑–æ–∫</th>
              <th>–î–∞—Ç–∞</th>
              <th>–¢–µ–∫—Å—Ç—É—Ä–∞</th>
              <th>pH</th>
              <th>EC, dS/m</th>
              <th>N (ppm)</th>
              <th>P‚ÇÇO‚ÇÖ (ppm)</th>
              <th>K‚ÇÇO (ppm)</th>
              <th class="dark">–†—ñ–≤–Ω—ñ</th>
              <th class="dark">–†–µ–∫–æ–º., –∫–≥/–≥–∞<br>N | P‚ÇÇO‚ÇÖ | K‚ÇÇO</th>
              <th class="dark">–í–∞–ø–Ω—É–≤–∞–Ω–Ω—è</th>
              <th>–ö–æ–º–µ–Ω—Ç–∞—Ä</th>
            </tr>
          </thead>
          <tbody id="body">
            <!-- –∑—Ä–∞–∑–æ–∫-–ø—Ä–∏–∫–ª–∞–¥ -->
          </tbody>
        </table>
      </div>
      <div id="csv" class="out" style="margin-top:8px">‚Äî</div>
      <p class="small">–§–æ—Ä–º–∞—Ç CSV: <span class="mono"># | –ü–æ–ª–µ | –ó—Ä–∞–∑–æ–∫ | –î–∞—Ç–∞ | –¢–µ–∫—Å—Ç—É—Ä–∞ | pH | EC | Nppm | Pppm | Kppm | –†—ñ–≤–Ω—ñ | –†–µ–∫–æ–º.(N,P‚ÇÇO‚ÇÖ,K‚ÇÇO) | –í–∞–ø–Ω—É–≤–∞–Ω–Ω—è | –ö–æ–º–µ–Ω—Ç–∞—Ä</span></p>
      <p class="small">‚ö†Ô∏è –ö–æ–Ω—Ç—Ä–∞—Å—Ç –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ: —Ç–µ–º–Ω—ñ –∫–æ–º—ñ—Ä–∫–∏ ‚Äî –∑—ñ —Å–≤—ñ—Ç–ª–∏–º —Ç–µ–∫—Å—Ç–æ–º.</p>
    </div>

    <!-- –•–Ü–î –†–û–ë–û–¢–ò -->
    <div class="card">
      <h2>ü™ú –•—ñ–¥ —Ä–æ–±–æ—Ç–∏ (45‚Äì70 —Ö–≤)</h2>
      <ol>
        <li>–ó –∫–æ–∂–Ω–æ—ó –±—Ä–∏–≥–∞–¥–∏ ‚Äî –º—ñ–Ω—ñ–º—É–º 2 –∑—Ä–∞–∑–∫–∏ (—Ä–µ–∞–ª—å–Ω—ñ –∞–±–æ –Ω–∞–≤—á–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ). –ó–∞–ø–æ–≤–Ω–∏ —Ç–∞–±–ª–∏—Ü—é.</li>
        <li>–ù–∞—Ç–∏—Å–Ω–∏ ¬´–ü–µ—Ä–µ—Ä–∞—Ö—É–≤–∞—Ç–∏¬ª ‚Äî –ø–µ—Ä–µ–≥–ª—è–Ω—å —Ä—ñ–≤–Ω—ñ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–æ—Å—Ç—ñ —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó.</li>
        <li>–û–±–≥–æ–≤–æ—Ä–∏ –≤ –≥—Ä—É–ø—ñ –¥–æ—Ü—ñ–ª—å–Ω—ñ—Å—Ç—å –≤–∞–ø–Ω—É–≤–∞–Ω–Ω—è (—Ä—ñ–∑–Ω–∞ —Ç–µ–∫—Å—Ç—É—Ä–∞ ‚Äî —Ä—ñ–∑–Ω—ñ –¥–æ–∑–∏, —É —Ä–µ–∞–ª—ñ ‚Äî –∑–∞ –∞–≥—Ä–æ—Ö—ñ–º–∫–∞—Ä—Ç–æ—é).</li>
        <li>¬´–°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ CSV¬ª ‚Üí –≤—Å—Ç–∞–≤ —É Google Sheets (–∞—Ä–∫—É—à <span class="mono">SoilLab</span>) —Ç–∞ –ø–æ–±—É–¥—É–π –¥—ñ–∞–≥—Ä–∞–º–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω—å.</li>
      </ol>
    </div>

    <!-- –û–¶–Ü–ù–Æ–í–ê–ù–ù–Ø -->
    <div class="card">
      <h2>‚úÖ –û—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è (10 –±–∞–ª—ñ–≤)</h2>
      <table class="table">
        <thead><tr><th>–ö—Ä–∏—Ç–µ—Ä—ñ–π</th><th>–ë–∞–ª–∏</th></tr></thead>
        <tbody>
          <tr><td>–ó–∞–ø–æ–≤–Ω–µ–Ω–æ –º—ñ–Ω. 4 –∑—Ä–∞–∑–∫–∏ –∑ –≤–∞–ª—ñ–¥–Ω–∏–º–∏ pH, EC, NPK</td><td>4</td></tr>
          <tr><td>–ö–æ—Ä–µ–∫—Ç–Ω—ñ —Ä—ñ–≤–Ω—ñ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–æ—Å—Ç—ñ —Ç–∞ –±–∞–∑–æ–≤—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó</td><td>3</td></tr>
          <tr><td>CSV —É Sheets + 2 –¥—ñ–∞–≥—Ä–∞–º–∏</td><td>2</td></tr>
          <tr><td>–ö–æ—Ä–æ—Ç–∫–∏–π –≤–∏—Å–Ω–æ–≤–æ–∫ (3 —Ä–µ—á–µ–Ω–Ω—è)</td><td>1</td></tr>
        </tbody>
      </table>
      <p class="pill">üß™ –®–≤–∏–¥–∫—ñ —Ç–µ—Å—Ç–∏</p><p class="pill">üå°Ô∏è EC</p><p class="pill">üßÇ –í–∞–ø–Ω—É–≤–∞–Ω–Ω—è</p><p class="pill">üìä CSV ‚Üí Sheets</p>
    </div>
  </div>

<script>
  // –†–µ–∂–∏–º ¬´–≤–±—É–¥–æ–≤–∞–Ω–æ¬ª
  (function(){ if (window.self !== window.top) document.documentElement.classList.add('embedded'); })();

  const bodyEl = document.getElementById('body');
  const csvEl  = document.getElementById('csv');

  // –ü–æ—Ä–æ–≥–æ–≤—ñ —Ä—ñ–≤–Ω—ñ (ppm)
  const TH = {
    N: {low:[0,10], mid:[11,25]},          // >25 ‚Äî high
    P: {low:[0,15], mid:[16,30]},          // >30 ‚Äî high
    K: {low:[0,80], mid:[81,150]}          // >150 ‚Äî high
  };

  const RECS = {
    N: {low:90, mid:60, high:30},
    P: {low:70, mid:40, high:0},
    K: {low:80, mid:40, high:0}
  };

  function lvl(val, thr){
    if(val<=thr.low[1]) return '–Ω–∏–∑—å–∫–∏–π';
    if(val<=thr.mid[1]) return '—Å–µ—Ä–µ–¥–Ω—ñ–π';
    return '–≤–∏—Å–æ–∫–∏–π';
  }

  function limeDose(pH, target, texture){
    // –¥—É–∂–µ —Å–ø—Ä–æ—â–µ–Ω–æ –¥–ª—è –Ω–∞–≤—á–∞–ª—å–Ω–∏—Ö –∑–∞–¥–∞—á
    const diff = target - pH; // —Å–∫—ñ–ª—å–∫–∏ ¬´–Ω–µ –¥–æ—Ç—è–≥—É—î¬ª
    if(diff <= 0.2) return '–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ';
    let base = diff>=0.8 ? 3.0 : (diff>=0.4 ? 2.0 : 1.0); // —Ç/–≥–∞
    // —Ç–µ–∫—Å—Ç—É—Ä–∞: –ª–µ–≥–∫—ñ -> –º–µ–Ω—à–µ, –≤–∞–∂–∫—ñ -> –±—ñ–ª—å—à–µ
    if(/–ø—ñ—â|—Å—É–ø—ñ—Å/i.test(texture)) base -= 0.5;
    if(/—Å—É–≥–ª–∏–Ω|–≥–ª–∏–Ω–∞/i.test(texture)) base += 0.5;
    base = Math.max(0.5, Math.min(4, base));
    return base.toFixed(1)+' —Ç/–≥–∞ CaCO‚ÇÉ';
    // —É —Ä–µ–∞–ª—ñ: –∫–æ—Ä–∏–≥—É–≤–∞—Ç–∏ –∑–∞ –≥—ñ–¥—Ä–æ–ª—ñ—Ç–∏—á–Ω–æ—é –∫–∏—Å–ª–æ—Ç–Ω—ñ—Å—Ç—é/–±—É—Ñ–µ—Ä–Ω—ñ—Å—Ç—é “ë—Ä—É–Ω—Ç—É
  }

  function addRow(sample={
    field:'F-01', code:'S-01', date:new Date().toISOString().slice(0,10),
    texture:'—Å—É–≥–ª–∏–Ω–æ–∫', pH:5.8, EC:0.25, N:12, P:18, K:110, note:'–ù–∞–≤—á–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥'
  }){
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td class="idx">1</td>
      <td><input type="text" value="${sample.field}"/></td>
      <td><input type="text" value="${sample.code}"/></td>
      <td><input type="date" value="${sample.date}"/></td>
      <td>
        <select>
          <option${/–ø—ñ—â/i.test(sample.texture)?' selected':''}>–ø—ñ—â–∞–Ω–∏–π</option>
          <option${/—Å—É–ø—ñ—Å/i.test(sample.texture)?' selected':''}>—Å—É–ø—ñ—â–∞–Ω–∏–π</option>
          <option${/—Å—É–≥–ª–∏–Ω/i.test(sample.texture)?' selected':''}>—Å—É–≥–ª–∏–Ω–æ–∫</option>
          <option${/–≥–ª–∏–Ω–∞/i.test(sample.texture)?' selected':''}>–≥–ª–∏–Ω–∞</option>
        </select>
      </td>
      <td><input type="number" step="0.1" value="${sample.pH}"/></td>
      <td><input type="number" step="0.01" value="${sample.EC}"/></td>
      <td><input type="number" step="1" value="${sample.N}"/></td>
      <td><input type="number" step="1" value="${sample.P}"/></td>
      <td><input type="number" step="1" value="${sample.K}"/></td>
      <td class="dark lvl">‚Äî</td>
      <td class="dark rnpk">‚Äî</td>
      <td class="dark lime">‚Äî</td>
      <td><input type="text" value="${sample.note}"/></td>
    `;
    bodyEl.appendChild(tr);
    reindex();
  }

  function reindex(){
    [...bodyEl.querySelectorAll('tr')].forEach((tr,i)=>tr.querySelector('.idx').textContent = i+1);
  }

  function recalc(){
    const targetPH = parseFloat(document.getElementById('phTarget').value||'6.2');

    [...bodyEl.querySelectorAll('tr')].forEach(tr=>{
      const texture = tr.children[4].querySelector('select').value;
      const pH = parseFloat(tr.children[5].querySelector('input').value||'0');
      const EC = parseFloat(tr.children[6].querySelector('input').value||'0');
      const N  = parseFloat(tr.children[7].querySelector('input').value||'0');
      const P  = parseFloat(tr.children[8].querySelector('input').value||'0');
      const K  = parseFloat(tr.children[9].querySelector('input').value||'0');

      const nL = lvl(N, TH.N), pL = lvl(P, TH.P), kL = lvl(K, TH.K);
      tr.querySelector('.lvl').innerHTML = `
        <span class="tag">N: ${nL}</span>
        <span class="tag">P: ${pL}</span>
        <span class="tag">K: ${kL}</span>
      `;

      const recN = RECS.N[nL==='–Ω–∏–∑—å–∫–∏–π'?'low':(nL==='—Å–µ—Ä–µ–¥–Ω—ñ–π'?'mid':'high')];
      const recP = RECS.P[pL==='–Ω–∏–∑—å–∫–∏–π'?'low':(pL==='—Å–µ—Ä–µ–¥–Ω—ñ–π'?'mid':'high')];
      const recK = RECS.K[kL==='–Ω–∏–∑—å–∫–∏–π'?'low':(kL==='—Å–µ—Ä–µ–¥–Ω—ñ–π'?'mid':'high')];
      tr.querySelector('.rnpk').textContent = `${recN} | ${recP} | ${recK}`;

      const lime = limeDose(pH, targetPH, texture);
      tr.querySelector('.lime').textContent = lime;

      // –∫–æ–ª—å–æ—Ä–æ–≤—ñ –ø—ñ–¥–∫–∞–∑–∫–∏ –ø–æ EC (–Ω–∞–≤—á–∞–ª—å–Ω–æ): >2.0 dS/m ‚Äî —Å—ñ–ª—å–Ω—ñ—Å—Ç—å (—Ä–∏–∑–∏–∫)
      if(EC >= 2.0){ tr.children[6].style.color = '#ef4444'; } else { tr.children[6].style.color = ''; }
    });

    buildCSV();
  }

  function buildCSV(){
    const lines = [...bodyEl.querySelectorAll('tr')].map(tr=>{
      const idx = tr.querySelector('.idx').textContent.trim();
      const field = tr.children[1].querySelector('input').value.trim();
      const code  = tr.children[2].querySelector('input').value.trim();
      const date  = tr.children[3].querySelector('input').value.trim();
      const texture = tr.children[4].querySelector('select').value.trim();
      const pH   = tr.children[5].querySelector('input').value.trim();
      const EC   = tr.children[6].querySelector('input').value.trim();
      const N    = tr.children[7].querySelector('input').value.trim();
      const P    = tr.children[8].querySelector('input').value.trim();
      const K    = tr.children[9].querySelector('input').value.trim();
      const lvl  = tr.querySelector('.lvl').innerText.replace(/\s+/g,' ').trim();
      const rnpk = tr.querySelector('.rnpk').textContent.trim();
      const lime = tr.querySelector('.lime').textContent.trim();
      const note = tr.children[13].querySelector('input').value.trim();
      return [idx,field,code,date,texture,pH,EC,N,P,K,lvl,rnpk,lime,note].join(' | ');
    });
    csvEl.textContent = lines.join('\n') || '‚Äî';
  }

  function copyCSV(){
    const txt = csvEl.textContent.trim();
    if(!txt || txt==='‚Äî'){ alert('–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è'); return; }
    navigator.clipboard.writeText(txt).then(()=>flash('‚úÖ CSV —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ'),()=>flash('–ù–µ –≤–¥–∞–ª–æ—Å—è —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏'));
  }

  function flash(msg){
    const old=document.title; document.title=msg; setTimeout(()=>document.title=old,900);
  }

  // –ü–æ—á–∞—Ç–∫–æ–≤—ñ —Ä—è–¥–∫–∏
  addRow(); // –ø—Ä–∏–∫–ª–∞–¥
  addRow({field:'F-02', code:'S-02', texture:'—Å—É–ø—ñ—â–∞–Ω–∏–π', pH:5.4, EC:0.18, N:8, P:12, K:72, note:'–ü—ñ–¥ –ª—ñ—Å–æ—Å–º—É–≥–æ—é'});
  recalc();
</script>


</body></html>