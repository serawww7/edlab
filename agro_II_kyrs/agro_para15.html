<!-- agro_para15.html
     –ü–ê–†–ê 15 (–∞—É–¥–∏—Ç–æ—Ä–Ω–æ) –¥–ª—è –∞–≥—Ä–æ–Ω–æ–º—ñ–≤
     –¢–µ–º–∞: –ü–û–õ–¨–û–í–ï –û–ë–°–¢–ï–ñ–ï–ù–ù–Ø (SCOUTING) ‚Äî –æ–±–ª—ñ–∫ —à–∫—ñ–¥–Ω–∏–∫—ñ–≤/—Ö–≤–æ—Ä–æ–±, –ï–ü–®, —Ä—ñ—à–µ–Ω–Ω—è ¬´–æ–±—Ä–æ–±–ª—è—Ç–∏/—Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏¬ª,
           –ø—ñ–¥–±—ñ—Ä –±–∞–∫–æ–≤–æ—ó —Å—É–º—ñ—à—ñ (–ª/–≥–∞, –¥.—Ä.), –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ ¬´–≤—ñ–∫–Ω–∞ –ø–æ–≥–æ–¥–∏¬ª, –ó–Ü–ó-—á–µ–∫–ª–∏—Å—Ç, CSV.
     –§–æ–∫—É—Å: —Ç–µ–ª–µ—Ñ–æ–Ω–∏/–ü–ö; –±–µ–∑ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫; –ª–æ–∫–∞–ª—å–Ω–æ; –∫–æ–Ω—Ç—Ä–∞—Å—Ç —Ç–µ–º–Ω–∏—Ö –∫–ª—ñ—Ç–∏–Ω–æ–∫ ‚Üí —Å–≤—ñ—Ç–ª–∏–π —Ç–µ–∫—Å—Ç.

     –©–æ –≤–º—ñ—î:
     ‚Ä¢ –¢–∞–±–ª–∏—Ü—è —Ç–æ—á–æ–∫ –æ–±—Å—Ç–µ–∂–µ–Ω–Ω—è: –∫—É–ª—å—Ç—É—Ä–∞, —Ñ–µ–Ω—Ñ–∞–∑–∞, –ø–ª–æ—â–∞ –æ–≥–ª—è–¥—É, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ—Å–æ–±–∏–Ω/—É—Ä–∞–∂–µ–Ω—å ‚Üí —â—ñ–ª—å–Ω—ñ—Å—Ç—å.
     ‚Ä¢ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ –ï–ü–® (–µ–∫–æ–Ω–æ–º—ñ—á–Ω–∏–π –ø–æ—Ä—ñ–≥ —à–∫–æ–¥–æ—á–∏–Ω–Ω–æ—Å—Ç—ñ) –¥–ª—è –≤–∏–±—Ä–∞–Ω–æ–≥–æ —à–∫—ñ–¥–Ω–∏–∫–∞/—Ö–≤–æ—Ä–æ–±–∏.
     ‚Ä¢ –†—ñ—à–µ–Ω–Ω—è: ¬´–æ–±—Ä–æ–±–ª—è—Ç–∏/—Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏¬ª, –∫–æ—Ä–æ—Ç–∫–∞ –Ω–æ—Ç–∞—Ç–∫–∞ –∑ –æ–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è–º.
     ‚Ä¢ –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –±–∞–∫–æ–≤–æ—ó —Å—É–º—ñ—à—ñ –¥–ª—è –æ–±—Ä–∞–Ω–æ–≥–æ –ø—Ä–µ–ø–∞—Ä–∞—Ç—É: –ª/–≥–∞, –≥/–ª –¥.—Ä., –Ω–æ—Ä–º–∞, –º—ñ—Å—Ç–∫—ñ—Å—Ç—å –±–∞–∫–∞, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞—ó–∑–¥—ñ–≤.
     ‚Ä¢ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ ¬´–≤—ñ–∫–Ω–∞ –ø–æ–≥–æ–¥–∏¬ª: –≤—ñ—Ç–µ—Ä, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤—ñ–¥–Ω. –≤–æ–ª–æ–≥—ñ—Å—Ç—å, —Ä–∏–∑–∏–∫ –¥–æ—â—É ‚Äî –ø—ñ–¥–∫–∞–∑–∫–∞ ¬´—Ç–∞–∫/–Ω—ñ¬ª.
     ‚Ä¢ –ó–Ü–ó-—á–µ–∫–ª–∏—Å—Ç —ñ —Å–ª—É–∂–±–æ–≤–∞ –∑–∞–ø–∏—Å–∫–∞ (—Ç–µ–∫—Å—Ç) + CSV.

     –ì–æ—Ç–æ–≤–æ –¥–ª—è GitHub Pages / iFrame —É Moodle.
-->
<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ü–∞—Ä–∞ 15 ‚Äî Scouting: –ï–ü–® ‚Üí —Ä—ñ—à–µ–Ω–Ω—è ‚Üí –±–∞–∫–æ–≤–∞ —Å—É–º—ñ—à ‚Üí –≤—ñ–∫–Ω–æ –ø–æ–≥–æ–¥–∏ ‚Üí –ó–Ü–ó, CSV</title>
<meta name="color-scheme" content="light dark">
<style>
  :root{
    --bg:#0b1220; --card:#0f172a; --muted:#94a3b8; --text:#e2e8f0;
    --accent:#22c55e; --accent-2:#60a5fa; --warn:#f59e0b; --bad:#ef4444; --good:#10b981; --line:#1f2937;
    --darkcell:#0b1324; --darkink:#e6eef9; --darkink2:#e5e7eb;
  }
  *{box-sizing:border-box}
  body{
    margin:0; background:linear-gradient(180deg,#0b1220,#111827 30%,#0b1220);
    color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif; line-height:1.55
  }
  .wrap{max-width:1100px; margin:0 auto; padding:24px 16px 64px}
  .badge{display:inline-block; padding:6px 10px; border:1px solid var(--line); background:#0b1220; border-radius:999px; font-size:12px; color:var(--muted); letter-spacing:.3px}
  h1{font-size:34px; margin:6px 0 12px; line-height:1.15;
     background:linear-gradient(90deg,#60a5fa,#22c55e); -webkit-background-clip:text; -webkit-text-fill-color:transparent}
  h2{font-size:22px; margin:28px 0 12px}
  h3{font-size:18px; margin:20px 0 8px; color:#cbd5e1}
  p{margin:10px 0}
  .small{font-size:12px; color:#9fb0c8}
  .muted{color:#93a3b5}
  .pill{display:inline-block; padding:4px 10px; border:1px solid #223049; border-radius:999px; font-size:12px; color:#a5b4fc; background:#0d1a2e; margin-right:6px}
  .btn{display:inline-block; padding:10px 14px; border-radius:10px; border:1px solid #223049; background:#0d1a2e; color:#dbeafe; text-decoration:none; cursor:pointer}
  .btn:hover{background:#0f1f39}
  .row{display:flex; gap:10px; flex-wrap:wrap}
  .grid{display:grid; gap:12px}
  .g2{grid-template-columns:repeat(2,minmax(0,1fr))}
  .g3{grid-template-columns:repeat(3,minmax(0,1fr))}
  @media (max-width:1000px){.g2,.g3{grid-template-columns:1fr}}

  .card{background:linear-gradient(180deg,#0f172a,#0b1220); border:1px solid var(--line); border-radius:16px; padding:16px; margin:12px 0; box-shadow:0 6px 24px rgba(0,0,0,.25)}
  .box{border:1px solid #223049; border-radius:12px; padding:12px; background:var(--darkcell); color:var(--darkink)}
  .ok{color:var(--good)} .warn{color:var(--warn)} .bad{color:var(--bad)}
  .mono,code{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}

  .table{width:100%; border-collapse:separate; border-spacing:0; overflow:auto; border-radius:12px; border:1px solid #223049}
  .table th,.table td{padding:8px 10px; border-bottom:1px solid #1f2937; font-size:14px; vertical-align:top}
  .table thead th{background:#0c1629; color:#a5b4fc; text-align:left; position:sticky; top:0}
  .table tbody tr:nth-child(even){background:var(--darkcell); color:var(--darkink2)}
  .table td.dark, .table th.dark{background:var(--darkcell) !important; color:var(--darkink2) !important}
  .out{background:var(--darkcell); color:var(--darkink2); border:1px dashed #263042; padding:10px 12px; border-radius:10px; word-break:break-all}

  input[type="text"], input[type="number"], select, textarea{
    width:100%; padding:8px 10px; border-radius:10px; border:1px solid #223049; background:#0d1a2e; color:#e6eef9
  }

  /* –í–±—É–¥–æ–≤–∞–Ω–æ (iframe) ‚Üí —Å–≤—ñ—Ç–ª–∏–π –≤–∏–≥–ª—è–¥ */
  html.embedded body{background:#fff; color:#111}
  html.embedded .card{background:#fff; border:1px solid #e5e7eb; box-shadow:none}
  html.embedded h1{-webkit-text-fill-color:initial; background:none; color:#111}
  html.embedded .btn{background:#111827; color:#fff; border-color:#111827}
  html.embedded .box{background:#f8fafc; color:#111}
  html.embedded .table tbody tr:nth-child(even){background:#f3f4f6; color:#111}

  @media print{
    @page{ margin:12mm }
    .no-print{ display:none !important }
  }
</style>
</head>
<body>
  <div class="wrap">
    <span class="badge">–ü–∞—Ä–∞ 15 ¬∑ –∞—É–¥–∏—Ç–æ—Ä–Ω–æ ¬∑ –∞–≥—Ä–æ–Ω–æ–º–∏</span>
    <h1>üîé Scouting: –ï–ü–® ‚Üí —Ä—ñ—à–µ–Ω–Ω—è ‚Üí –±–∞–∫–æ–≤–∞ —Å—É–º—ñ—à ‚Üí –≤—ñ–∫–Ω–æ –ø–æ–≥–æ–¥–∏ ‚Üí –ó–Ü–ó</h1>

    <div class="card">
      <h2>üéØ –ú–µ—Ç–∞</h2>
      <p>
        –ó–∞ –ø–∞—Ä—É —Å—Ç—É–¥–µ–Ω—Ç–∏ –ø—Ä–æ–≤–µ–¥—É—Ç—å <b>–ø–æ–ª—å–æ–≤–µ –æ–±—Å—Ç–µ–∂–µ–Ω–Ω—è</b>, —Ä–æ–∑—Ä–∞—Ö—É—é—Ç—å <b>—â—ñ–ª—å–Ω—ñ—Å—Ç—å/—É—Ä–∞–∂–µ–Ω–Ω—è</b>, –ø–æ—Ä—ñ–≤–Ω—è—é—Ç—å —ñ–∑ <b>–ï–ü–®</b>,
        —É—Ö–≤–∞–ª—è—Ç—å <b>—Ä—ñ—à–µ–Ω–Ω—è</b> (–æ–±—Ä–æ–±–ª—è—Ç–∏/—Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏) —Ç–∞ —Ä–æ–∑—Ä–∞—Ö—É—é—Ç—å <b>–±–∞–∫–æ–≤—É —Å—É–º—ñ—à</b> —ñ <b>–∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞—ó–∑–¥—ñ–≤</b>.
        –î–∞–ª—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç—å <b>¬´–≤—ñ–∫–Ω–æ –ø–æ–≥–æ–¥–∏¬ª</b> —ñ –ø—Ä–æ–π–¥—É—Ç—å <b>–ó–Ü–ó-—á–µ–∫–ª–∏—Å—Ç</b>. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî <b>CSV</b> —ñ —Å–ª—É–∂–±–æ–≤–∞ –∑–∞–ø–∏—Å–∫–∞.
      </p>
      <p class="small">–ü—Ä–∏–∫–ª–∞–¥ –ï–ü–® (–Ω–∞–≤—á–∞–ª—å–Ω–æ): –∫–ª–æ–ø-—á–µ—Ä–µ–ø–∞—à–∫–∞ ‚Äî 2‚Äì3 –µ–∫–∑./–º¬≤; –ø–æ–ø–µ–ª–∏—Ü—ñ ‚Äî 10‚Äì15 –µ–∫–∑./—Ä–æ—Å–ª.; –±–æ—Ä–æ—à–Ω–∏—Å—Ç–∞ —Ä–æ—Å–∞ ‚Äî 1‚Äì2% –ª–∏—Å—Ç–∫–æ–≤–æ—ó –ø–æ–≤–µ—Ä—Ö–Ω—ñ.</p>
    </div>

    <!-- –®–ö–Ü–î–ù–ò–ö/–•–í–û–†–û–ë–ê + –ï–ü–® -->
    <div class="card">
      <h2>üß∞ –û–± º—î–∫—Ç –∫–æ–Ω—Ç—Ä–æ–ª—é —Ç–∞ –ï–ü–®</h2>
      <div class="grid g3">
        <div class="box">
          <h3>–û–± º—î–∫—Ç</h3>
          <div class="row">
            <div style="flex:1">
              <label>–¢–∏–ø</label>
              <select id="objType">
                <option value="pest" selected>–®–∫—ñ–¥–Ω–∏–∫</option>
                <option value="disease">–•–≤–æ—Ä–æ–±–∞</option>
              </select>
            </div>
            <div style="flex:1">
              <label>–ù–∞–∑–≤–∞</label>
              <input id="objName" type="text" value="–ü–æ–ø–µ–ª–∏—Ü—è">
            </div>
          </div>
          <div class="row" style="margin-top:6px">
            <div style="flex:1"><label>–û–¥–∏–Ω–∏—Ü—è –æ–±–ª—ñ–∫—É</label>
              <select id="unit">
                <option value="perPlant" selected>–µ–∫–∑./—Ä–æ—Å–ª–∏–Ω—É</option>
                <option value="perM2">–µ–∫–∑./–º¬≤</option>
                <option value="percent">% —É—Ä–∞–∂–µ–Ω–Ω—è</option>
              </select>
            </div>
            <div style="flex:1"><label>–ï–ü–® (–ø–æ—Ä—ñ–≥)</label>
              <input id="epsh" type="number" step="0.1" value="12">
            </div>
          </div>
          <p class="small">–ö–æ—Ä–∏–≥—É–π –ï–ü–® –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ –¥–æ –∫—É–ª—å—Ç—É—Ä–∏/—Ñ–∞–∑–∏ —Ç–∞ –µ–∫–æ–Ω–æ–º—ñ–∫–∏ –≥–æ—Å–ø–æ–¥–∞—Ä—Å—Ç–≤–∞.</p>
        </div>

        <div class="box">
          <h3>–ü—Ä–µ–ø–∞—Ä–∞—Ç/—Å—É–º—ñ—à</h3>
          <div class="row">
            <div style="flex:1"><label>–ù–∞–∑–≤–∞ –ø—Ä–µ–ø–∞—Ä–∞—Ç—É</label><input id="prod" type="text" value="–Ü–Ω—Å–µ–∫—Ç–∏—Ü–∏–¥ X 200 –≥/–ª"></div>
            <div style="flex:1"><label>–ù–æ—Ä–º–∞, –ª/–≥–∞</label><input id="dose" type="number" step="0.01" value="0.3"></div>
          </div>
          <div class="row" style="margin-top:6px">
            <div style="flex:1"><label>–í–º—ñ—Å—Ç –¥.—Ä., –≥/–ª</label><input id="ai" type="number" step="1" value="200"></div>
            <div style="flex:1"><label>–†–æ–±–æ—á–∏–π —Ä–æ–∑—á–∏–Ω, –ª/–≥–∞</label><input id="sprN" type="number" step="1" value="200"></div>
          </div>
        </div>

        <div class="box">
          <h3>–û–ø—Ä—ã—Å–∫—É–≤–∞—á</h3>
          <div class="row">
            <div style="flex:1"><label>–®–∏—Ä–∏–Ω–∞ –∑–∞—Ö–≤–∞—Ç—É, –º</label><input id="W" type="number" step="0.1" value="18"></div>
            <div style="flex:1"><label>–ú—ñ—Å—Ç–∫—ñ—Å—Ç—å –±–∞–∫–∞, –ª</label><input id="tank" type="number" step="1" value="3000"></div>
          </div>
          <div class="row" style="margin-top:6px">
            <div style="flex:1"><label>–ü–ª–æ—â–∞ –ø–æ–ª—è, –≥–∞</label><input id="area" type="number" step="0.01" value="25"></div>
            <div style="flex:1"><label>–ö–æ–¥ –ø–æ–ª—è</label><input id="field" type="text" value="F-01"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- –¢–ê–ë–õ–ò–¶–Ø –û–ë–°–¢–ï–ñ–ï–ù–ù–Ø -->
    <div class="card">
      <h2>üß± –¢–æ—á–∫–∏ –æ–±—Å—Ç–µ–∂–µ–Ω–Ω—è</h2>
      <div class="row">
        <button class="btn" onclick="addRow()">‚ûï –î–æ–¥–∞—Ç–∏ —Ç–æ—á–∫—É</button>
        <button class="btn" onclick="preset()">üß™ –ü—Ä–∏–∫–ª–∞–¥</button>
        <button class="btn" onclick="recalc()">üîÅ –ü–µ—Ä–µ—Ä–∞—Ö—É–≤–∞—Ç–∏</button>
        <button class="btn" onclick="copyCSV()">üìã CSV</button>
      </div>
      <div style="overflow:auto; margin-top:8px">
        <table class="table" id="tbl">
          <thead>
            <tr>
              <th>#</th>
              <th>–î–∞—Ç–∞</th>
              <th>–ö—É–ª—å—Ç—É—Ä–∞/—Ñ–∞–∑–∞</th>
              <th>–ú–µ—Ç–æ–¥–∏–∫–∞</th>
              <th>–ü–ª–æ—â–∞ –æ–≥–ª—è–¥—É, –º¬≤</th>
              <th>–ö-—Ç—å —Ä–æ—Å–ª–∏–Ω</th>
              <th>–í–∏–ø–∞–¥–∫—ñ–≤ (–µ–∫–∑./—É—Ä–∞–∂.)</th>
              <th class="dark">–©—ñ–ª—å–Ω./% —Ñ–∞–∫—Ç–∏—á–Ω–∞</th>
              <th class="dark">–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ –ï–ü–®</th>
              <th>–ù–æ—Ç–∞—Ç–∫–∞</th>
            </tr>
          </thead>
          <tbody id="body"></tbody>
          <tfoot>
            <tr>
              <th class="dark" colspan="7">–°–µ—Ä–µ–¥–Ω—è —Ñ–∞–∫—Ç–∏—á–Ω–∞</th>
              <th class="dark" id="avgVal">‚Äî</th>
              <th class="dark" id="avgDecision">‚Äî</th>
              <th></th>
            </tr>
          </tfoot>
        </table>
      </div>
      <div id="csv" class="out" style="margin-top:8px">‚Äî</div>
      <p class="small">CSV: <span class="mono"># | –î–∞—Ç–∞ | –ö—É–ª—å—Ç—É—Ä–∞ | –ú–µ—Ç–æ–¥–∏–∫–∞ | –ü–ª–æ—â–∞_–º2 | –†–æ—Å–ª–∏–Ω | –í–∏–ø–∞–¥–∫—ñ–≤ | –§–∞–∫—Ç | –ü–æ—Ä—ñ–≤–Ω_–ï–ü–® | –ù–æ—Ç–∞—Ç–∫–∞</span></p>
      <p class="small muted">–ö–æ–Ω—Ç—Ä–∞—Å—Ç –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–æ: —Ç–µ–º–Ω—ñ –∫–ª—ñ—Ç–∏–Ω–∫–∏ (<span class="mono">.dark</span>) –º–∞—é—Ç—å —Å–≤—ñ—Ç–ª–∏–π —Ç–µ–∫—Å—Ç.</p>
    </div>

    <!-- –†–Ü–®–ï–ù–ù–Ø + –ë–ê–ö–û–í–ê –°–£–ú–Ü–® + –ü–û–ì–û–î–ê -->
    <div class="card">
      <h2>üß™ –†—ñ—à–µ–Ω–Ω—è, –±–∞–∫–æ–≤–∞ —Å—É–º—ñ—à —Ç–∞ ¬´–≤—ñ–∫–Ω–æ –ø–æ–≥–æ–¥–∏¬ª</h2>
      <div class="grid g3">
        <div class="box">
          <h3>–†—ñ—à–µ–Ω–Ω—è –∑–∞ —Å–µ—Ä–µ–¥–Ω—ñ–º –∑–Ω–∞—á–µ–Ω–Ω—è–º</h3>
          <p>–°–µ—Ä–µ–¥–Ω—è —Ñ–∞–∫—Ç–∏—á–Ω–∞ —â—ñ–ª—å–Ω—ñ—Å—Ç—å/—É—Ä–∞–∂–µ–Ω–Ω—è: <b><span id="avgShow">‚Äî</span></b></p>
          <p>–ï–ü–®: <b><span id="epshShow">‚Äî</span></b></p>
          <p>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è: <b><span id="dec" class="mono">‚Äî</span></b></p>
          <textarea id="note" rows="3" placeholder="–ö–æ—Ä–æ—Ç–∫–µ –æ–±“ë—Ä—É–Ω—Ç—É–≤–∞–Ω–Ω—è..."></textarea>
        </div>

        <div class="box">
          <h3>–ë–∞–∫–æ–≤–∞ —Å—É–º—ñ—à (–Ω–∞ –ø–æ–ª–µ —ñ –Ω–∞ –∑–∞—ó–∑–¥)</h3>
          <p><b>–†–æ–±–æ—á–∏–π —Ä–æ–∑—á–∏–Ω –Ω–∞ –ø–æ–ª–µ</b>: <span id="sprField">‚Äî</span> –ª</p>
          <p><b>–ü—Ä–µ–ø–∞—Ä–∞—Ç –Ω–∞ –ø–æ–ª–µ</b>: <span id="prodField">‚Äî</span> –ª ¬∑ –¥.—Ä.: <span id="aiField">‚Äî</span> –∫–≥</p>
          <p><b>–ö-—Ç—å –∑–∞—ó–∑–¥—ñ–≤</b>: <span id="loads">‚Äî</span> ¬∑ <b>–Ω–∞ 1 –∑–∞—ó–∑–¥</b>: <span id="sprPerLoad">‚Äî</span> –ª; –ø—Ä–µ–ø–∞—Ä–∞—Ç: <span id="prodPerLoad">‚Äî</span> –ª</p>
          <div class="out" id="mixText">‚Äî</div>
        </div>

        <div class="box">
          <h3>¬´–í—ñ–∫–Ω–æ –ø–æ–≥–æ–¥–∏¬ª –¥–ª—è –≤–Ω–µ—Å–µ–Ω–Ω—è</h3>
          <div class="row">
            <div style="flex:1"><label>–í—ñ—Ç–µ—Ä, –º/—Å</label><input id="wind" type="number" step="0.1" value="3.5"></div>
            <div style="flex:1"><label>–í–æ–ª–æ–≥—ñ—Å—Ç—å, %</label><input id="rh" type="number" step="1" value="65"></div>
          </div>
          <div class="row" style="margin-top:6px">
            <div style="flex:1"><label>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, ¬∞C</label><input id="temp" type="number" step="0.1" value="18.0"></div>
            <div style="flex:1"><label>–†–∏–∑–∏–∫ –¥–æ—â—É (0..1)</label><input id="rain" type="number" step="0.05" value="0.2"></div>
          </div>
          <p>–ü—Ä–∏–¥–∞—Ç–Ω—ñ—Å—Ç—å: <b><span id="wxOk">‚Äî</span></b></p>
          <p class="small">–ù–∞–≤—á–∞–ª—å–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó: –≤—ñ—Ç–µ—Ä ‚â§ 5 –º/—Å; RH 40‚Äì85%; t 8‚Äì25¬∞C; —Ä–∏–∑–∏–∫ –¥–æ—â—É &lt; 0.4 (—É –Ω–∞–π–±–ª–∏–∂—á—ñ 4‚Äì6 –≥–æ–¥).</p>
        </div>
      </div>
    </div>

    <!-- –ó–Ü–ó —Ç–∞ –°–õ–£–ñ–ë–û–í–ê –ó–ê–ü–ò–°–ö–ê -->
    <div class="card">
      <h2>ü¶∫ –ó–Ü–ó-—á–µ–∫–ª–∏—Å—Ç —Ç–∞ —Å–ª—É–∂–±–æ–≤–∞ –∑–∞–ø–∏—Å–∫–∞</h2>
      <div class="grid g2">
        <div class="box">
          <h3>–ó–Ü–ó (–ø–µ—Ä–µ–¥ —Å—Ç–∞—Ä—Ç–æ–º)</h3>
          <div class="row">
            <label><input type="checkbox" class="ppe" checked> –ö–æ–º–±—ñ–Ω–µ–∑–æ–Ω/–∫—É—Ä—Ç–∫–∞ —Ö—ñ–º—Å—Ç—ñ–π–∫–∞</label>
          </div>
          <div class="row">
            <label><input type="checkbox" class="ppe" checked> –†—É–∫–∞–≤–∏—á–∫–∏ –Ω—ñ—Ç—Ä–∏–ª–æ–≤—ñ</label>
          </div>
          <div class="row">
            <label><input type="checkbox" class="ppe" checked> –†–µ—Å–ø—ñ—Ä–∞—Ç–æ—Ä –∑ —Ñ—ñ–ª—å—Ç—Ä–æ–º</label>
          </div>
          <div class="row">
            <label><input type="checkbox" class="ppe" checked> –ó–∞—Ö–∏—Å–Ω—ñ –æ–∫—É–ª—è—Ä–∏/—â–∏—Ç–æ–∫</label>
          </div>
          <div class="row">
            <label><input type="checkbox" class="ppe" checked> –ú–∏–π–∫–∞/–≤–æ–¥–∞/–Ω–µ–π—Ç—Ä–∞–ª—ñ–∑–∞—Ç–æ—Ä –ø–æ—Ä—É—á</label>
          </div>
          <p>–°—Ç–∞—Ç—É—Å: <b><span id="ppeStatus">‚Äî</span></b></p>
        </div>
        <div class="box">
          <h3>–°–ª—É–∂–±–æ–≤–∞ –∑–∞–ø–∏—Å–∫–∞ (–∑–≤–µ–¥–µ–Ω–Ω—è)</h3>
          <div id="memo" class="out">‚Äî</div>
          <div class="row" style="margin-top:6px">
            <button class="btn" onclick="buildMemo()">üìù –ó—ñ–±—Ä–∞—Ç–∏</button>
            <button class="btn" onclick="copyEl('memo')">üìã –ö–æ–ø—ñ—é–≤–∞—Ç–∏</button>
          </div>
        </div>
      </div>
    </div>

    <!-- –•–Ü–î –†–û–ë–û–¢–ò, –û–¶–Ü–ù–Æ–í–ê–ù–ù–Ø -->
    <div class="card">
      <h2>ü™ú –•—ñ–¥ —Ä–æ–±–æ—Ç–∏ (45‚Äì70 —Ö–≤)</h2>
      <ol>
        <li>–ó–∞–¥–∞–π –æ–± º—î–∫—Ç, –æ–¥–∏–Ω–∏—Ü—é –æ–±–ª—ñ–∫—É —Ç–∞ –ï–ü–®. –ó–∞–ø–æ–≤–Ω–∏ 5‚Äì10 —Ç–æ—á–æ–∫ –æ–±—Å—Ç–µ–∂–µ–Ω–Ω—è, –Ω–∞—Ç–∏—Å–Ω–∏ <b>–ü–µ—Ä–µ—Ä–∞—Ö—É–≤–∞—Ç–∏</b>.</li>
        <li>–û–±“ë—Ä—É–Ω—Ç—É–π —Ä—ñ—à–µ–Ω–Ω—è (–æ–±—Ä–æ–±–ª—è—Ç–∏/—Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏). –ó–∞ –ø–æ—Ç—Ä–µ–±–∏ ‚Äî –≤—ñ–¥–∫–æ—Ä–∏–≥—É–π –ï–ü–®.</li>
        <li>–†–æ–∑—Ä–∞—Ö—É–π –±–∞–∫–æ–≤—É —Å—É–º—ñ—à, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞—ó–∑–¥—ñ–≤ —ñ –ø–µ—Ä–µ–≤—ñ—Ä ¬´–≤—ñ–∫–Ω–æ –ø–æ–≥–æ–¥–∏¬ª.</li>
        <li>–ü—Ä–æ–π–¥–∏ –ó–Ü–ó-—á–µ–∫–ª–∏—Å—Ç —ñ –∑–≥–µ–Ω–µ—Ä—É–π —Å–ª—É–∂–±–æ–≤—É –∑–∞–ø–∏—Å–∫—É. –°–∫–æ–ø—ñ—é–π <b>CSV</b> —É Google Sheets (<span class="mono">Scouting</span>).</li>
      </ol>
    </div>

    <div class="card">
      <h2>‚úÖ –û—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è (10 –±–∞–ª—ñ–≤)</h2>
      <table class="table">
        <thead><tr><th>–ö—Ä–∏—Ç–µ—Ä—ñ–π</th><th>–ë–∞–ª–∏</th></tr></thead>
        <tbody>
          <tr><td>–ö–æ—Ä–µ–∫—Ç–Ω—ñ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏ —â—ñ–ª—å–Ω–æ—Å—Ç—ñ/—É—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ –ï–ü–®</td><td>4</td></tr>
          <tr><td>–ê—Ä–≥—É–º–µ–Ω—Ç–æ–≤–∞–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –±–∞–∫–æ–≤–æ—ó —Å—É–º—ñ—à—ñ/–∑–∞—ó–∑–¥—ñ–≤</td><td>3</td></tr>
          <tr><td>–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ ¬´–≤—ñ–∫–Ω–∞ –ø–æ–≥–æ–¥–∏¬ª —ñ –ó–Ü–ó-—á–µ–∫–ª–∏—Å—Ç</td><td>2</td></tr>
          <tr><td>CSV —É Sheets + —Å–ª—É–∂–±–æ–≤–∞ –∑–∞–ø–∏—Å–∫–∞</td><td>1</td></tr>
        </tbody>
      </table>
      <p class="pill">üîé Scouting</p><p class="pill">üìà –ï–ü–®</p><p class="pill">üß™ –ë–∞–∫–æ–≤–∞ —Å—É–º—ñ—à</p><p class="pill">üå¶Ô∏è –ü–æ–≥–æ–¥–Ω—ñ —É–º–æ–≤–∏</p><p class="pill">ü¶∫ –ó–Ü–ó</p>
    </div>
  </div>

<script>
  // –í–±—É–¥–æ–≤–∞–Ω–∏–π —Ä–µ–∂–∏–º (Moodle iFrame)
  (function(){ if (window.self !== window.top) document.documentElement.classList.add('embedded'); })();

  const bodyEl = document.getElementById('body');
  const csvEl  = document.getElementById('csv');
  const byId = id => document.getElementById(id);
  const rnd = (n,d=2) => Number((+n).toFixed(d));

  function addRow(sample){
    const today = new Date().toISOString().slice(0,10);
    const def = { date: today, crop:'–ü—à–µ–Ω–∏—Ü—è, –í–í–°–ù 39', method:'–ó–∏–≥–∑–∞–≥ 10 —Ç–æ—á–æ–∫', a:10, plants:50, cases:520, note:'' };
    const s = Object.assign(def, sample||{});
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td class="idx">1</td>
      <td><input type="date" value="${s.date}"></td>
      <td><input type="text" value="${s.crop}"></td>
      <td><input type="text" value="${s.method}"></td>
      <td><input type="number" step="0.1" value="${s.a}"></td>
      <td><input type="number" step="1" value="${s.plants}"></td>
      <td><input type="number" step="1" value="${s.cases}"></td>
      <td class="dark fact">‚Äî</td>
      <td class="dark comp">‚Äî</td>
      <td><input type="text" value="${s.note}"></td>
    `;
    bodyEl.appendChild(tr);
    reindex();
  }
  function reindex(){ [...bodyEl.querySelectorAll('tr')].forEach((tr,i)=>tr.querySelector('.idx').textContent=i+1); }

  function preset(){
    bodyEl.innerHTML='';
    addRow({method:'5√ó–ø–æ 1 –º¬≤', a:5, plants:0,   cases:65});   // –¥–ª—è –µ–∫–∑./–º¬≤
    addRow({method:'10 —Ä–æ—Å–ª–∏–Ω', a:0, plants:10,  cases:140});  // –¥–ª—è –µ–∫–∑./—Ä–æ—Å–ª.
    addRow({method:'–û—Ü—ñ–Ω–∫–∞ –ª–∏—Å—Ç–∫–∞', a:0, plants:0, cases:180}); // –¥–ª—è %
    recalc();
  }

  function recalc(){
    const unit = byId('unit').value;          // perPlant | perM2 | percent
    const epsh = parseFloat(byId('epsh').value||'0');
    let sum=0, n=0;

    [...bodyEl.querySelectorAll('tr')].forEach(tr=>{
      const a = parseFloat(tr.children[4].querySelector('input').value||'0');       // –º¬≤
      const plants = parseFloat(tr.children[5].querySelector('input').value||'0');  // —à—Ç
      const cases = parseFloat(tr.children[6].querySelector('input').value||'0');   // –µ–∫–∑./%—Å—É–º–∞—Ä–Ω–æ

      let fact=0, comp='‚Äî';

      if(unit==='perM2'){
        const denom = a>0 ? a : 1;
        fact = cases / denom;                      // –µ–∫–∑./–º¬≤
        comp = compare(fact, epsh, '–µ–∫–∑./–º¬≤');
      } else if(unit==='perPlant'){
        const denom = plants>0 ? plants : 1;
        fact = cases / denom;                      // –µ–∫–∑./—Ä–æ—Å–ª.
        comp = compare(fact, epsh, '–µ–∫–∑./—Ä–æ—Å–ª.');
      } else { // percent
        fact = cases;                              // %
        comp = compare(fact, epsh, '%');
      }

      tr.querySelector('.fact').textContent = rnd(fact,2);
      tr.querySelector('.comp').textContent = comp;

      sum += fact; n += 1;
    });

    const avg = n>0 ? (sum/n) : 0;
    byId('avgVal').textContent = rnd(avg,2);
    byId('avgShow').textContent= rnd(avg,2);
    byId('epshShow').textContent = epsh;

    const dec = avg > epsh ? 'üü¢ –û–ë–†–û–ë–õ–Ø–¢–ò (–ø–æ–Ω–∞–¥ –ï–ü–®)' : (avg > epsh*0.8 ? 'üü† –ù–ê–ë–õ–ò–ñ–ê–Ñ–¢–¨–°–Ø' : 'üîµ –°–ü–û–°–¢–ï–†–Ü–ì–ê–¢–ò');
    byId('avgDecision').textContent = dec;
    byId('dec').textContent = dec;

    // –ë–∞–∫–æ–≤–∞ —Å—É–º—ñ—à —ñ –∑–∞—ó–∑–¥–∏
    buildMix();

    // –ü–æ–≥–æ–¥–∞
    checkWeather();

    // –ó–Ü–ó
    ppeCheck();

    // CSV
    buildCSV();
  }

  function compare(fact, epsh, unit){
    if(fact>epsh) return `>${epsh} ${unit} (–ø–æ–Ω–∞–¥ –ø–æ—Ä—ñ–≥)`;
    if(fact>epsh*0.8) return `‚âà –ø–æ—Ä—ñ–≥ (—É–≤–∞–∂–Ω–æ)`;
    return `< –ø–æ—Ä–æ–≥—É`;
  }

  function buildMix(){
    const area = parseFloat(byId('area').value||'0');
    const sprN = parseFloat(byId('sprN').value||'0');      // –ª/–≥–∞
    const dose = parseFloat(byId('dose').value||'0');      // –ª/–≥–∞
    const ai   = parseFloat(byId('ai').value||'0');        // –≥/–ª
    const tank = parseFloat(byId('tank').value||'0');      // –ª

    const sprField = area*sprN;
    const prodField = area*dose;
    const aiFieldKg = (prodField * ai) / 1000;             // –∫–≥ –¥.—Ä.

    let loads = 0, sprPerLoad=0, prodPerLoad=0;
    if(tank>0 && sprN>0){
      const areaPerLoad = tank / sprN;
      loads = Math.max(1, Math.ceil(area / areaPerLoad));
      sprPerLoad = tank;
      prodPerLoad = dose * areaPerLoad;                    // –ª –ø—Ä–µ–ø–∞—Ä–∞—Ç—É –Ω–∞ –±–∞–∫–∏ –∑ –ø–æ–≤–Ω–∏–º –∑–ª–∏–≤–æ–º
    }

    byId('sprField').textContent  = rnd(sprField,0).toLocaleString('uk-UA');
    byId('prodField').textContent = rnd(prodField,1);
    byId('aiField').textContent   = rnd(aiFieldKg,2);
    byId('loads').textContent     = loads || '‚Äî';
    byId('sprPerLoad').textContent= loads? rnd(sprPerLoad,0) : '‚Äî';
    byId('prodPerLoad').textContent= loads? rnd(prodPerLoad,2) : '‚Äî';

    const txt = [
      `–ü–æ–ª–µ ${byId('field').value} (${area} –≥–∞):`,
      `–†–æ–∑—á–∏–Ω: ${rnd(sprField,0)} –ª; –ü—Ä–µ–ø–∞—Ä–∞—Ç: ${rnd(prodField,2)} –ª (–¥.—Ä. ${rnd(aiFieldKg,2)} –∫–≥).`,
      loads? `–ó–∞—ó–∑–¥—ñ–≤: ${loads} √ó –±–∞–∫ ${rnd(sprPerLoad,0)} –ª ‚Üí –Ω–∞ –±–∞–∫ –¥–æ–¥–∞—Ç–∏ ‚âà ${rnd(prodPerLoad,2)} –ª –ø—Ä–µ–ø–∞—Ä–∞—Ç—É.` : '–ó–∞—ó–∑–¥–∏: ‚Äî'
    ].join('\n');
    byId('mixText').textContent = txt;
  }

  function checkWeather(){
    const wind = parseFloat(byId('wind').value||'0');
    const rh   = parseFloat(byId('rh').value||'0');
    const t    = parseFloat(byId('temp').value||'0');
    const rain = parseFloat(byId('rain').value||'0');

    const okWind = wind<=5;
    const okRh = rh>=40 && rh<=85;
    const okT = t>=8 && t<=25;
    const okRain = rain<0.4;

    const ok = okWind && okRh && okT && okRain;
    byId('wxOk').textContent = ok ? '‚úÖ –ü—ñ–¥—Ö–æ–¥–∏—Ç—å' : '‚ö†Ô∏è –†–∏–∑–∏–∫–æ–≤–∞–Ω–æ';
    byId('wxOk').style.color = ok ? '#10b981' : '#f59e0b';
  }

  function ppeCheck(){
    const all = [...document.querySelectorAll('.ppe')];
    const ok = all.every(x=>x.checked);
    byId('ppeStatus').textContent = ok ? '‚úÖ –£—Å—ñ –ó–Ü–ó –≤—ñ–¥–º—ñ—á–µ–Ω—ñ' : '‚ö†Ô∏è –ù–µ –≤—Å—ñ –ó–Ü–ó –≤—ñ–¥–º—ñ—á–µ–Ω—ñ';
    byId('ppeStatus').style.color = ok ? '#10b981' : '#f59e0b';
  }

  function buildMemo(){
    const memo = [
      `–ü–æ–ª–µ: ${byId('field').value} ¬∑ –ü–ª–æ—â–∞: ${byId('area').value} –≥–∞`,
      `–û–± º—î–∫—Ç: ${byId('objType').value==='pest'?'–®–∫—ñ–¥–Ω–∏–∫':'–•–≤–æ—Ä–æ–±–∞'} ‚Äî ${byId('objName').value}`,
      `–û–¥–∏–Ω–∏—Ü—è: ${unitLabel()} ¬∑ –ï–ü–®: ${byId('epsh').value}`,
      `–°–µ—Ä–µ–¥–Ω—è —Ñ–∞–∫—Ç–∏—á–Ω–∞: ${byId('avgShow').textContent} ¬∑ –†—ñ—à–µ–Ω–Ω—è: ${byId('dec').textContent}`,
      `–ü—Ä–µ–ø–∞—Ä–∞—Ç: ${byId('prod').value} ¬∑ –ù–æ—Ä–º–∞: ${byId('dose').value} –ª/–≥–∞ ¬∑ –†–æ–∑—á–∏–Ω: ${byId('sprN').value} –ª/–≥–∞`,
      `–°—É–º–∞—Ä–Ω–æ –Ω–∞ –ø–æ–ª–µ: —Ä–æ–∑—á–∏–Ω ${byId('sprField').textContent} –ª; –ø—Ä–µ–ø–∞—Ä–∞—Ç ${byId('prodField').textContent} –ª (–¥.—Ä. ${byId('aiField').textContent} –∫–≥)`,
      `–ó–∞—ó–∑–¥—ñ–≤: ${byId('loads').textContent}; –Ω–∞ –±–∞–∫: ${byId('sprPerLoad').textContent} –ª —Ä–æ–∑—á–∏–Ω—É, –ø—Ä–µ–ø–∞—Ä–∞—Ç ~${byId('prodPerLoad').textContent} –ª`,
      `–ü–æ–≥–æ–¥–∞: ${byId('wxOk').textContent}; –ó–Ü–ó: ${byId('ppeStatus').textContent}`,
      `–ü—Ä–∏–º—ñ—Ç–∫–∞: ${byId('note').value||'‚Äî'}`
    ].join('\n');
    byId('memo').textContent = memo;
  }

  function unitLabel(){
    const u = byId('unit').value;
    if(u==='perPlant') return '–µ–∫–∑./—Ä–æ—Å–ª.';
    if(u==='perM2') return '–µ–∫–∑./–º¬≤';
    return '% —É—Ä–∞–∂–µ–Ω–Ω—è';
    }

  function buildCSV(){
    const lines = [...bodyEl.querySelectorAll('tr')].map(tr=>{
      const idx=tr.querySelector('.idx').textContent.trim();
      const d  = tr.children[1].querySelector('input').value.trim();
      const crop=tr.children[2].querySelector('input').value.trim();
      const m  = tr.children[3].querySelector('input').value.trim();
      const a  = tr.children[4].querySelector('input').value.trim();
      const p  = tr.children[5].querySelector('input').value.trim();
      const c  = tr.children[6].querySelector('input').value.trim();
      const f  = tr.querySelector('.fact').textContent.trim();
      const cmp= tr.querySelector('.comp').textContent.trim();
      const nt = tr.children[9].querySelector('input').value.trim();
      return [idx,d,crop,m,a,p,c,f,cmp,nt].join(' | ');
    });
    csvEl.textContent = lines.join('\n') || '‚Äî';
  }

  function copyCSV(){
    const t = csvEl.textContent.trim();
    if(!t || t==='‚Äî'){ alert('–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è'); return; }
    navigator.clipboard.writeText(t).then(()=>flash('‚úÖ CSV —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ'),()=>flash('–ù–µ –≤–¥–∞–ª–æ—Å—è'));
  }
  function copyEl(id){
    const t = byId(id).textContent.trim();
    if(!t||t==='‚Äî'){ alert('–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö'); return; }
    navigator.clipboard.writeText(t).then(()=>flash('‚úÖ –°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ'),()=>flash('–ù–µ –≤–¥–∞–ª–æ—Å—è'));
  }
  function flash(msg){ const o=document.title; document.title=msg; setTimeout(()=>document.title=o,900); }

  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
  (function init(){ addRow(); addRow(); recalc(); })();

  // –°–ª—É—Ö–∞—á—ñ
  document.querySelectorAll('#objType,#objName,#unit,#epsh,#prod,#dose,#ai,#sprN,#W,#tank,#area,#field,#wind,#rh,#temp,#rain')
    .forEach(el=>el.addEventListener('change', ()=>recalc()));
  document.addEventListener('change', e=>{
    if(e.target.classList.contains('ppe')) ppeCheck();
  });
</script>
</body>
</html>
