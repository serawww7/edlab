<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <title>–í–ø—Ä–∞–≤–∞ ¬´–ú—ñ–π —Å–∏—Ä–∏–π –ø—Ä–æ–¥—É–∫—Ç ‚Äî –º—ñ–π –≥–æ—Ç–æ–≤–∏–π –ø—Ä–æ–¥—É–∫—Ç¬ª ‚Äî –¥–ª—è —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–≤ (—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ –¥–ª—è —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–≤: —Å–∏—Ä–æ–≤–∏–Ω–∞ ‚Üí –ø—Ä–æ—Ü–µ—Å ‚Üí —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ ‚Üí –≥–æ—Ç–æ–≤–∏–π –ø—Ä–æ–¥—É–∫—Ç ‚Üí —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏. –ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è, —Ç–∞–π–º–µ—Ä, –µ–∫—Å–ø–æ—Ä—Ç .txt/.png, –¥—Ä—É–∫.">
  <style>
    :root{
      --bg:#0b1220; --card:#0f172a; --muted:#93a4bf; --fg:#e6eefc; --accent:#60a5fa; --ok:#34d399; --warn:#fbbf24; --danger:#f87171; --border:#1f2a44; --ink:#0a1020;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Apple Color Emoji','Segoe UI Emoji';line-height:1.6}
    a{color:var(--accent);text-decoration:none} a:hover{text-decoration:underline}
    header{background:linear-gradient(180deg,#0d1b2a,#0b1220);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:20}
    .head{max-width:1080px;margin:0 auto;padding:16px 20px}
    .title{margin:0;font-size:28px;letter-spacing:.2px}
    .subtitle{margin:6px 0 0 0;color:var(--muted);font-size:15px}
    .wrap{max-width:1080px;margin:0 auto;padding:20px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:18px;margin:14px 0}
    h2{margin:0 0 10px 0;font-size:22px}
    h3{margin:12px 0 8px 0;font-size:18px}
    .grid{display:grid;gap:12px}
    @media(min-width:900px){.grid.cols-2{grid-template-columns:1fr 1fr}}
    .list{margin:8px 0 0 18px}.list li{margin:6px 0}
    .hint{color:var(--muted);font-size:14px}
    .script{background:#0a1020;border:1px dashed var(--border);border-radius:10px;padding:12px;margin-top:10px}
    .kbd{font-family:ui-monospace,Menlo,Consolas,monospace;background:#0a1020;border:1px solid var(--border);border-radius:8px;padding:10px 12px;color:#dbeafe}
    .agenda{display:grid;gap:8px}
    .agenda .item{display:flex;align-items:center;justify-content:space-between;border:1px solid var(--border);border-radius:10px;padding:10px 12px;background:#0b1528}
    .agenda .item span{font-size:14px;color:var(--muted)}
    .divider{height:1px;background:var(--border);margin:12px 0}
    .btn-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--border);border-radius:10px;background:#0c1426;color:#e6eefc;text-decoration:none;cursor:pointer}
    .btn:hover{background:#0e1a32}
    input[type="text"],textarea,select{width:100%;background:#0b1528;color:#e6eefc;border:1px solid var(--border);border-radius:10px;padding:10px 12px}
    textarea{min-height:64px;resize:vertical}
    .two{display:grid;gap:12px} @media(min-width:820px){.two{grid-template-columns:1fr 1fr}}
    .timer{display:inline-flex;align-items:center;gap:6px;font-size:13px;color:var(--muted)}
    .toolbar{display:flex;gap:8px;flex-wrap:wrap}
    .chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid var(--border);border-radius:999px;font-size:13px;color:#dbeafe;background:#0b1528}
    .chip input{width:120px}
    .badge{display:inline-block;font-size:12px;padding:2px 8px;border-radius:999px;border:1px solid var(--border);color:#93a4bf;margin-left:8px}
    .sketch{background:#081125;border:1px dashed var(--border);border-radius:12px;touch-action:none}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
    @media print{
      header,.btn,.hint,.toolbar{display:none !important}
      body{background:#fff;color:#000}
      .card{border:0;background:#fff}
      input,textarea{border:0}
    }
  </style>
</head>
<body>
<header>
  <div class="head">
    <h1 class="title">–í–ø—Ä–∞–≤–∞ ¬´–ú—ñ–π —Å–∏—Ä–∏–π –ø—Ä–æ–¥—É–∫—Ç ‚Äî –º—ñ–π –≥–æ—Ç–æ–≤–∏–π –ø—Ä–æ–¥—É–∫—Ç¬ª ‚Äî –¥–ª—è —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–≤</h1>
    <p class="subtitle">–†–µ–¥–∞–≥–æ–≤–∞–Ω–∞ —Å—Ö–µ–º–∞ üß™‚öôÔ∏è ‚Ä¢ 10 —Ö–≤ –Ω–∞ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è ‚Ä¢ –∞–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è ‚Ä¢ –µ–∫—Å–ø–æ—Ä—Ç .txt/.png ‚Ä¢ –¥—Ä—É–∫</p>
    <div class="btn-row">
      <button class="btn" id="exportTxt">‚¨áÔ∏è –ï–∫—Å–ø–æ—Ä—Ç .txt</button>
      <button class="btn" id="savePng">üñºÔ∏è –ï–∫—Å–ø–æ—Ä—Ç —Å—Ö–µ–º–∏ .png</button>
      <button class="btn" id="printPage">üñ®Ô∏è –î—Ä—É–∫</button>
      <button class="btn" id="clearAll">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏</button>
      <span class="timer">–¢–∞–π–º–µ—Ä: <span id="t1">00:00</span> <button class="btn" id="startTimer">‚ñ∂ 10:00</button></span>
      <span class="hint">–î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Ü—å–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó.</span>
    </div>
  </div>
</header>

<main class="wrap">
  <section class="card">
    <div class="grid cols-2">
      <div>
        <h2>–ú–µ—Ç–∞ –∑–∞–Ω—è—Ç—Ç—è</h2>
        <ul class="list">
          <li>–û—Å–º–∏—Å–ª–∏—Ç–∏ ¬´—Å–∏—Ä–æ–≤–∏–Ω—É¬ª –≤–ª–∞—Å–Ω–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É.</li>
          <li>–°–ø—Ä–æ—î–∫—Ç—É–≤–∞—Ç–∏ ¬´–ø—Ä–æ—Ü–µ—Å –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è¬ª (–∫—Ä–æ–∫–∏, —É–º–æ–≤–∏, –Ω–∞—Å—Ç–∞–≤–Ω–∏—Ü—Ç–≤–æ).</li>
          <li>–í–∏–∑–Ω–∞—á–∏—Ç–∏ ¬´—ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏¬ª —Ç–∞ –æ—Å–æ–±–∏—Å—Ç—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏ —è–∫–æ—Å—Ç—ñ.</li>
        </ul>
        <div class="divider"></div>
        <h3>–ü—Ä–∞–≤–∏–ª–∞ —Ä–æ–±–æ—Ç–∏</h3>
        <ul class="list">
          <li>–°—Ö–µ–º–∞ –¥–ª—è —Å–µ–±–µ ‚Äî –Ω–µ —Ö—É–¥–æ–∂–Ω—ñ–π –∫–æ–Ω–∫—É—Ä—Å.</li>
          <li>–ö–æ—Ä–æ—Ç–∫—ñ –ø—ñ–¥–ø–∏—Å–∏ (1‚Äì5 —Å–ª—ñ–≤), –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ.</li>
          <li>–î—ñ–ª–∏—Ç–∏—Å—è ‚Äî –¥–æ–±—Ä–æ–≤—ñ–ª—å–Ω–æ. –ü–æ–≤–∞–≥–∞ –π –∫–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å.</li>
        </ul>
      </div>
      <div>
        <h2>–ü–ª–∞–Ω —ñ —Ç–∞–π–º—ñ–Ω–≥</h2>
        <div class="agenda">
          <div class="item"><strong>1. –í—Å—Ç—É–ø</strong> <span>2 —Ö–≤</span></div>
          <div class="item"><strong>2. –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è</strong> <span>10 —Ö–≤</span></div>
          <div class="item"><strong>3. –û–±–º—ñ–Ω</strong> <span>5‚Äì7 —Ö–≤</span></div>
          <div class="item"><strong>4. –†–µ—Ñ–ª–µ–∫—Å—ñ—è</strong> <span>5 —Ö–≤</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- 1. –í—Å—Ç—É–ø -->
  <section class="card">
    <h2>1) –í—Å—Ç—É–ø (2 —Ö–≤)</h2>
    <div class="script">
      <p class="kbd">¬´–í–∏ ‚Äî –º–∞–π–±—É—Ç–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏. –í–∞—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî —ñ–∑ —Å–∏—Ä–æ—ó —Å–∏—Ä–æ–≤–∏–Ω–∏ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ü—ñ–Ω–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç. –ü–æ–¥–∏–≤—ñ–º–æ—Å—è –Ω–∞ —Ü–µ —è–∫ –Ω–∞ –º–µ—Ç–∞—Ñ–æ—Ä—É –≤–∞—à–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É: –∑ —á–æ–≥–æ —Å—Ç–∞—Ä—Ç—É—î—Ç–µ, —â–æ –¥–æ–¥–∞—î—Ç–µ —ñ –≤ —â–æ –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç–µ—Å—å¬ª.</p>
    </div>
  </section>

  <!-- 2. –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è -->
  <section class="card">
    <h2>2) –Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è (10 —Ö–≤)</h2>
    <p class="hint">–ó–∞–ø–æ–≤–Ω–∏ –ø–æ–ª—è (1‚Äì5 —Å–ª—ñ–≤). –ü—ñ–¥–ø–∏—Å–∏ –æ–¥—Ä–∞–∑—É –∑‚Äô—è–≤–ª—è—é—Ç—å—Å—è –Ω–∞ —Å—Ö–µ–º—ñ.</p>

    <div class="two">
      <div>
        <label class="kbd">–°–∏—Ä–æ–≤–∏–Ω–∞ ‚Äî —â–æ –≤ –º–µ–Ω–µ –≤–∂–µ —î –∑–∞—Ä–∞–∑ (–∑–¥—ñ–±–Ω–æ—Å—Ç—ñ, —Ä–∏—Å–∏, –∑–Ω–∞–Ω–Ω—è)</label>
        <textarea id="raw"></textarea>

        <label class="kbd">–ü—Ä–æ—Ü–µ—Å –æ–±—Ä–æ–±–∫–∏ ‚Äî –¥—ñ—ó/—É–º–æ–≤–∏/–∑—É—Å–∏–ª–ª—è –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è</label>
        <textarea id="process"></textarea>

        <label class="kbd">–î–æ–¥–∞—Ç–∫–æ–≤—ñ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ ‚Äî —â–æ –¥–æ–¥–∞—Ç–∏ –¥–ª—è —è–∫–æ—Å—Ç—ñ</label>
        <textarea id="ingredients"></textarea>

        <label class="kbd">–ú—ñ–π –≥–æ—Ç–æ–≤–∏–π –ø—Ä–æ–¥—É–∫—Ç ‚Äî –∫–∏–º/—è–∫–∏–º —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–æ–º —Ö–æ—á—É –≤–∏–π—Ç–∏</label>
        <textarea id="product"></textarea>

        <label class="kbd">–¢–µ—Ä–º—ñ–Ω –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ / –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è ‚Äî –º–æ—ó —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ –π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏</label>
        <textarea id="labeling"></textarea>
      </div>

      <!-- –°—Ö–µ–º–∞ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞: SVG + —Å–∫–µ—Ç—á -->
      <div>
        <div class="toolbar" style="margin-bottom:8px">
          <span class="chip">–ü–µ—Ä–æ <input type="range" id="penSize" min="1" max="10" value="3"><input type="color" id="penColor" value="#60a5fa"></span>
          <span class="chip">–õ–∞—Å—Ç–∏–∫ <input type="range" id="eraserSize" min="5" max="30" value="14"></span>
          <button class="btn" id="modePen">‚úèÔ∏è –ü–µ—Ä–æ</button>
          <button class="btn" id="modeEraser">üßΩ –õ–∞—Å—Ç–∏–∫</button>
          <button class="btn" id="clearSketch">‚ôªÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏ —à—Ç—Ä–∏—Ö</button>
        </div>

        <svg id="flowSvg" viewBox="0 0 760 420" style="width:100%;background:#081322;border:1px solid var(--border);border-radius:12px">
          <!-- —Å—Ç—Ä—ñ—á–∫–∞ –∫–æ–Ω–≤–µ—î—Ä–∞ -->
          <rect x="40" y="260" width="680" height="16" fill="#2b3a55"/>
          <!-- –±–ª–æ–∫–∏ -->
          <g font-family="ui-monospace,Menlo,Consolas,monospace" font-size="12" fill="#e6eefc" stroke="#1f2a44" stroke-width="2">
            <!-- RAW BIN -->
            <rect x="40" y="120" width="120" height="120" rx="10" fill="#0b1f3a"></rect>
            <text x="100" y="110" text-anchor="middle">–°–ò–†–û–í–ò–ù–ê</text>
            <!-- MIXER -->
            <rect x="200" y="120" width="140" height="120" rx="10" fill="#102744"></rect>
            <text x="270" y="110" text-anchor="middle">–ü–†–û–¶–ï–°</text>
            <!-- ADDITIONS -->
            <rect x="380" y="120" width="140" height="120" rx="10" fill="#0f2c38"></rect>
            <text x="450" y="110" text-anchor="middle">–Ü–ù–ì–†–ï–î–Ü–Ñ–ù–¢–ò</text>
            <!-- PRODUCT -->
            <rect x="560" y="120" width="160" height="120" rx="10" fill="#10361f"></rect>
            <text x="640" y="110" text-anchor="middle">–ì–û–¢–û–í–ò–ô –ü–†–û–î–£–ö–¢</text>
          </g>
          <!-- —Å—Ç—Ä—ñ–ª–∫–∏ -->
          <g stroke="#60a5fa" stroke-width="3" fill="none">
            <path d="M160,180 L200,180"/><polygon points="200,180 192,175 192,185" fill="#60a5fa"/>
            <path d="M340,180 L380,180"/><polygon points="380,180 372,175 372,185" fill="#60a5fa"/>
            <path d="M520,180 L560,180"/><polygon points="560,180 552,175 552,185" fill="#60a5fa"/>
          </g>
          <!-- —ñ–∫–æ–Ω–∫–∏ -->
          <g>
            <circle cx="100" cy="300" r="10" fill="#8b6b3f"/><circle cx="130" cy="300" r="10" fill="#8b6b3f"/>
            <rect x="250" y="292" width="40" height="16" fill="#a3a3a3"/>
            <circle cx="450" cy="300" r="8" fill="#fbbf24"/>
            <rect x="620" y="292" width="60" height="18" rx="4" fill="#34d399"/>
          </g>

          <!-- –ü–Ü–î–ü–ò–°–ò (–æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –∑ –ø–æ–ª—ñ–≤) -->
          <g id="labels" font-family="ui-monospace,Menlo,Consolas,monospace" font-size="12" fill="#e6eefc">
            <foreignObject x="50" y="140" width="100" height="90">
              <div xmlns="http://www.w3.org/1999/xhtml" class="mono" style="color:#e6eefc; font-size:12px" id="l_raw">‚Ä¢ ‚Ä¶</div>
            </foreignObject>
            <foreignObject x="210" y="140" width="120" height="90">
              <div xmlns="http://www.w3.org/1999/xhtml" class="mono" id="l_process">‚Ä¢ ‚Ä¶</div>
            </foreignObject>
            <foreignObject x="390" y="140" width="120" height="90">
              <div xmlns="http://www.w3.org/1999/xhtml" class="mono" id="l_ing">‚Ä¢ ‚Ä¶</div>
            </foreignObject>
            <foreignObject x="570" y="140" width="140" height="90">
              <div xmlns="http://www.w3.org/1999/xhtml" class="mono" id="l_prod">‚Ä¢ ‚Ä¶</div>
            </foreignObject>
            <text id="l_label" x="640" y="330" text-anchor="middle">—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏: ‚Ä¶</text>
          </g>
        </svg>

        <!-- –®—Ç—Ä–∏—Ö-–∫–∞–Ω–≤–∞ –Ω–∞–¥ —Å—Ö–µ–º–æ—é -->
        <canvas id="sketch" class="sketch" width="760" height="420" style="width:100%;margin-top:8px"></canvas>
        <div class="hint">–ù–∞–º–∞–ª—é–π —Å—Ç—Ä—ñ–ª–∫–∏/—Ä–∞–º–∫–∏ –ø–µ—Ä–æ–º (—Ç–∞—á/–º–∏—à–∞). –õ–∞—Å—Ç–∏–∫ —Å—Ç–∏—Ä–∞—î —à—Ç—Ä–∏—Ö.</div>
      </div>
    </div>

    <div class="script" style="margin-top:10px">
      <p class="kbd">–ü—Ä–∏–∫–ª–∞–¥–∏ —Ñ–æ—Ä–º–∞—Ç—É: ¬´—Å–∏—Ä–æ–≤–∏–Ω–∞: —É–≤–∞–∂–Ω—ñ—Å—Ç—å; –±–∞–∑–æ–≤–∞ —Ö—ñ–º—ñ—è¬ª ‚Ä¢ ¬´–ø—Ä–æ—Ü–µ—Å: –ø—Ä–∞–∫—Ç–∏–∫–∞ —â–æ—Ç–∏–∂–Ω—è; —Ç—å—é—Ç–æ—Ä 1√ó/—Ç–∏–∂¬ª ‚Ä¢ ¬´—ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏: Excel; HACCP-–∫—É—Ä—Å¬ª ‚Ä¢ ¬´–ø—Ä–æ–¥—É–∫—Ç: —Ç–µ—Ö–Ω–æ–ª–æ–≥ –∑ –∫–æ–Ω—Ç—Ä–æ–ª—é —è–∫–æ—Å—Ç—ñ¬ª ‚Ä¢ ¬´—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏: —á–µ—Å–Ω—ñ—Å—Ç—å; –ø—Ä–æ—Å—Ç–µ–∂—É–≤–∞–Ω—ñ—Å—Ç—å; –≥—ñ–≥—ñ—î–Ω–∞¬ª.</p>
    </div>
  </section>

  <!-- 3. –û–±–º—ñ–Ω -->
  <section class="card">
    <h2>3) –û–±–º—ñ–Ω (5‚Äì7 —Ö–≤)</h2>
    <div class="btn-row">
      <button class="btn" id="shareRaw">–û–∑–≤—É—á–∏—Ç–∏ —Å–∏—Ä–æ–≤–∏–Ω—É</button>
      <button class="btn" id="shareIng">–ù–∞–∑–≤–∞—Ç–∏ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç</button>
      <button class="btn" id="shareProd">–û–ø–∏—Å–∞—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç</button>
      <span class="badge" id="shareOut">‚Äî</span>
    </div>
    <p class="hint">–ö–ª—ñ–∫–Ω–∏ ‚Äî –æ—Ç—Ä–∏–º–∞—î—à –∫–æ—Ä–æ—Ç–∫–∏–π —Ç–µ–∫—Å—Ç –¥–ª—è –æ–∑–≤—É—á–µ–Ω–Ω—è/—á–∞—Ç—É (–∫–æ–ø—ñ—é—î—Ç—å—Å—è –≤ –±—É—Ñ–µ—Ä).</p>
  </section>

  <!-- 4. –†–µ—Ñ–ª–µ–∫—Å—ñ—è -->
  <section class="card">
    <h2>4) –†–µ—Ñ–ª–µ–∫—Å—ñ—è (5 —Ö–≤)</h2>
    <div class="two">
      <div>
        <label class="kbd">–©–æ –∑—Ä–æ–∑—É–º—ñ–≤(–ª–∞) –ø—Ä–æ —Å–µ–±–µ —á–µ—Ä–µ–∑ –º–µ—Ç–∞—Ñ–æ—Ä—É ¬´–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è¬ª?</label>
        <textarea id="ref1"></textarea>
      </div>
      <div>
        <label class="kbd">–©–æ –º–æ–∂–µ–º–æ ¬´–¥–æ–¥–∞–≤–∞—Ç–∏¬ª –æ–¥–Ω–µ –æ–¥–Ω–æ–º—É —è–∫ –≥—Ä—É–ø–∞?</label>
        <textarea id="ref2"></textarea>
      </div>
    </div>
    <div class="two" style="margin-top:10px">
      <div>
        <label class="kbd">–ú—ñ–π –ø–µ—Ä—à–∏–π –∫—Ä–æ–∫ (–¥—ñ—î—Å–ª–æ–≤–æ + –∫–æ–ª–∏ + —è–∫ –¥–æ–≤–≥–æ)</label>
        <textarea id="ref3"></textarea>
      </div>
      <div>
        <label class="kbd">–ö—Ä–∏—Ç–∏—á–Ω—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏ —è–∫–æ—Å—Ç—ñ, —è–∫–∏—Ö —è –¥–æ—Ç—Ä–∏–º—É—é—Å—å –∑–∞–≤–∂–¥–∏</label>
        <textarea id="ref4"></textarea>
      </div>
    </div>
  </section>

  <!-- –ú–∞—Ç–µ—Ä—ñ–∞–ª -->
  <section class="card">
    <h2>–ú–∞—Ç–µ—Ä—ñ–∞–ª –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –∫—É—Ä—Å—ñ</h2>
    <p class="hint">–ó–±–µ—Ä–µ–∂–∏ —Ñ–∞–π–ª —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —Ç–∞ –≤–±—É–¥—É–π —É Moodle —á–µ—Ä–µ–∑ <span class="kbd">&lt;iframe&gt;</span>. –°—Ç—É–¥–µ–Ω—Ç–∏ –º–æ–∂—É—Ç—å –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –π –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —Å–≤—ñ–π –ø–ª–∞–Ω.</p>
    <div class="btn-row">
      <span class="btn">–ú–æ—è –∫–ª—é—á–æ–≤–∞ —Å–∏—Ä–æ–≤–∏–Ω–∞</span>
      <span class="btn">–ú—ñ–π –ø—Ä–æ—Ü–µ—Å –∑–º—ñ–Ω</span>
      <span class="btn">–Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏ —è–∫–æ—Å—Ç—ñ</span>
      <span class="btn">–û–ø–∏—Å –≥–æ—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç—É</span>
      <span class="btn">–ú–æ—ó —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏ —è–∫–æ—Å—Ç—ñ</span>
    </div>
  </section>

  <footer class="card">
    <div class="hint">¬© –í–ø—Ä–∞–≤–∞ –¥–ª—è —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ—Å—Ç—ñ ¬´–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞ —Ç–∞ –ø–µ—Ä–µ—Ä–æ–±–∫–∏ –ø—Ä–æ–¥—É–∫—Ü—ñ—ó¬ª. –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (localStorage).</div>
  </footer>
</main>

<script>
  // ===== –£–¢–ò–õ–Ü–¢–ò
  const $=(s,ctx=document)=>ctx.querySelector(s);
  const $$=(s,ctx=document)=>Array.from(ctx.querySelectorAll(s));
  const KEY='tech_product_map_v1';

  function fmt(s){const m=String(Math.floor(s/60)).padStart(2,'0');const ss=String(s%60).padStart(2,'0');return `${m}:${ss}`;}
  function beep(){try{const c=new (window.AudioContext||window.webkitAudioContext)();const o=c.createOscillator();const g=c.createGain();o.connect(g);g.connect(c.destination);o.type='sine';o.frequency.value=880;g.gain.value=0.05;o.start();setTimeout(()=>{o.stop();c.close();},300);}catch(e){}}

  // ===== –¢–ê–ô–ú–ï–† 10 —Ö–≤
  let timer=null,sec=0,limit=600;
  $('#startTimer').addEventListener('click',()=>{
    if(timer){clearInterval(timer); timer=null; sec=0; $('#t1').textContent='00:00'; return;}
    timer=setInterval(()=>{sec++; $('#t1').textContent=fmt(sec); if(sec>=limit){clearInterval(timer); timer=null; beep();}},1000);
  });

  // ===== –û–ù–û–í–õ–ï–ù–ù–Ø –ü–Ü–î–ü–ò–°–Ü–í –ù–ê SVG
  const fields=['raw','process','ingredients','product','labeling','ref1','ref2','ref3','ref4'];
  fields.forEach(id=>{
    $('#'+id).addEventListener('input',()=>{ updateLabels(); save(); });
  });

  function bulletize(text,maxLines=5){
    const parts = text.split('\n').map(s=>s.trim()).filter(Boolean).slice(0,maxLines);
    if(parts.length===0) return '‚Ä¢ ‚Ä¶';
    return '‚Ä¢ ' + parts.join('<br>‚Ä¢ ');
  }
  function updateLabels(){
    $('#l_raw').innerHTML = bulletize($('#raw').value);
    $('#l_process').innerHTML = bulletize($('#process').value);
    $('#l_ing').innerHTML = bulletize($('#ingredients').value);
    $('#l_prod').innerHTML = bulletize($('#product').value);
    $('#l_label').textContent = '—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏: ' + ($('#labeling').value.trim()||'‚Ä¶');
  }

  // ===== –°–ö–ï–¢–ß –ü–û–í–ï–†–• –°–•–ï–ú–ò
  const sketch = $('#sketch'); const ctx = sketch.getContext('2d');
  let mode='pen', drawing=false, last=[0,0];
  function pos(e){
    const r=sketch.getBoundingClientRect();
    const x=(e.touches?e.touches[0].clientX:e.clientX)-r.left;
    const y=(e.touches?e.touches[0].clientY:e.clientY)-r.top;
    const sx=sketch.width/r.width, sy=sketch.height/r.height;
    return [x*sx,y*sy];
  }
  function start(e){drawing=true; last=pos(e); e.preventDefault();}
  function move(e){
    if(!drawing) return;
    const [x,y]=pos(e);
    ctx.lineCap='round'; ctx.lineJoin='round';
    if(mode==='pen'){ ctx.globalCompositeOperation='source-over'; ctx.strokeStyle=$('#penColor').value; ctx.lineWidth=+$('#penSize').value; }
    else{ ctx.globalCompositeOperation='destination-out'; ctx.strokeStyle='rgba(0,0,0,1)'; ctx.lineWidth=+$('#eraserSize').value; }
    ctx.beginPath(); ctx.moveTo(last[0],last[1]); ctx.lineTo(x,y); ctx.stroke(); last=[x,y];
  }
  function end(){drawing=false; save();}
  sketch.addEventListener('mousedown',start); sketch.addEventListener('mousemove',move); window.addEventListener('mouseup',end);
  sketch.addEventListener('touchstart',start,{passive:false}); sketch.addEventListener('touchmove',move,{passive:false}); sketch.addEventListener('touchend',end);
  $('#modePen').addEventListener('click',()=>mode='pen');
  $('#modeEraser').addEventListener('click',()=>mode='eraser');
  $('#clearSketch').addEventListener('click',()=>{ ctx.clearRect(0,0,sketch.width,sketch.height); save(); });

  // ===== –û–ë–ú–Ü–ù: –®–í–ò–î–ö–Ü –§–†–ê–ó–ò
  function clip(t){ navigator.clipboard?.writeText(t).catch(()=>{}); $('#shareOut').textContent=t; }
  $('#shareRaw').addEventListener('click',()=> clip('–ú–æ—è –∫–ª—é—á–æ–≤–∞ ¬´—Å–∏—Ä–æ–≤–∏–Ω–∞¬ª: '+($('#raw').value.trim()||'‚Äî')));
  $('#shareIng').addEventListener('click',()=> clip('–Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç, —è–∫–∏–π –¥–æ–¥–∞–º: '+($('#ingredients').value.trim()||'‚Äî')));
  $('#shareProd').addEventListener('click',()=> clip('–ú—ñ–π ¬´–≥–æ—Ç–æ–≤–∏–π –ø—Ä–æ–¥—É–∫—Ç¬ª: '+($('#product').value.trim()||'‚Äî')));

  // ===== –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø
  function save(){
    const d={}; fields.forEach(id=> d[id]=$('#'+id).value);
    try{ d.sketch = sketch.toDataURL('image/png'); }catch(e){}
    localStorage.setItem(KEY, JSON.stringify(d));
  }
  function load(){
    const raw=localStorage.getItem(KEY); if(!raw){ updateLabels(); return; }
    try{
      const d=JSON.parse(raw);
      fields.forEach(id=>{ if(d[id]!=null) $('#'+id).value=d[id]; });
      updateLabels();
      if(d.sketch){
        const img=new Image(); img.onload=()=>{ ctx.clearRect(0,0,sketch.width,sketch.height); ctx.drawImage(img,0,0); }; img.src=d.sketch;
      }
    }catch(e){ updateLabels(); }
  }

  // ===== –ï–ö–°–ü–û–†–¢ –£ TXT
  $('#exportTxt').addEventListener('click',()=>{
    const d=fields.reduce((o,id)=>(o[id]=$('#'+id).value,o),{});
    const txt=[
'–í–ü–†–ê–í–ê ¬´–ú–Ü–ô –°–ò–†–ò–ô –ü–†–û–î–£–ö–¢ ‚Äî –ú–Ü–ô –ì–û–¢–û–í–ò–ô –ü–†–û–î–£–ö–¢¬ª ‚Äî –ü–Ü–î–°–£–ú–û–ö',
'',
'–°–ò–†–û–í–ò–ù–ê:', d.raw,
'',
'–ü–†–û–¶–ï–° –û–ë–†–û–ë–ö–ò:', d.process,
'',
'–î–û–î–ê–¢–ö–û–í–Ü –Ü–ù–ì–†–ï–î–Ü–Ñ–ù–¢–ò:', d.ingredients,
'',
'–ì–û–¢–û–í–ò–ô –ü–†–û–î–£–ö–¢:', d.product,
'',
'–°–¢–ê–ù–î–ê–†–¢–ò/–ú–ê–†–ö–£–í–ê–ù–ù–Ø:', d.labeling,
'',
'[–†–ï–§–õ–ï–ö–°–Ü–Ø]',
'–£—Å–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: '+(d.ref1||'-'),
'–ü—ñ–¥—Å–∏–ª–µ–Ω–Ω—è –≥—Ä—É–ø–æ—é: '+(d.ref2||'-'),
'–ü–µ—Ä—à–∏–π –∫—Ä–æ–∫: '+(d.ref3||'-'),
'–ú–æ—ó –∫—Ä–∏—Ç–∏—á–Ω—ñ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏: '+(d.ref4||'-')
    ].join('\n');
    const a=document.createElement('a');
    const stamp=new Date().toISOString().slice(0,16).replace('T','_').replace(':','-');
    a.href=URL.createObjectURL(new Blob([txt],{type:'text/plain;charset=utf-8'}));
    a.download=`tech_product_${stamp}.txt`; document.body.appendChild(a); a.click();
    setTimeout(()=>{URL.revokeObjectURL(a.href); a.remove();},0);
  });

  // ===== –ï–ö–°–ü–û–†–¢ –°–•–ï–ú–ò –í PNG (SVG + –µ—Å–∫—ñ–∑)
  $('#savePng').addEventListener('click',()=>{
    const svgNode=$('#flowSvg');
    const s = new XMLSerializer().serializeToString(svgNode);
    const svg64 = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(s);
    const img=new Image();
    img.onload=()=>{
      const can=document.createElement('canvas'); can.width=svgNode.viewBox.baseVal.width; can.height=svgNode.viewBox.baseVal.height;
      const c=can.getContext('2d');
      c.drawImage(img,0,0);
      c.drawImage(sketch,0,0);
      const a=document.createElement('a');
      a.href=can.toDataURL('image/png'); const stamp=new Date().toISOString().slice(0,16).replace('T','_').replace(':','-');
      a.download=`tech_product_diagram_${stamp}.png`; document.body.appendChild(a); a.click();
      setTimeout(()=>a.remove(),0);
    };
    img.src=svg64;
  });

  // ===== –î–†–£–ö / –û–ß–ò–°–¢–ö–ê
  $('#printPage').addEventListener('click',()=>window.print());
  $('#clearAll').addEventListener('click',()=>{ if(confirm('–û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å—ñ –ª–æ–∫–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ —Ü—ñ—î—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏?')){ localStorage.removeItem(KEY); location.reload(); }});

  // ===== –°–¢–ê–†–¢
  window.addEventListener('load', load);
</script>
</body>
</html>
