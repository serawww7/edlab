<!DOCTYPE html><html lang="uk"><head>
  <meta charset="utf-8">
  <title>–ü–æ–∑–∏—Ç–∏–≤–Ω–µ —ñ –Ω–µ–≥–∞—Ç–∏–≤–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è ‚Äî —Å–∞–º–æ–æ—Ü—ñ–Ω–∫–∞ —Ç–∞ —Å–∞–º–æ–≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è (—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤, 80 —Ö–≤)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="–ü–æ–≤–Ω–∏–π —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –∫–æ–Ω—Å–ø–µ–∫—Ç —Ç—Ä–µ–Ω—ñ–Ω–≥—É: —Ç–µ—Å—Ç ¬´–¥–µ—Ä–µ–≤–æ –∑ —á–æ–ª–æ–≤—ñ—á–∫–∞–º–∏¬ª, –º–æ–∑–∫–æ–≤–∏–π —à—Ç—É—Ä–º, —è–∫–æ—Å—Ç—ñ, –ø–∏—Ä—ñ–≥ —â–∞—Å—Ç—è, –∞–≤—Å—Ç—Ä–∞–ª—ñ–π—Å—å–∫–∏–π –¥–æ—â, –ø—Ä–∏—Ç—á–∞, –º–∞–≥—ñ—á–Ω–µ –∫–æ–ª–æ –±–∞–∂–∞–Ω—å, —Ä–µ—Ñ–ª–µ–∫—Å—ñ—è –î–†–Ü–î. –ï–∫—Å–ø–æ—Ä—Ç —É .txt —Ç–∞ –¥—Ä—É–∫.">
  <style>
    :root{
      --bg:#0b1220; --card:#0f172a; --muted:#93a4bf; --fg:#e6eefc; --accent:#60a5fa;
      --ok:#34d399; --warn:#fbbf24; --danger:#f87171; --border:#1f2a44; --ink:#0a1020;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Apple Color Emoji','Segoe UI Emoji';line-height:1.6}
    a{color:var(--accent);text-decoration:none} a:hover{text-decoration:underline}
    header{background:linear-gradient(180deg,#0d1b2a,#0b1220);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:40}
    .head{max-width:1060px;margin:0 auto;padding:16px 20px}
    .title{margin:0;font-size:28px;letter-spacing:.2px}
    .subtitle{margin:6px 0 0 0;color:var(--muted);font-size:15px}
    .wrap{max-width:1060px;margin:0 auto;padding:18px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:18px;margin:14px 0}
    h2{margin:0 0 10px 0;font-size:22px} h3{margin:12px 0 8px 0;font-size:18px}
    .grid{display:grid;gap:12px} @media(min-width:920px){.grid.cols-2{grid-template-columns:1fr 1fr}}
    .list{margin:8px 0 0 18px} .list li{margin:6px 0}
    .hint{color:var(--muted);font-size:14px}
    .btn-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--border);border-radius:10px;background:#0c1426;color:#e6eefc;cursor:pointer}
    .btn:hover{background:#0e1a32}
    .pill{display:inline-block;padding:4px 10px;border:1px solid var(--border);border-radius:999px;font-size:12px;color:var(--muted);margin-right:6px}
    .timer{display:inline-flex;align-items:center;gap:6px;font-size:13px;color:var(--muted)}
    .timer .dot{width:8px;height:8px;border-radius:50%;background:var(--warn)}
    .kbd{font-family:ui-monospace,Menlo,Consolas,monospace;background:var(--ink);border:1px solid var(--border);border-radius:8px;padding:10px 12px;color:#dbeafe}
    textarea,input[type="text"]{width:100%;background:#0b1528;color:#e6eefc;border:1px solid var(--border);border-radius:10px;padding:10px 12px}
    textarea{min-height:68px;resize:vertical}
    .row{display:grid;gap:10px} @media(min-width:920px){.row{grid-template-columns:1.2fr 1fr}}
    .two{display:grid;gap:10px} @media(min-width:720px){.two{grid-template-columns:1fr 1fr}}
    .chips{display:flex;flex-wrap:wrap;gap:8px;border:1px dashed var(--border);border-radius:10px;padding:10px;background:#0b162a;min-height:48px}
    .chip{padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#0c1426;cursor:grab}
    .drop{min-height:92px}
    .badge{display:inline-block;font-size:12px;padding:2px 8px;border-radius:999px;border:1px solid var(--border);color:var(--muted);margin-left:8px}
    table{border-collapse:collapse;width:100%;background:#0b162a;border:1px solid var(--border);border-radius:12px;overflow:hidden}
    th,td{padding:10px;border-bottom:1px solid var(--border);vertical-align:top}
    th{background:#0a1426;text-align:left}
    canvas{background:#0a1020;border:1px solid var(--border);border-radius:10px;width:100%;max-width:500px;height:320px}
    .imgbox{display:grid;gap:10px;grid-template-columns:1fr}
    .no-print{ } @media print{ header,.no-print,.btn,.hint{display:none !important} body{background:#fff;color:#000} .card{border:0;background:#fff} textarea,input{border:0} }
  </style>
<link rel="canonical" href="https://edlab.pp.ua/coach/Positive_thinking.html"><meta property="og:type" content="article"><meta property="og:title" content="–ü–æ–∑–∏—Ç–∏–≤–Ω–µ —ñ –Ω–µ–≥–∞—Ç–∏–≤–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è ‚Äî —Å–∞–º–æ–æ—Ü—ñ–Ω–∫–∞ —Ç–∞ —Å–∞–º–æ–≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è"><meta property="og:description" content="–ü–æ–≤–Ω–∏–π –ø–ª–∞–Ω –∑–∞–Ω—è—Ç—Ç—è ‚Ä¢ 80 —Ö–≤ ‚Ä¢ –∑ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ü–∏—Ñ—Ä–æ–≤—ñ–∑–∞—Ü—ñ—ó –¥–ª—è —É—Ä–æ–∫—ñ–≤ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏"><meta property="og:url" content="https://edlab.pp.ua/coach/Positive_thinking.html"><script type="application/ld+json">{"@context":"https://schema.org","@type":"LearningResource","name":"–ü–æ–∑–∏—Ç–∏–≤–Ω–µ —ñ –Ω–µ–≥–∞—Ç–∏–≤–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è ‚Äî —Å–∞–º–æ–æ—Ü—ñ–Ω–∫–∞ —Ç–∞ —Å–∞–º–æ–≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è","description":"–ü–æ–≤–Ω–∏–π –ø–ª–∞–Ω –∑–∞–Ω—è—Ç—Ç—è ‚Ä¢ 80 —Ö–≤ ‚Ä¢ –∑ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ü–∏—Ñ—Ä–æ–≤—ñ–∑–∞—Ü—ñ—ó –¥–ª—è —É—Ä–æ–∫—ñ–≤ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏","inLanguage":"uk","educationalLevel":"college","url":"https://edlab.pp.ua/coach/Positive_thinking.html","provider":{"@type":"Organization","name":"EDLab"}}</script></head>
<body>
<header>
  <div class="head">
    <h1 class="title">–ü–æ–∑–∏—Ç–∏–≤–Ω–µ —ñ –Ω–µ–≥–∞—Ç–∏–≤–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è ‚Äî —Å–∞–º–æ–æ—Ü—ñ–Ω–∫–∞ —Ç–∞ —Å–∞–º–æ–≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è</h1>
    <p class="subtitle">–ü–æ–≤–Ω–∏–π –ø–ª–∞–Ω –∑–∞–Ω—è—Ç—Ç—è ‚Ä¢ 80 —Ö–≤ ‚Ä¢ –∑ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ü–∏—Ñ—Ä–æ–≤—ñ–∑–∞—Ü—ñ—ó –¥–ª—è —É—Ä–æ–∫—ñ–≤ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏</p>
  </div>
</header>

<main class="wrap">

  <!-- –ú–µ—Ç–∞, –æ—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏, –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è -->
  <section class="card">
    <div class="grid cols-2">
      <div>
        <h2>–ú–µ—Ç–∞</h2>
        <ul class="list">
          <li>–£—Å–≤—ñ–¥–æ–º–∏—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–º —ñ –Ω–µ–≥–∞—Ç–∏–≤–Ω–∏–º –º–∏—Å–ª–µ–Ω–Ω—è–º.</li>
          <li>–ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∞–º–æ–æ—Ü—ñ–Ω–∫—É, —Å–∞–º–æ—Ä–µ–≥—É–ª—è—Ü—ñ—é —Ç–∞ –ø–ª–∞–Ω–∏ —Å–∞–º–æ–≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è.</li>
        </ul>
        <h3>–û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏</h3>
        <ul class="list">
          <li>–†–æ–∑—É–º—ñ–Ω–Ω—è –ø–æ–Ω—è—Ç—å ¬´–ø–æ–∑–∏—Ç–∏–≤–Ω–µ/–Ω–µ–≥–∞—Ç–∏–≤–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è¬ª.</li>
          <li>–í–∏—è–≤–ª–µ–Ω–Ω—è –ø—ñ–¥—Å–≤—ñ–¥–æ–º–∏—Ö –±–ª–æ–∫—ñ–≤ —ñ –Ω–æ–≤—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏.</li>
          <li>–ü–æ–∑–∏—Ç–∏–≤–Ω–µ —Å—Ç–∞–≤–ª–µ–Ω–Ω—è –¥–æ —Å–µ–±–µ, —Ç–µ—Ö–Ω—ñ–∫–∏ —Å–∞–º–æ—Ä–µ–≥—É–ª—è—Ü—ñ—ó —Ç–∞ —Å–∞–º–æ—Ä–µ—Ñ–ª–µ–∫—Å—ñ—ó.</li>
        </ul>
      </div>
      <div>
        <h2>–û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è</h2>
        <table>
          <tbody><tr><th>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å</th><td>80 —Ö–≤</td></tr>
          <tr><th>–¶–∏—Ñ—Ä–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏</th><td>–¢–∞–π–º–µ—Ä–∏, –∞–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è (localStorage), –µ–∫—Å–ø–æ—Ä—Ç —É .txt, –¥—Ä—É–∫, –¥—Ä–∞–≥-–µ–Ω–¥-–¥—Ä–æ–ø, canvas-–¥—ñ–∞–≥—Ä–∞–º–∞, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å.</td></tr>
          <tr><th>–ö–Ω–æ–ø–∫–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è</th><td class="no-print">
            <div class="btn-row">
              <button class="btn" id="exportAll">‚¨áÔ∏è –ï–∫—Å–ø–æ—Ä—Ç —É—Å—ñ—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π (.txt)</button>
              <button class="btn" id="printPage">üñ®Ô∏è –î—Ä—É–∫</button>
              <button class="btn" id="clearAll">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ</button>
            </div>
          </td></tr>
        </tbody></table>
      </div>
    </div>
  </section>

  <!-- –Ü. –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ–π–Ω–æ-–º–æ—Ç–∏–≤–∞—Ü—ñ–π–Ω–∏–π –µ—Ç–∞–ø -->
  <section class="card">
    <h2>–Ü. –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ–π–Ω–æ-–º–æ—Ç–∏–≤–∞—Ü—ñ–π–Ω–∏–π –µ—Ç–∞–ø (‚âà15 —Ö–≤)</h2>

    <h3>1) –°–∞–º–æ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—è (10 —Ö–≤)</h3>
    <div class="timer">‚è± <span class="t" id="t-pres">00:00</span> <button class="btn no-print" data-timer="t-pres">‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç 10 —Ö–≤</button></div>
    <div class="two">
      <div>
        <label class="kbd">–ß–æ–≥–æ —è —á–µ–∫–∞—é –≤—ñ–¥ —Ü—å–æ–≥–æ –∑–∞–Ω—è—Ç—Ç—è?</label>
        <textarea id="pres1"></textarea>
        <label class="kbd">–©–æ —è —Ü—ñ–Ω—É—é –≤ —Å–æ–±—ñ?</label>
        <textarea id="pres2"></textarea>
      </div>
      <div>
        <label class="kbd">–ß–∏–º —è –ø–∏—à–∞—é—Å—è?</label>
        <textarea id="pres3"></textarea>
        <label class="kbd">–©–æ –≤–º—ñ—é –Ω–∞–π–∫—Ä–∞—â–µ?</label>
        <textarea id="pres4"></textarea>
      </div>
    </div>

    <h3>2) –í–∏–±—ñ—Ä –ø—Ä–∞–≤–∏–ª (3 —Ö–≤)</h3>
    <div class="timer">‚è± <span class="t" id="t-rules">00:00</span> <button class="btn no-print" data-timer="t-rules">‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç 3 —Ö–≤</button></div>
    <div class="two">
      <div>
        <ul class="list">
          <li><label><input type="checkbox" class="rule" value="–ü–æ–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—å"> –ü–æ–∑–∏—Ç–∏–≤–Ω—ñ—Å—Ç—å</label></li>
          <li><label><input type="checkbox" class="rule" value="–ê–∫—Ç–∏–≤–Ω–∞ –¥–æ–±—Ä–æ–≤—ñ–ª—å–Ω—ñ—Å—Ç—å"> –ê–∫—Ç–∏–≤–Ω–∞ –¥–æ–±—Ä–æ–≤—ñ–ª—å–Ω—ñ—Å—Ç—å</label></li>
          <li><label><input type="checkbox" class="rule" value="–ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å"> –ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω—ñ—Å—Ç—å</label></li>
          <li><label><input type="checkbox" class="rule" value="–ü—Ä–∞–≤–∏–ª–æ –ø—Ä–∞–≤–æ—ó —Ä—É–∫–∏"> –ü—Ä–∞–≤–∏–ª–æ –ø—Ä–∞–≤–æ—ó —Ä—É–∫–∏</label></li>
          <li><label><input type="checkbox" class="rule" value="–Ø-–≤–∏—Å–ª–æ–≤–ª—é–≤–∞–Ω–Ω—è"> –ü—Ä–∏–Ω—Ü–∏–ø ¬´–Ø¬ª</label></li>
          <li><label><input type="checkbox" class="rule" value="–í—ñ–∫—Ç–æ—Ä—ñ—è!"> ¬´–í—ñ–∫—Ç–æ—Ä—ñ—è!¬ª</label></li>
        </ul>
      </div>
      <div>
        <label class="kbd">–ó–≤–µ–¥–µ–Ω–∞ —É–≥–æ–¥–∞ –≥—Ä—É–ø–∏</label>
        <textarea id="rulesText" placeholder="–û–±—Ä–∞–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ –∑‚Äô—è–≤–ª—è—Ç—å—Å—è —Ç—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ."></textarea>
      </div>
    </div>

    <h3>3) –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ¬´–ú–æ—è –¥–æ–ª—è. –£ —á–∏—ó—Ö –≤–æ–Ω–∞ —Ä—É–∫–∞—Ö?¬ª (2 —Ö–≤)</h3>
    <div class="kbd">–õ—é–¥–∏ –∞–±–æ –ø–µ—Ä–µ–∫–ª–∞–¥–∞—é—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–∑–æ–≤–Ω—ñ, –∞–±–æ –±–µ—Ä—É—Ç—å –Ω–∞ —Å–µ–±–µ. –ü–æ–∑–∏—Ç–∏–≤–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è ‚Äî —Ü–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å —ñ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å —à—É–∫–∞—Ç–∏ —Å–µ–Ω—Å —Ç–∞ –∫–æ—Ä–∏—Å—Ç—å —É –ø–æ–¥—ñ—è—Ö, –Ω–∞–≤—ñ—Ç—å —Å–∫–ª–∞–¥–Ω–∏—Ö. –ú–∏ —Ç—Ä–µ–Ω—É—î–º–æ —Å–∞–º–µ —Ü–µ.</div>
  </section>

  <!-- –Ü–Ü. –û—Å–Ω–æ–≤–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ -->
  <section class="card">
    <h2>–Ü–Ü. –û—Å–Ω–æ–≤–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ (‚âà50‚Äì55 —Ö–≤)</h2>

    <!-- –î–µ—Ä–µ–≤–æ –∑ —á–æ–ª–æ–≤—ñ—á–∫–∞–º–∏ -->
    <h3>1) –í–ø—Ä–∞–≤–∞-—Ç–µ—Å—Ç ¬´–ó–ù–ê–ô–î–ò –°–ï–ë–ï –ù–ê –î–ï–†–ï–í–Ü¬ª (10 —Ö–≤)</h3>
    <div class="timer">‚è± <span class="t" id="t-tree">00:00</span> <button class="btn no-print" data-timer="t-tree">‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç 10 —Ö–≤</button></div>
    <div class="imgbox">
      <div class="hint">–ó–∞–≤–∞–Ω—Ç–∞–∂ —Å–≤–æ—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è ¬´–¥–µ—Ä–µ–≤–æ –∑ —á–æ–ª–æ–≤—ñ—á–∫–∞–º–∏¬ª (PNG/JPG). –ê–±–æ –ø—Ä–æ—Å—Ç–æ –æ–±–µ—Ä–∏ –Ω–æ–º–µ—Ä –Ω–∏–∂—á–µ.</div>
      <input class="no-print" type="file" id="treeFile" accept="image/*">
      <img id="treeImg" alt="–°—Ö–µ–º–∞ ¬´–¥–µ—Ä–µ–≤–æ –∑ —á–æ–ª–æ–≤—ñ—á–∫–∞–º–∏¬ª" style="max-width:100%;border:1px solid var(--border);border-radius:10px;display:none">
    </div>
    <div class="two" style="margin-top:10px">
      <div>
        <label class="kbd">–Ø–∫–∏–π –Ω–æ–º–µ—Ä —Å—Ö–æ–∂–∏–π –Ω–∞ –º–µ–Ω–µ –∑–∞—Ä–∞–∑?</label>
        <input id="treeNow" type="text" placeholder="–ù–∞–ø—Ä.: 10">
        <label class="kbd">–ù–∞ –∫–æ–≥–æ —Ö–æ—á—É –±—É—Ç–∏ —Å—Ö–æ–∂–∏–º?</label>
        <input id="treeGoal" type="text" placeholder="–ù–∞–ø—Ä.: 17">
      </div>
      <div>
        <label class="kbd">–Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è</label>
        <textarea id="treeOut" readonly=""></textarea>
      </div>
    </div>

    <!-- –ú–æ–∑–∫–æ–≤–∏–π —à—Ç—É—Ä–º -->
    <h3>2) –ú–æ–∑–∫–æ–≤–∏–π —à—Ç—É—Ä–º ¬´–ü–æ–∑–∏—Ç–∏–≤–Ω–µ vs –ù–µ–≥–∞—Ç–∏–≤–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è¬ª (10 —Ö–≤)</h3>
    <div class="timer">‚è± <span class="t" id="t-brain">00:00</span> <button class="btn no-print" data-timer="t-brain">‚ñ∂Ô∏è –°—Ç–∞—Ä—Ç 10 —Ö–≤</button></div>
    <div class="two">
      <div>
        <div class="pill">–ù–µ–≥–∞—Ç–∏–≤–Ω–∏–π —Ü–∏–∫–ª</div>
        <div id="neg" class="chips drop" aria-label="–Ω–µ–≥–∞—Ç–∏–≤"></div>
      </div>
      <div>
        <div class="pill">–ü–æ–∑–∏—Ç–∏–≤–Ω–∏–π —Ü–∏–∫–ª</div>
        <div id="pos" class="chips drop" aria-label="–ø–æ–∑–∏—Ç–∏–≤"></div>
      </div>
    </div>
    <div class="hint">–ü–µ—Ä–µ—Ç—è–≥—É–π ¬´—Ñ–∞–∫—Ç–∏/–¥—É–º–∫–∏¬ª —è–∫ —á–∏–ø—Å–∏ –º—ñ–∂ —Ü–∏–∫–ª–∞–º–∏. –î–æ–¥–∞–π —Å–≤—ñ–π —á–∏–ø—Å: </div>
    <div class="btn-row no-print">
      <input id="chipInput" type="text" placeholder="–Ω–∞–ø—Ä., ¬´—Å–∞–º–æ–∫—Ä–∏—Ç–∏–∫–∞ –±–µ–∑ –¥—ñ—ó¬ª">
      <button class="btn" id="addChip">‚ûï –î–æ–¥–∞—Ç–∏ —á–∏–ø—Å</button>
      <button class="btn" id="clearChips">‚ôªÔ∏è –°–∫–∏–Ω—É—Ç–∏</button>
    </div>

    <!-- –ú–æ—ó —á—É–¥–æ–≤—ñ —è–∫–æ—Å—Ç—ñ -->
    <h3>3) ¬´–ú–æ—ó —á—É–¥–æ–≤—ñ —è–∫–æ—Å—Ç—ñ¬ª (5 —Ö–≤)</h3>
    <div class="two">
      <div>
        <label class="kbd">–Ø –ø–∏—à–∞—é—Å—è —Å–æ–±–æ—é, –∫–æ–ª–∏‚Ä¶</label>
        <textarea id="q1"></textarea>
        <label class="kbd">–Ø —Å–∏–º–ø–∞—Ç–∏—á–Ω–∞ –ª—é–¥–∏–Ω–∞, —Ç–æ–º—É —â–æ‚Ä¶</label>
        <textarea id="q2"></textarea>
      </div>
      <div>
        <label class="kbd">–ú–æ—ó —á—É–¥–æ–≤—ñ —è–∫–æ—Å—Ç—ñ‚Ä¶</label>
        <textarea id="q3"></textarea>
        <label class="kbd">–û–¥–Ω–∞ –∑ –Ω–∞–π–∫—Ä–∞—â–∏—Ö —Å–ø—Ä–∞–≤ —É –º–æ—î–º—É –∂–∏—Ç—Ç—ñ‚Ä¶</label>
        <textarea id="q4"></textarea>
      </div>
    </div>

    <!-- –ü–∏—Ä—ñ–≥ —â–∞—Å—Ç—è -->
    <h3>4) ¬´–ü–∏—Ä—ñ–≥ –©–∞—Å—Ç—è¬ª (15 —Ö–≤)</h3>
    <div class="two">
      <div>
        <label class="kbd">–°–µ–∫—Ç–æ—Ä–∏ –ø–∏—Ä–æ–≥–∞ (—Å—É–º–∞ = 100%)</label>
        <div class="list" style="margin-left:0">
          <div>–ó–¥–æ—Ä–æ–≤‚Äô—è: <input type="range" id="p1" min="0" max="100" value="20"> <span id="p1v">20</span>%</div>
          <div>–°—Ç–æ—Å—É–Ω–∫–∏/–†–æ–¥–∏–Ω–∞: <input type="range" id="p2" min="0" max="100" value="20"> <span id="p2v">20</span>%</div>
          <div>–ù–∞–≤—á–∞–Ω–Ω—è/–†–æ–±–æ—Ç–∞: <input type="range" id="p3" min="0" max="100" value="25"> <span id="p3v">25</span>%</div>
          <div>–í—ñ–¥–ø–æ—á–∏–Ω–æ–∫/–•–æ–±—ñ: <input type="range" id="p4" min="0" max="100" value="15"> <span id="p4v">15</span>%</div>
          <div>–¢–≤–æ—Ä—á—ñ—Å—Ç—å/–í–Ω–µ—Å–æ–∫: <input type="range" id="p5" min="0" max="100" value="20"> <span id="p5v">20</span>%</div>
        </div>
        <div class="hint">–ü–æ—Ä–∞–¥–∞: –ø—ñ–¥ —á–∞—Å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó –Ω–∞–∑–∏–≤–∞–π—Ç–µ 1 –∫—Ä–æ–∫ –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ —Å–µ–∫—Ç–æ—Ä–∞.</div>
      </div>
      <div>
        <canvas id="pie"></canvas>
      </div>
    </div>

    <!-- –†—É—Ö–∞–≤–∫–∞ -->
    <h3>5) –†—É—Ö–∞–≤–∫–∞ ¬´–ê–≤—Å—Ç—Ä–∞–ª—ñ–π—Å—å–∫–∏–π –¥–æ—â¬ª (5 —Ö–≤)</h3>
    <div class="kbd">–ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å: –ø–æ—Ç–∏—Ä–∞–Ω–Ω—è –¥–æ–ª–æ–Ω—å ‚Üí –∫–ª–∞—Ü–∞–Ω–Ω—è –ø–∞–ª—å—Ü—è–º–∏ ‚Üí –ø–ª–µ—Å–∫–∞–Ω–Ω—è –ø–æ –≥—Ä—É–¥—è—Ö ‚Üí –ø–ª–µ—Å–∫–∞–Ω–Ω—è –ø–æ —Å—Ç–µ–≥–Ω–∞—Ö ‚Üí —Ç—É–ø—ñ—Ç ‚Üí –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —É –∑–≤–æ—Ä–æ—Ç–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É ‚Üí —Ä—É–∫–∏ –¥–æ–≥–æ—Ä–∏ ¬´–°–æ–Ω—Ü–µ!¬ª</div>

    <!-- –ü—Ä–∏—Ç—á–∞ -->
    <h3>6) –ü—Ä–∏—Ç—á–∞ ¬´–ü—Ä–æ –º—É–∂–Ω—ñ—Å—Ç—å —Ä–∏–∑–∏–∫–Ω—É—Ç–∏, —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏¬ª (5 —Ö–≤)</h3>
    <div class="kbd" style="white-space:pre-wrap">–ö–æ—Ä–æ–ª—å –≤–∏–ø—Ä–æ–±—É–≤–∞–≤ –ø—ñ–¥–¥–∞–Ω–∏—Ö: –≤–µ–ª–∏—á–µ–∑–Ω—ñ –¥–≤–µ—Ä—ñ –∑–¥–∞–≤–∞–ª–∏—Å—è –∑–∞–º–∫–Ω–µ–Ω–∏–º–∏. –ë—ñ–ª—å—à—ñ –Ω–∞–≤—ñ—Ç—å –Ω–µ —Å–ø—Ä–æ–±—É–≤–∞–ª–∏. –û–¥–∏–Ω –ø—ñ–¥—ñ–π—à–æ–≤, –¥–æ—Å–ª—ñ–¥–∏–≤ —ñ —Ä—ñ—à—É—á–µ —Å–º–∏–∫–Ω—É–≤ ‚Äî –¥–≤–µ—Ä—ñ –±—É–ª–∏ –ù–ï –∑–∞–º–∫–Ω–µ–Ω—ñ. –í–∏—Å–Ω–æ–≤–æ–∫: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —Ç–∞–º, –¥–µ —î –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ—Å–ª—ñ–¥–∏—Ç–∏ —ñ –∑—Ä–æ–±–∏—Ç–∏ –∫—Ä–æ–∫.</div>
    <div class="two">
      <textarea id="parQ1" placeholder="–ß–æ–º—É —ñ–Ω—à—ñ –Ω–µ –≤—ñ–¥—á–∏–Ω–∏–ª–∏ –¥–≤–µ—Ä—ñ?"></textarea>
      <textarea id="parQ2" placeholder="–ú—ñ–π –æ—Å–æ–±–∏—Å—Ç–∏–π –≤–∏—Å–Ω–æ–≤–æ–∫ —ñ–∑ –ø—Ä–∏—Ç—á—ñ"></textarea>
    </div>

    <!-- –ú–∞–≥—ñ—á–Ω–µ –∫–æ–ª–æ –±–∞–∂–∞–Ω—å -->
    <h3>7) ¬´–ú–∞–≥—ñ—á–Ω–µ –∫–æ–ª–æ –±–∞–∂–∞–Ω—å¬ª (5 —Ö–≤)</h3>
    <div class="two">
      <div>
        <label class="kbd">–ú–æ—î –±–∞–∂–∞–Ω–Ω—è (1‚Äì2 —Ä–µ—á–µ–Ω–Ω—è)</label>
        <textarea id="wish"></textarea>
        <div class="list" style="margin-left:0">
          <div>–î–µ—Ä–µ–≤–æ (–∑—Ä–æ—Å—Ç–∞–Ω–Ω—è): <input id="eWood" type="text" placeholder="–Ω–∞–ø—Ä., ¬´–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫/–ø–ª–∞–Ω¬ª"></div>
          <div>–í–æ–≥–æ–Ω—å (–µ–Ω–µ—Ä–≥—ñ—è): <input id="eFire" type="text" placeholder="¬´—Ä–∞–Ω–∫–æ–≤–∞ –∑–∞—Ä—è–¥–∫–∞¬ª"></div>
          <div>–ó–µ–º–ª—è (–æ–ø–æ—Ä–∞): <input id="eEarth" type="text" placeholder="¬´—Ä–æ–∑–∫–ª–∞–¥/—Ä–µ–∂–∏–º¬ª"></div>
          <div>–ú–µ—Ç–∞–ª (–¥–∏—Å—Ü–∏–ø–ª—ñ–Ω–∞): <input id="eMetal" type="text" placeholder="¬´—á–µ–∫-–ª–∏—Å—Ç¬ª"></div>
          <div>–í–æ–¥–∞ (–ø—ñ–¥–∂–∏–≤–ª–µ–Ω–Ω—è): <input id="eWater" type="text" placeholder="¬´—Å–æ–Ω/–≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è¬ª"></div>
        </div>
      </div>
      <div>
        <label class="kbd">–ê—Ñ—Ñ—ñ—Ä–º–∞—Ü—ñ—è</label>
        <textarea id="wishAff" readonly=""></textarea>
        <div class="btn-row no-print">
          <button class="btn" id="makeAff">‚ú® –ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∞—Ñ—Ñ—ñ—Ä–º–∞—Ü—ñ—é</button>
        </div>
      </div>
    </div>
  </section>

  <!-- –Ü–Ü–Ü. –ü—ñ–¥—Å—É–º–∫–∏ -->
  <section class="card">
    <h2>–Ü–Ü–Ü. –ü—ñ–¥—Å—É–º–∫–∏ —Ç–∞ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—è (‚âà10 —Ö–≤)</h2>
    <h3>–†–µ—Ñ–ª–µ–∫—Å—ñ—è –∑–∞ –º–µ—Ç–æ–¥–æ–º –î–†–Ü–î</h3>
    <div class="two">
      <div>
        <label class="kbd">–î ‚Äî –¥—ñ—ó (—â–æ —Ä–æ–±–∏–ª–∏? —â–æ –ø–∞–º‚Äô—è—Ç–∞—é?)</label>
        <textarea id="d1"></textarea>
        <label class="kbd">–† ‚Äî —Ä–µ—Ñ–ª–µ–∫—Å—ñ—è (–≤—ñ–¥—á—É—Ç—Ç—è, —Ä–µ–∞–∫—Ü—ñ—ó)</label>
        <textarea id="d2"></textarea>
      </div>
      <div>
        <label class="kbd">–Ü ‚Äî —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è (—è–∫—ñ –≤–∏—Å–Ω–æ–≤–∫–∏?)</label>
        <textarea id="d3"></textarea>
        <label class="kbd">–î ‚Äî –¥—ñ—ó (—â–æ –∑—Ä–æ–±–ª—é —ñ–Ω–∞–∫—à–µ?)</label>
        <textarea id="d4"></textarea>
      </div>
    </div>

    <h3>–í–ø—Ä–∞–≤–∞-–ø–æ–±–∞–∂–∞–Ω–Ω—è ¬´–ó—ñ—Ä–∫–∞ —É–¥–∞—á—ñ¬ª</h3>
    <div class="two">
      <div>
        <input id="starTo" type="text" placeholder="–ö–æ–º—É –¥–∞—Ä—É—é –∑—ñ—Ä–∫—É (—ñ–º‚Äô—è)">
        <input id="starMsg" type="text" placeholder="–ö–æ—Ä–æ—Ç–∫–µ –ø–æ–±–∞–∂–∞–Ω–Ω—è">
        <div class="btn-row no-print">
          <button class="btn" id="printStar">‚≠ê –ù–∞–¥—Ä—É–∫—É–≤–∞—Ç–∏ –∑—ñ—Ä–∫—É</button>
        </div>
      </div>
      <div class="kbd" id="starPreview" style="min-height:120px">–ü—Ä–µ–≤‚Äô—é –∑—ñ—Ä–∫–∏ –∑‚Äô—è–≤–∏—Ç—å—Å—è —Ç—É—Ç –ø–µ—Ä–µ–¥ –¥—Ä—É–∫–æ–º.</div>
    </div>
  </section>

  <footer class="card">
    <div class="hint">–î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ (localStorage) –Ω–∞ —Ü—å–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó. –ü—ñ—Å–ª—è –∑–∞–Ω—è—Ç—Ç—è –º–æ–∂–Ω–∞ —Å—Ç–µ—Ä—Ç–∏ –≤—Å–µ –∫–Ω–æ–ø–∫–æ—é ¬´–û—á–∏—Å—Ç–∏—Ç–∏¬ª.</div>
  </footer>
</main>

<script>
  // ---------- –£–¢–ò–õ–Ü–¢–ò ----------
  const $ = (s,ctx=document)=>ctx.querySelector(s);
  const $$ = (s,ctx=document)=>Array.from(ctx.querySelectorAll(s));
  const STORAGE='mindset_session_v1';

  function save(){ localStorage.setItem(STORAGE, JSON.stringify(collect())); }
  function load(){
    try{
      const d = JSON.parse(localStorage.getItem(STORAGE)||'{}');
      for(const [k,v] of Object.entries(d)){ const el = document.getElementById(k); if(el){ el.value = v; } }
      if(d.rules) $('#rulesText').value = d.rules;
      if(d.chips){ restoreChips(d.chips); drawPie(); renderAff(); }
      if(d.starPreview) $('#starPreview').innerHTML = d.starPreview;
    }catch(e){}
  }
  function collect(){
    const ids = ['pres1','pres2','pres3','pres4','rulesText','treeNow','treeGoal','treeOut',
      'q1','q2','q3','q4','parQ1','parQ2','wish','wishAff','eWood','eFire','eEarth','eMetal','eWater',
      'd1','d2','d3','d4','starTo','starMsg'];
    const o={};
    ids.forEach(id=> o[id] = ($('#'+id)?.value||'').trim());
    o.chips = {neg: chipsToArray('#neg'), pos: chipsToArray('#pos')};
    o.pie = getPieVals();
    o.rules = $('#rulesText').value;
    o.starPreview = $('#starPreview').innerHTML;
    return o;
  }

  function downloadTxt(name, text){
    const a = document.createElement('a');
    a.href = URL.createObjectURL(new Blob([text], {type:'text/plain;charset=utf-8'}));
    a.download = name; document.body.appendChild(a); a.click();
    setTimeout(()=>{ URL.revokeObjectURL(a.href); a.remove(); },0);
  }

  // ---------- –¢–ê–ô–ú–ï–†–ò ----------
  const timers={};
  function startTimer(id, secs){
    stopTimer(id); let s=0; const el = document.getElementById(id);
    timers[id] = setInterval(()=>{ s++; el.textContent = fmt(s); if(s>=secs) stopTimer(id); },1000);
  }
  function stopTimer(id){ if(timers[id]){ clearInterval(timers[id]); delete timers[id]; } }
  function fmt(s){ const m=String(Math.floor(s/60)).padStart(2,'0'), ss=String(s%60).padStart(2,'0'); return `${m}:${ss}`; }

  // ---------- –ü–†–ê–í–ò–õ–ê ----------
  $$('.rule').forEach(cb=> cb.addEventListener('change', ()=>{
    const arr = $$('.rule').filter(x=>x.checked).map(x=>`‚Ä¢ ${x.value}`);
    $('#rulesText').value = arr.join('\n');
    save();
  }));

  // ---------- –î–ï–†–ï–í–û ----------
  const mapText = (n)=>{
    n=Number(n);
    if([1,3,6,7].includes(n)) return '–¶—ñ–ª–µ—Å–ø—Ä—è–º–æ–≤–∞–Ω—ñ—Å—Ç—å, –≥–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ —Ç—Ä—É–¥–Ω–æ—â—ñ–≤.';
    if([2,11,12,18,19].includes(n)) return '–¢–æ–≤–∞—Ä–∏—Å—å–∫—ñ—Å—Ç—å, –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥—Ä—É–∑—ñ–≤.';
    if(n===4) return '–°—Ç—ñ–π–∫–∞ –ø–æ–∑–∏—Ü—ñ—è, –ø—Ä–∞–≥–Ω–µ–Ω–Ω—è —É—Å–ø—ñ—Ö—É –±–µ–∑ –ø–µ—Ä–µ—à–∫–æ–¥.';
    if(n===5) return '–í—Ç–æ–º—É / –Ω–∏–∑—å–∫–∏–π —Ä–µ—Å—É—Ä—Å, –ø–æ—Ç—Ä–µ–±–∞ —É –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—ñ.';
    if(n===9) return '–ì—Ä–∞–π–ª–∏–≤—ñ—Å—Ç—å, –ª—é–±–æ–≤ –¥–æ —Ä–æ–∑–≤–∞–≥.';
    if([13,21].includes(n)) return '–Ü–Ω—Ç—Ä–æ–≤–µ—Ä—Ç–Ω—ñ—Å—Ç—å, –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ —Ç—Ä–∏–≤–æ–≥–∏, —É–Ω–∏–∫–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤.';
    if(n===8) return '–°—Ö–∏–ª—å–Ω—ñ—Å—Ç—å –¥–æ –∑–∞–Ω—É—Ä–µ–Ω–Ω—è —É –≤–ª–∞—Å–Ω—ñ –¥—É–º–∫–∏.';
    if([10,15].includes(n)) return '–ù–æ—Ä–º–∞–ª—å–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è, –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∏–π —Å—Ç–∞–Ω.';
    if(n===14) return '–í—ñ–¥—á—É—Ç—Ç—è ¬´–ø–∞–¥—ñ–Ω–Ω—è¬ª, –∫—Ä–∏–∑–∞ ‚Äî –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞.';
    if(n===20) return '–í–∏—Å–æ–∫–∞ —Å–∞–º–æ–æ—Ü—ñ–Ω–∫–∞/–ª—ñ–¥–µ—Ä—Å—Ç–≤–æ, –ø–æ—Ç—Ä–µ–±–∞ —É –≤–ø–ª–∏–≤—ñ.';
    if(n===16) return '–ü–µ—Ä–µ–≤—Ç–æ–º–∞ –≤—ñ–¥ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —ñ–Ω—à–∏—Ö; –ø–æ—Ä—É—á –º–æ–∂–µ –±—É—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ (17).';
    if(n===17) return '–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —ñ–Ω—à–æ–≥–æ, –µ–º–ø–∞—Ç—ñ—è.';
    return '–í–∏–±–µ—Ä–∏ –Ω–æ–º–µ—Ä –≤—ñ–¥ 1 –¥–æ 21.';
  };
  $('#treeNow').addEventListener('input', ()=>{
    const t = mapText($('#treeNow').value);
    $('#treeOut').value = '–¢–µ–ø–µ—Ä—ñ—à–Ω—î: ' + t + ( $('#treeGoal').value ? '\n–ë–∞–∂–∞–Ω–µ: '+mapText($('#treeGoal').value) : '' );
    save();
  });
  $('#treeGoal').addEventListener('input', ()=>$('#treeNow').dispatchEvent(new Event('input')));
  $('#treeFile').addEventListener('change', (e)=>{
    const f = e.target.files[0]; if(!f) return;
    const r = new FileReader(); r.onload = ()=>{ const img=$('#treeImg'); img.src=r.result; img.style.display='block'; }; r.readAsDataURL(f);
  });

  // ---------- –ú–û–ó–ö–û–í–ò–ô –®–¢–£–†–ú (drag & drop chips) ----------
  const defaults = ['—Å–∞–º–æ–∫—Ä–∏—Ç–∏–∫–∞ –±–µ–∑ –¥—ñ—ó','–∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ñ–∑–∞—Ü—ñ—è','–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ —ñ–Ω—à–∏–º–∏','—Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–º–∏–ª–∫–∞—Ö','–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —É—Å–ø—ñ—Ö—ñ–≤','–¥—è–∫—É—é —Å–æ–±—ñ –∑–∞ –∫—Ä–æ–∫','–ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª—é–≤–∞–Ω–Ω—è —É –∑–∞–¥–∞—á—É','–ø–ª–∞–Ω ‚Üí –¥—ñ—è ‚Üí –≤—ñ–¥–∑–Ω–∞—á–µ–Ω–Ω—è'];
  function mkChip(text){ const el=document.createElement('div'); el.className='chip'; el.textContent=text; el.draggable=true;
    el.addEventListener('dragstart',e=>{ e.dataTransfer.setData('text/plain', text); e.dataTransfer.effectAllowed='move'; el.classList.add('drag'); });
    el.addEventListener('dragend',()=>{ el.classList.remove('drag'); save(); });
    return el;
  }
  function chipsToArray(sel){ return $$(sel+' .chip').map(c=>c.textContent); }
  function restoreChips(ch){ ['neg','pos'].forEach(id=>{ $('#'+id).innerHTML=''; (ch[id]||[]).forEach(t=>$('#'+id).appendChild(mkChip(t))); }); }
  function seedChips(){ const half = Math.ceil(defaults.length/2);
    restoreChips({neg:defaults.slice(0,3), pos:defaults.slice(3)});
  }
  ['neg','pos'].forEach(id=>{
    const box = $('#'+id);
    box.addEventListener('dragover',e=>{ e.preventDefault(); e.dataTransfer.dropEffect='move'; });
    box.addEventListener('drop',e=>{
      e.preventDefault(); const text = e.dataTransfer.getData('text/plain'); const chip = mkChip(text); box.appendChild(chip);
      // –≤–∏–¥–∞–ª–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç–∏ —É –ø—Ä–æ—Ç–∏–ª–µ–∂–Ω–æ–º—É –±–æ–∫—Å—ñ
      const other = id==='neg' ? '#pos' : '#neg';
      $$(other+' .chip').forEach(c=>{ if(c.textContent===text) c.remove(); });
      save();
    });
  });
  $('#addChip').addEventListener('click', ()=>{
    const v = $('#chipInput').value.trim(); if(!v) return;
    $('#pos').appendChild(mkChip(v)); $('#chipInput').value=''; save();
  });
  $('#clearChips').addEventListener('click', ()=>{ seedChips(); save(); });

  // ---------- –ü–ò–†–Ü–ì –©–ê–°–¢–Ø (canvas) ----------
  const pie = $('#pie'); const ctx = pie.getContext('2d');
  function getPieVals(){ return [p1.value,p2.value,p3.value,p4.value,p5.value].map(x=>Number(x)); }
  function drawPie(){
    const vals = getPieVals(); const sum = vals.reduce((a,b)=>a+b,0)||1;
    const colors = ['#4ade80','#60a5fa','#facc15','#f472b6','#34d399'];
    ctx.clearRect(0,0,pie.width,pie.height);
    let start=-Math.PI/2; vals.forEach((v,i)=>{
      const angle = 2*Math.PI*(v/sum);
      ctx.beginPath(); ctx.moveTo(pie.width/2, pie.height/2);
      ctx.arc(pie.width/2, pie.height/2, 140, start, start+angle); ctx.closePath();
      ctx.fillStyle = colors[i]; ctx.globalAlpha=0.85; ctx.fill(); ctx.globalAlpha=1;
      start += angle;
    });
    // –ª–µ–≥–µ–Ω–¥–∞
    const labels = ['–ó–¥–æ—Ä–æ–≤‚Äô—è','–°—Ç–æ—Å—É–Ω–∫–∏','–ù–∞–≤—á–∞–Ω–Ω—è','–í—ñ–¥–ø–æ—á–∏–Ω–æ–∫','–í–Ω–µ—Å–æ–∫'];
    ctx.fillStyle='#e6eefc'; ctx.font='14px system-ui';
    labels.forEach((t,i)=> ctx.fillText(`${t}: ${vals[i]}%`, 12, 22+18*i));
  }
  ['p1','p2','p3','p4','p5'].forEach(id=>{
    const r = document.getElementById(id), vEl = document.getElementById(id+'v');
    r.addEventListener('input', ()=>{ vEl.textContent = r.value; drawPie(); save(); });
  });

  // ---------- –ú–ê–ì–Ü–ß–ù–ï –ö–û–õ–û ‚Äî –ê–§–§–Ü–†–ú–ê–¶–Ü–Ø ----------
  function renderAff(){
    const w=$('#wish').value.trim(), a=$('#eWood').value.trim(), f=$('#eFire').value.trim(), e=$('#eEarth').value.trim(), m=$('#eMetal').value.trim(), wa=$('#eWater').value.trim();
    if(!w && !a && !f && !e && !m && !wa) return;
    $('#wishAff').value = `–Ø —Ä–µ–∞–ª—ñ–∑—É—é –±–∞–∂–∞–Ω–Ω—è: ${w}.
–ú—ñ–π —Ü–∏–∫–ª —Å–∏–ª–∏: –¥–µ—Ä–µ–≤–æ(${a}) ‚Üí –≤–æ–≥–æ–Ω—å(${f}) ‚Üí –∑–µ–º–ª—è(${e}) ‚Üí –º–µ—Ç–∞–ª(${m}) ‚Üí –≤–æ–¥–∞(${wa}) ‚Üí –¥–µ—Ä–µ–≤–æ.
–Ø –¥—ñ—é —â–æ–¥–Ω—è –º–∞–ª–∏–º–∏ –∫—Ä–æ–∫–∞–º–∏ —ñ –≤—ñ–¥–∑–Ω–∞—á–∞—é –ø—Ä–æ–≥—Ä–µ—Å.`;
  }
  $('#makeAff').addEventListener('click', ()=>{ renderAff(); save(); });

  // ---------- –ó–Ü–†–ö–ê –£–î–ê–ß–Ü ----------
  function starSVG(to,msg){
    return `<div style="text-align:center">
<svg viewBox="0 0 200 200" width="260" height="260">
  <polygon points="100,10 121,73 188,73 134,112 154,178 100,140 46,178 66,112 12,73 79,73"
    fill="#fbbf24" stroke="#1f2a44" stroke-width="2"/>
  <text x="100" y="95" text-anchor="middle" font-family="system-ui" font-size="12" fill="#0b1220">–ó—ñ—Ä–∫–∞ —É–¥–∞—á—ñ</text>
  <text x="100" y="118" text-anchor="middle" font-family="system-ui" font-size="10" fill="#0b1220">${to}</text>
  <text x="100" y="137" text-anchor="middle" font-family="system-ui" font-size="9" fill="#0b1220">${msg}</text>
</svg>
<div style="margin-top:6px;font-size:13px;color:#93a4bf">–ù–∞–¥—Ä—É–∫—É–π —ñ –ø–æ–¥–∞—Ä—É–π —Å—É—Å—ñ–¥—É –ø–æ –∫–æ–ª—É</div>
</div>`;
  }
  $('#printStar').addEventListener('click', ()=>{
    const html = starSVG(($('#starTo').value||'–ú–æ—î–º—É —Å—É—Å—ñ–¥—É'), ($('#starMsg').value||'–•–∞–π —â–∞—Å—Ç–∏—Ç—å!'));
    $('#starPreview').innerHTML = html; window.print(); save();
  });

  // ---------- –ê–í–¢–û–ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø ----------
  $$('textarea,input[type="text"]').forEach(el=> el.addEventListener('input', save));

  // ---------- –ö–ï–†–£–í–ê–ù–ù–Ø –°–¢–û–†–Ü–ù–ö–û–Æ ----------
  $$('.btn[data-timer]').forEach(b=>{
    b.addEventListener('click', ()=>{
      const id = b.getAttribute('data-timer'); const mins = id==='t-pres'?600: id==='t-rules'?180: id==='t-tree'?600: id==='t-brain'?600: 300;
      startTimer(id, mins);
    });
  });
  $('#printPage').addEventListener('click', ()=>window.print());
  $('#clearAll').addEventListener('click', ()=>{ if(confirm('–û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ —Ü—å–æ–≥–æ —Ç—Ä–µ–Ω—ñ–Ω–≥—É –Ω–∞ —Ü—å–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó?')){ localStorage.removeItem(STORAGE); location.reload(); }});
  $('#exportAll').addEventListener('click', ()=>{
    const d = collect();
    const txt = [
'–ü–æ–∑–∏—Ç–∏–≤–Ω–µ —ñ –Ω–µ–≥–∞—Ç–∏–≤–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è ‚Äî –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —É—á–∞—Å–Ω–∏–∫–∞',
'',
'[–°–∞–º–æ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—è]',
`–û—á—ñ–∫—É–≤–∞–Ω–Ω—è: ${d.pres1}`,`–¶—ñ–Ω—É—é: ${d.pres2}`,`–ü–∏—à–∞—é—Å—å: ${d.pres3}`,`–ù–∞–π–∫—Ä–∞—â–µ –≤–º—ñ—é: ${d.pres4}`,'',
'[–ü—Ä–∞–≤–∏–ª–∞]', d.rules,'',
'[–î–µ—Ä–µ–≤–æ]', `–ó–∞—Ä–∞–∑: ${d.treeNow} ‚Üí ${mapText(d.treeNow)}`, `–•–æ—á—É: ${d.treeGoal} ‚Üí ${mapText(d.treeGoal)}`,'',
'[–ú–æ–∑–∫–æ–≤–∏–π —à—Ç—É—Ä–º]', '–ù–µ–≥–∞—Ç–∏–≤–Ω–∏–π —Ü–∏–∫–ª: '+(d.chips.neg||[]).join(', '), '–ü–æ–∑–∏—Ç–∏–≤–Ω–∏–π —Ü–∏–∫–ª: '+(d.chips.pos||[]).join(', '),'',
'[–ú–æ—ó —è–∫–æ—Å—Ç—ñ]', d.q1, d.q2, d.q3, d.q4,'',
'[–ü—Ä–∏—Ç—á–∞]', '–ß–æ–º—É —ñ–Ω—à—ñ –Ω–µ –≤—ñ–¥—á–∏–Ω–∏–ª–∏: '+d.parQ1, '–ú—ñ–π –≤–∏—Å–Ω–æ–≤–æ–∫: '+d.parQ2,'',
'[–ú–∞–≥—ñ—á–Ω–µ –∫–æ–ª–æ]', '–ë–∞–∂–∞–Ω–Ω—è: '+d.wish, '–ê—Ñ—Ñ—ñ—Ä–º–∞—Ü—ñ—è: '+d.wishAff,'',
'[–†–µ—Ñ–ª–µ–∫—Å—ñ—è –î–†–Ü–î]', '–î—ñ—ó: '+d.d1, '–†–µ—Ñ–ª–µ–∫—Å—ñ—è: '+d.d2, '–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è: '+d.d3, '–î—ñ—ó –º–∞–π–±—É—Ç–Ω—ñ: '+d.d4
    ].join('\n');
    const stamp = new Date().toISOString().slice(0,16).replace('T','_').replace(':','-');
    downloadTxt(`mindset_session_${stamp}.txt`, txt);
  });

  // ---------- –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ø / –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø ----------
  window.addEventListener('load', ()=>{
    load(); if(!localStorage.getItem(STORAGE)) seedChips(); drawPie();
  });
</script>


</body></html>