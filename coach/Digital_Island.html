<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8">
  <title>–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ ¬´–¶–∏—Ñ—Ä–æ–≤–∏–π –æ—Å—Ç—Ä—ñ–≤¬ª ‚Äî –æ–Ω–ª–∞–π–Ω-—Ç—Ä–µ–Ω—ñ–Ω–≥ (—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="–ö–æ–º–∞–Ω–¥–Ω–∏–π —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤: —Ä–æ–∑–ø–æ–¥—ñ–ª —Ä–æ–ª–µ–π, —Å–ø—ñ–≤–ø—Ä–∞—Ü—è, —Å–∏—Å—Ç–µ–º–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è. –¢–∞–π–º–µ—Ä–∏, –∞–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è, –µ–∫—Å–ø–æ—Ä—Ç —É .txt, –¥—Ä—É–∫.">
  <style>
    :root{
      --bg:#0b1220; --card:#0f172a; --muted:#93a4bf; --fg:#e6eefc; --accent:#60a5fa; --ok:#34d399; --warn:#fbbf24; --danger:#f87171; --border:#1f2a44; --ink:#0a1020;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Apple Color Emoji','Segoe UI Emoji';line-height:1.6}
    a{color:var(--accent);text-decoration:none} a:hover{text-decoration:underline}
    .wrap{max-width:1080px;margin:0 auto;padding:20px}
    header{background:linear-gradient(180deg,#0d1b2a,#0b1220);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:20}
    .head{max-width:1080px;margin:0 auto;padding:16px 20px}
    .title{margin:0;font-size:28px;letter-spacing:.2px}
    .subtitle{margin:6px 0 0 0;color:var(--muted);font-size:15px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:18px;margin:14px 0}
    h2{margin:0 0 10px 0;font-size:22px}
    h3{margin:12px 0 8px 0;font-size:18px}
    .pill{display:inline-block;padding:4px 10px;border:1px solid var(--border);border-radius:999px;font-size:12px;color:var(--muted);margin-right:6px}
    .grid{display:grid;gap:12px}
    @media(min-width:900px){.grid.cols-2{grid-template-columns:1fr 1fr}}
    .list{margin:8px 0 0 18px}.list li{margin:6px 0}
    .kbd{font-family:ui-monospace,Menlo,Consolas,monospace;background:#0a1020;border:1px solid var(--border);border-radius:8px;padding:10px 12px;color:#dbeafe}
    .script{background:#0a1020;border:1px dashed var(--border);border-radius:10px;padding:12px;margin-top:10px}
    .hint{color:var(--muted);font-size:14px}
    .badge{display:inline-block;font-size:12px;padding:2px 8px;border-radius:999px;border:1px solid var(--border);color:var(--muted);margin-left:8px}
    .callout{border-left:3px solid var(--accent);padding:10px 12px;background:#0d152b;border-radius:8px}
    details{background:#0b1528;border:1px solid var(--border);border-radius:12px;padding:10px 12px}
    summary{cursor:pointer;font-weight:600}
    .time{color:var(--warn);font-weight:600}
    footer{color:var(--muted);font-size:13px;margin:24px 0}
    .btn-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border:1px solid var(--border);border-radius:10px;background:#0c1426;color:#e6eefc;text-decoration:none;cursor:pointer}
    .btn:hover{background:#0e1a32}
    .agenda{display:grid;gap:8px}
    .agenda .item{display:flex;align-items:center;justify-content:space-between;border:1px solid var(--border);border-radius:10px;padding:10px 12px;background:#0b1528}
    .agenda .item span{font-size:14px;color:var(--muted)}
    .divider{height:1px;background:var(--border);margin:12px 0}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
    input[type="text"],textarea,select{width:100%;background:#0b1528;color:#e6eefc;border:1px solid var(--border);border-radius:10px;padding:10px 12px}
    textarea{min-height:64px;resize:vertical}
    .two{display:grid;gap:10px} @media(min-width:760px){.two{grid-template-columns:1fr 1fr}}
    /* –¢–∞–±–ª–∏—Ü—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ */
    table{width:100%;border-collapse:separate;border-spacing:0 8px}
    th,td{padding:10px;border:1px solid var(--border)}
    th{font-weight:700;text-align:left;color:#dbeafe;background:#0a1426}
    tr{background:#0b1528;border-radius:12px}
    /* –†–∞–Ω–≥-–ª–∏—Å—Ç –ø–µ—Ä–µ—Ç—è–≥—É–≤–∞–Ω–Ω—è */
    .rank{display:grid;gap:8px}
    .rank .item{display:flex;align-items:center;justify-content:space-between;border:1px solid var(--border);border-radius:10px;padding:8px 10px;background:#0b162a;cursor:grab}
    .dragging{opacity:.6;outline:1px dashed var(--accent)}
    /* –ü–ª–∞–Ω-–∫—Ä–æ–∫–∏ */
    .steps{display:grid;gap:8px}
    .step{border:1px solid var(--border);border-radius:10px;padding:10px;background:#0b162a}
    .step .row{display:grid;gap:8px} @media(min-width:920px){.step .row{grid-template-columns:2fr 1fr 1fr 1fr}}
    .row small{color:var(--muted)}
    .timer{display:inline-flex;align-items:center;gap:6px;font-size:13px;color:var(--muted)}
    /* Print */
    @media print{
      header,.btn,.hint{display:none !important}
      body{background:#fff;color:#000}
      .card{border:0;background:#fff}
      input,textarea,select{border:0}
    }
  </style>
</head>
<body>
  <header>
    <div class="head">
      <h1 class="title">–Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ ¬´–¶–∏—Ñ—Ä–æ–≤–∏–π –æ—Å—Ç—Ä—ñ–≤¬ª ‚Äî –æ–Ω–ª–∞–π–Ω-—Ç—Ä–µ–Ω—ñ–Ω–≥</h1>
      <p class="subtitle">–ö–æ–º–∞–Ω–¥–∞ ‚Ä¢ —Ä–æ–∑–ø–æ–¥—ñ–ª —Ä–æ–ª–µ–π ‚Ä¢ 5‚Äì7 –∫—Ä–æ–∫—ñ–≤ –ø–ª–∞–Ω—É ‚Ä¢ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—è ‚Ä¢ 25‚Äì30 —Ö–≤</p>
      <div class="btn-row">
        <button class="btn" id="exportTxt">‚¨áÔ∏è –ï–∫—Å–ø–æ—Ä—Ç .txt</button>
        <button class="btn" id="printPage">üñ®Ô∏è –î—Ä—É–∫</button>
        <button class="btn" id="clearAll">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏</button>
        <span class="hint">–ê–≤—Ç–æ–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É localStorage —Ü—å–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é.</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <div class="grid cols-2">
        <div>
          <h2>–ú–µ—Ç–∞ –∑–∞–Ω—è—Ç—Ç—è</h2>
          <ul class="list">
            <li>–í–∫–ª—é—á–∏—Ç–∏ —Å–ø—ñ–≤–ø—Ä–∞—Ü—é —Ç–∞ –≤–∑–∞—î–º–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É.</li>
            <li>–ü–æ—Ç—Ä–µ–Ω—É–≤–∞—Ç–∏ —Å–ª—É—Ö–∞–Ω–Ω—è, –¥–æ–º–æ–≤–ª–µ–Ω–æ—Å—Ç—ñ —Ç–∞ —Ä–æ–ª—ñ.</li>
            <li>–†–æ–∑–≤–∏–Ω—É—Ç–∏ —Å–∏—Å—Ç–µ–º–Ω–µ –º–∏—Å–ª–µ–Ω–Ω—è –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ.</li>
          </ul>
          <div class="divider"></div>
          <h3>–ü—Ä–∞–≤–∏–ª–∞ —Ä–æ–±–æ—Ç–∏</h3>
          <ul class="list">
            <li>–ö–æ–∂–µ–Ω —Ä–µ—Å—É—Ä—Å ‚Äî —Ü—ñ–Ω–Ω–∏–π. –ö–æ–∂–µ–Ω —É—á–∞—Å–Ω–∏–∫ ‚Äî –ø–æ—Ç—Ä—ñ–±–Ω–∏–π.</li>
            <li>–ö–æ—Ä–æ—Ç–∫–æ —ñ –ø–æ —Å—É—Ç—ñ. –ü–æ–≤–∞–≥–∞ –¥–æ —á–∞—Å—É.</li>
            <li>–†—ñ—à–µ–Ω–Ω—è ‚Äî –∫–æ–ª–µ–≥—ñ–∞–ª—å–Ω—ñ. –ü–ª–∞–Ω ‚Äî –ø—É–±–ª—ñ—á–Ω–∏–π.</li>
          </ul>
        </div>
        <div>
          <h2>–ü–ª–∞–Ω —ñ —Ç–∞–π–º—ñ–Ω–≥</h2>
          <div class="agenda">
            <div class="item"><strong>1. –ó–∞–Ω—É—Ä–µ–Ω–Ω—è</strong> <span class="time">3 —Ö–≤ ¬∑ <span id="t1">00:00</span> <button class="btn" data-timer="t1" data-secs="180">‚ñ∂</button></span></div>
            <div class="item"><strong>2. –ü–æ–¥—ñ–ª —Ä–æ–ª–µ–π</strong> <span class="time">2 —Ö–≤ ¬∑ <span id="t2">00:00</span> <button class="btn" data-timer="t2" data-secs="120">‚ñ∂</button></span></div>
            <div class="item"><strong>3. –ì—Ä—É–ø–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è</strong> <span class="time">15 —Ö–≤ ¬∑ <span id="t3">00:00</span> <button class="btn" data-timer="t3" data-secs="900">‚ñ∂</button></span></div>
            <div class="item"><strong>4. –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—è</strong> <span class="time">3‚Äì5 —Ö–≤ ¬∑ <span id="t4">00:00</span> <button class="btn" data-timer="t4" data-secs="300">‚ñ∂</button></span></div>
            <div class="item"><strong>5. –†–µ—Ñ–ª–µ–∫—Å—ñ—è</strong> <span class="time">5 —Ö–≤ ¬∑ <span id="t5">00:00</span> <button class="btn" data-timer="t5" data-secs="300">‚ñ∂</button></span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- 1. –ó–∞–Ω—É—Ä–µ–Ω–Ω—è -->
    <section class="card">
      <h2>1) –ó–∞–Ω—É—Ä–µ–Ω–Ω—è</h2>
      <p class="hint">–ú–µ—Ç–∞: —Å–ø—ñ–ª—å–Ω–∏–π —Å—é–∂–µ—Ç —ñ –º–æ—Ç–∏–≤–∞—Ü—ñ—è –¥–æ —Å–ø—ñ–≤–ø—Ä–∞—Ü—ñ.</p>
      <div class="script">
        <p class="mono">¬´–£—è–≤—ñ—Ç—å, —â–æ –º–∏ ‚Äî –∫–æ–º–∞–Ω–¥–∞ –Ω–∞ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–º—É –æ—Å—Ç—Ä–æ–≤—ñ. –Ñ–¥–∏–Ω–∏–π –∑–≤‚Äô—è–∑–æ–∫ ‚Äî —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç. –ó–∞–≤–¥–∞–Ω–Ω—è ‚Äî –ø–æ–±—É–¥—É–≤–∞—Ç–∏ –º—ñ–Ω—ñ-—Ü–∏—Ñ—Ä–æ–≤–µ —Å–µ–ª–∏—â–µ. –†–µ—Å—É—Ä—Å–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω—ñ –≤–∏–ø–∞–¥–∫–æ–≤–æ.¬ª</p>
      </div>
      <div class="two" style="margin-top:10px">
        <div>
          <label class="kbd">–°–ø–∏—Å–æ–∫ —É—á–∞—Å–Ω–∏–∫—ñ–≤ (–ø–æ –æ–¥–Ω–æ–º—É –≤ —Ä—è–¥–∫—É)</label>
          <textarea id="names" placeholder="–Ü–º'—è 1&#10;–Ü–º'—è 2&#10;–Ü–º'—è 3"></textarea>
        </div>
        <div>
          <label class="kbd">–ù–æ—Ç–∞—Ç–∫–∏ —Ñ–∞—Å–∏–ª—ñ—Ç–∞—Ç–æ—Ä–∞</label>
          <textarea id="notesIntro"></textarea>
        </div>
      </div>
      <div class="btn-row">
        <button class="btn" id="assign">üé≤ –†–æ–∑–¥–∞—Ç–∏ —Ä–æ–ª—ñ –≤–∏–ø–∞–¥–∫–æ–≤–æ</button>
        <button class="btn" id="addEmpty">‚ûï –î–æ–¥–∞—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫</button>
      </div>
      <div class="callout"><strong>–†–æ–ª—ñ/—Ä–µ—Å—É—Ä—Å–∏:</strong> –ó–Ω–∞–Ω–Ω—è (Google/YouTube) ‚Ä¢ –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ (Excel/Canva/PowerPoint) ‚Ä¢ –ï–Ω–µ—Ä–≥—ñ—è (–º–æ—Ç–∏–≤–∞—Ü—ñ—è/–∫—Ä–µ–∞—Ç–∏–≤) ‚Ä¢ –ó–≤‚Äô—è–∑–∫–∏ (–¥–æ–º–æ–≤–ª–µ–Ω–æ—Å—Ç—ñ) ‚Ä¢ –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ (—Å—Ç—Ä—É–∫—Ç—É—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö)</div>
      <div class="card" style="margin-top:12px">
        <h3>–†–æ–∑–ø–æ–¥—ñ–ª —Ä–æ–ª–µ–π</h3>
        <div id="roster"></div>
      </div>
    </section>

    <!-- 3. –ì—Ä—É–ø–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è -->
    <section class="card">
      <h2>3) –ì—Ä—É–ø–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è (15 —Ö–≤)</h2>
      <p class="hint">–ó–∞–≤–¥–∞–Ω–Ω—è: –ø–æ–≥–æ–¥–∏—Ç–∏ 5‚Äì7 –∫—Ä–æ–∫—ñ–≤ —Ä–æ–∑–≤–∏—Ç–∫—É ¬´—Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —Å–µ–ª–∏—â–∞¬ª.</p>
      <div class="btn-row">
        <button class="btn" id="addStep">‚ûï –î–æ–¥–∞—Ç–∏ –∫—Ä–æ–∫</button>
        <button class="btn" id="clearSteps">‚ôªÔ∏è –°–∫–∏–Ω—É—Ç–∏ –∫—Ä–æ–∫–∏</button>
      </div>
      <div id="steps" class="steps" style="margin-top:8px"></div>

      <details style="margin-top:10px">
        <summary>–ü—ñ–¥–∫–∞–∑–∫–∏ –¥–æ –ø–ª–∞–Ω—É</summary>
        <div class="callout">
          <ul class="list">
            <li><strong>–Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:</strong> —Å–ø—ñ–ª—å–Ω–∏–π Google –î–∏—Å–∫, –ø–∞–ø–∫–∏, –¥–æ—Å—Ç—É–ø–∏.</li>
            <li><strong>–ö–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è:</strong> –∫–∞–Ω–∞–ª –æ–≥–æ–ª–æ—à–µ–Ω—å, –ø—Ä–∞–≤–∏–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω/–∞—Å–∏–Ω—Ö—Ä–æ–Ω.</li>
            <li><strong>–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞:</strong> —Ç–∞–±–ª–∏—Ü—è –∑–∞–¥–∞—á —ñ–∑ –¥–µ–¥–ª–∞–π–Ω–∞–º–∏ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–º–∏.</li>
            <li><strong>–ö–æ–Ω—Ç–µ–Ω—Ç:</strong> —à–∞–±–ª–æ–Ω–∏ —É Canva/Docs –¥–ª—è —à–≤–∏–¥–∫–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å.</li>
            <li><strong>–ë–µ–∑–ø–µ–∫–∞:</strong> —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É, —ñ—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω.</li>
          </ul>
        </div>
      </details>
    </section>

    <!-- 4. –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—è -->
    <section class="card">
      <h2>4) –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—è (3‚Äì5 —Ö–≤)</h2>
      <div class="kbd">–§–æ—Ä–º—É–ª–∞ –æ–∑–≤—É—á–µ–Ω–Ω—è: ¬´–ö—Ä–æ–∫ ‚Üí –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π ‚Üí —Ä–µ—Å—É—Ä—Å ‚Üí –¥–µ–¥–ª–∞–π–Ω¬ª.</div>
      <div class="two" style="margin-top:10px">
        <div>
          <label class="kbd">–ö–ª—é—á–æ–≤—ñ —Ä—ñ—à–µ–Ω–Ω—è</label>
          <textarea id="present"></textarea>
        </div>
        <div>
          <label class="kbd">–†–∏–∑–∏–∫–∏ —Ç–∞ —è–∫ —ó—Ö –∑–º–µ–Ω—à–∏—Ç–∏</label>
          <textarea id="risks"></textarea>
        </div>
      </div>
    </section>

    <!-- 5. –†–µ—Ñ–ª–µ–∫—Å—ñ—è -->
    <section class="card">
      <h2>5) –†–µ—Ñ–ª–µ–∫—Å—ñ—è (5 —Ö–≤)</h2>
      <div class="two">
        <div>
          <label class="kbd">–©–æ –±—É–ª–æ –Ω–∞–π—Å–∫–ª–∞–¥–Ω—ñ—à–µ –¥–æ–º–æ–≤–∏—Ç–∏—Å—å?</label>
          <textarea id="refl1"></textarea>
        </div>
        <div>
          <label class="kbd">–ù–∞–π—Ü—ñ–Ω–Ω—ñ—à–∏–π —Ä–µ—Å—É—Ä—Å –∫–æ–º–∞–Ω–¥–∏</label>
          <textarea id="refl2"></textarea>
        </div>
      </div>
      <div class="two" style="margin-top:10px">
        <div>
          <label class="kbd">–©–æ —Å—Ö–æ–∂–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É —Ä–æ–±–æ—Ç—É –≤ –Ü–¢/–Ω–∞–≤—á–∞–Ω–Ω—ñ?</label>
          <textarea id="refl3"></textarea>
        </div>
        <div>
          <label class="kbd">–ú–æ—è —Ä–æ–ª—å —É –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ</label>
          <textarea id="refl4"></textarea>
        </div>
      </div>
      <details style="margin-top:10px">
        <summary>–ß–æ–º—É —Ü–µ –ø—Ä–∞—Ü—é—î?</summary>
        <div class="callout">
          <ul class="list">
            <li><strong>–°–≤—ñ–¥–æ–º—ñ—Å—Ç—å:</strong> –∫–æ–∂–µ–Ω –æ—Å–º–∏—Å–ª—é—î —Å–µ–±–µ —è–∫ —Ä–µ—Å—É—Ä—Å.</li>
            <li><strong>–¢—ñ–º–±—ñ–ª–¥–∏–Ω–≥:</strong> –¥–æ–º–æ–≤–ª–µ–Ω–æ—Å—Ç—ñ, —â–æ–± –∑–∞–¥—ñ—è—Ç–∏ –≤—Å—ñ—Ö.</li>
            <li><strong>–ö–æ—É—á–∏–Ω–≥:</strong> –≤–µ–¥—É—á–∏–π –Ω–µ –¥–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π ‚Äî —Å—Ç–≤–æ—Ä—é—î —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ.</li>
            <li><strong>–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞:</strong> –º–æ–¥–µ–ª—å —Ü–∏—Ñ—Ä–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏ –≤ —ñ–≥—Ä–æ–≤—ñ–π —Ñ–æ—Ä–º—ñ.</li>
          </ul>
        </div>
      </details>
    </section>

    <!-- –î–æ–¥–∞—Ç–∫–æ–≤–∏–π –º–æ–¥—É–ª—å: –ø—Ä–µ–¥–º–µ—Ç–∏ –¥–ª—è ¬´–≤–∏–∂–∏–≤–∞–Ω–Ω—è¬ª -->
    <section class="card">
      <h2>–î–æ–¥–∞—Ç–∫–æ–≤–∏–π –º–æ–¥—É–ª—å: –ø—Ä—ñ–æ—Ä–∏—Ç–µ–∑–∞—Ü—ñ—è –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ ¬´–≤–∏–∂–∏–≤–∞–Ω–Ω—è¬ª</h2>
      <p class="hint">–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å –ø—Ä–µ–¥–º–µ—Ç–∏ –≤ –ø–æ—Ä—è–¥–∫—É –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ (1 ‚Äî –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏–π). –†–µ–π—Ç–∏–Ω–≥ –∑–±–µ—Ä–µ–∂–µ—Ç—å—Å—è –π –ø–æ—Ç—Ä–∞–ø–∏—Ç—å –≤ –µ–∫—Å–ø–æ—Ä—Ç.</p>
      <div id="rank" class="rank"></div>
      <div class="btn-row">
        <button class="btn" id="resetRank">‚ôªÔ∏è –°–∫–∏–Ω—É—Ç–∏ —Ä–µ–π—Ç–∏–Ω–≥</button>
      </div>
      <details style="margin-top:10px">
        <summary>–°–ø–∏—Å–æ–∫ —ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ</summary>
        <table>
          <thead><tr><th>‚Ññ</th><th>–ü—Ä–µ–¥–º–µ—Ç</th><th>–ö–æ–º–µ–Ω—Ç–∞—Ä</th></tr></thead>
          <tbody>
            <tr><td>1</td><td>–ù—ñ–∂</td><td>–ö–ª–∞—Å–∏–∫–∞ –≤–∏–∂–∏–≤–∞–Ω–Ω—è. –ê–ª–µ —á–∏ –±–µ–∑–ø–µ—á–Ω–∏–π —É –≥—Ä—É–ø—ñ?</td></tr>
            <tr><td>2</td><td>–ü–ª—è—à–∫–∞ –≤–æ–¥–∏ (1 –ª)</td><td>–ñ–∏—Ç—Ç—î–≤–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∞, –∞–ª–µ –≤–∏—Å—Ç–∞—á–∏—Ç—å –ª–∏—à–µ –Ω–∞ –æ–¥–Ω–æ–≥–æ.</td></tr>
            <tr><td>3</td><td>–¢–µ–ª–µ—Ñ–æ–Ω –±–µ–∑ —Å–∏–≥–Ω–∞–ª—É</td><td>–ö–∞–º–µ—Ä–∞, –ª—ñ—Ö—Ç–∞—Ä–∏–∫, –Ω–æ—Ç–∞—Ç–∫–∏ ‚Äî –±–µ–∑ –∑–≤‚Äô—è–∑–∫—É.</td></tr>
            <tr><td>4</td><td>–°–æ–Ω—Ü–µ–∑–∞—Ö–∏—Å–Ω–∏–π –∫—Ä–µ–º</td><td>–ö–æ–º—Ñ–æ—Ä—Ç —á–∏ –º–∞—Ä–Ω–∞ —Ä–æ–∑–∫—ñ—à?</td></tr>
            <tr><td>5</td><td>–ü–ª–∞—Å—Ç–∏–∫–æ–≤–∏–π —Ç–µ–Ω—Ç</td><td>–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –¥–æ—â—É –∞–±–æ –ø–∞—Ä—É—Å?</td></tr>
            <tr><td>6</td><td>–ó–∞–ø–∞–ª—å–Ω–∏—á–∫–∞</td><td>–í–æ–≥–æ–Ω—å = —Ç–µ–ø–ª–æ, —ó–∂–∞, —Å–∏–≥–Ω–∞–ª.</td></tr>
            <tr><td>7</td><td>–ö–Ω–∏–≥–∞ ¬´–Ø–∫ –≤–∏–∂–∏—Ç–∏ –Ω–∞ –æ—Å—Ç—Ä–æ–≤—ñ¬ª</td><td>–¢–µ–æ—Ä—ñ—è vs –ø—Ä–∞–∫—Ç–∏–∫–∞.</td></tr>
            <tr><td>8</td><td>–ö–æ–º–ø–∞—Å</td><td>–û—Ä—ñ—î–Ω—Ç–∞—Ü—ñ—è –Ω–∞–≤—ñ—Ç—å –Ω–∞ –º–∞–ª–µ–Ω—å–∫–æ–º—É –æ—Å—Ç—Ä–æ–≤—ñ.</td></tr>
            <tr><td>9</td><td>–ü–∞–∫–µ—Ç —Å—É—Ö–æ–≥–æ –ø–∞–π–∫–∞</td><td>–á–∂–∞ –Ω–∞ 1 –¥–µ–Ω—å. –î—ñ–ª–∏—Ç–∏ —á–∏ –Ω—ñ?</td></tr>
            <tr><td>10</td><td>–î–∑–µ—Ä–∫–∞–ª—å—Ü–µ</td><td>–°–∏–≥–Ω–∞–ª –¥–æ–ø–æ–º–æ–≥–∏ –∞–±–æ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—á–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ üòÑ</td></tr>
          </tbody>
        </table>
      </details>
    </section>

    <!-- –ú–∞—Ç–µ—Ä—ñ–∞–ª –¥–ª—è –∫—É—Ä—Å—É -->
    <section class="card">
      <h2>–ú–∞—Ç–µ—Ä—ñ–∞–ª –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –∫—É—Ä—Å—ñ</h2>
      <p class="hint">–ó–±–µ—Ä–µ–∂–∏ —Ñ–∞–π–ª —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó —Ç–∞ –≤–±—É–¥—É–π —É Moodle —á–µ—Ä–µ–∑ <span class="mono">&lt;iframe&gt;</span>. –°—Ç—É–¥–µ–Ω—Ç–∏ –º–∞—Ç–∏–º—É—Ç—å ¬´–∂–∏–≤–∏–π¬ª –∫–æ–Ω—Å–ø–µ–∫—Ç.</p>
      <div class="btn-row">
        <span class="btn">–†–æ–ª—ñ —Ç–∞ —Ä–µ—Å—É—Ä—Å–∏</span>
        <span class="btn">5‚Äì7 –∫—Ä–æ–∫—ñ–≤ —Ä–æ–∑–≤–∏—Ç–∫—É</span>
        <span class="btn">–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ –π –¥–µ–¥–ª–∞–π–Ω–∏</span>
        <span class="btn">–£—Ä–æ–∫–∏ –∑ —Ä–µ—Ñ–ª–µ–∫—Å—ñ—ó</span>
      </div>
    </section>

    <footer>
      <div class="hint">¬© –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ ¬´–¶–∏—Ñ—Ä–æ–≤–∏–π –æ—Å—Ç—Ä—ñ–≤¬ª. –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Ü—å–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó.</div>
    </footer>
  </main>

  <script>
    // ========= –£–¢–ò–õ–Ü–¢–ò
    const $=(s,ctx=document)=>ctx.querySelector(s);
    const $$=(s,ctx=document)=>Array.from(ctx.querySelectorAll(s));
    const KEY='digital_island_v1';

    function fmt(s){const m=String(Math.floor(s/60)).padStart(2,'0');const ss=String(s%60).padStart(2,'0');return `${m}:${ss}`;}
    function beep(){try{const c=new (window.AudioContext||window.webkitAudioContext)();const o=c.createOscillator();const g=c.createGain();o.connect(g);g.connect(c.destination);o.type='sine';o.frequency.value=880;g.gain.value=0.05;o.start();setTimeout(()=>{o.stop();c.close();},300);}catch(e){}}

    // ========= –¢–ê–ô–ú–ï–†–ò
    const timers={};
    $$('.btn[data-timer]').forEach(b=>{
      b.addEventListener('click',()=>{
        const id=b.getAttribute('data-timer'); const secs=Number(b.getAttribute('data-secs'))||120;
        if(timers[id]){clearInterval(timers[id]); delete timers[id];}
        let s=0; timers[id]=setInterval(()=>{ s++; $('#'+id).textContent=fmt(s); if(s>=secs){clearInterval(timers[id]); delete timers[id]; beep();}},1000);
      });
    });

    // ========= –†–û–õ–Ü –¢–ê –†–û–ó–ü–û–î–Ü–õ
    const ROLES=['–ó–Ω–∞–Ω–Ω—è','–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏','–ï–Ω–µ—Ä–≥—ñ—è','–ó–≤‚Äô—è–∑–∫–∏','–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞'];
    function renderRoster(list){
      const root=$('#roster'); root.innerHTML='';
      list.forEach((row,i)=>{
        const wrap=document.createElement('div'); wrap.className='step';
        wrap.innerHTML=`
          <div class="row">
            <div><small>–£—á–∞—Å–Ω–∏–∫</small><input type="text" data-k="name" data-i="${i}" value="${row.name}"></div>
            <div><small>–†–æ–ª—å/—Ä–µ—Å—É—Ä—Å</small>
              <select data-k="role" data-i="${i}">
                ${ROLES.map(r=>`<option ${row.role===r?'selected':''}>${r}</option>`).join('')}
              </select>
            </div>
            <div><small>–°–∏–ª—å–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ (1‚Äì2 —Å–ª–æ–≤–∞)</small><input type="text" data-k="strength" data-i="${i}" value="${row.strength||''}"></div>
            <div><small>–ö–æ–º–µ–Ω—Ç–∞—Ä</small><input type="text" data-k="note" data-i="${i}" value="${row.note||''}"></div>
          </div>`;
        root.appendChild(wrap);
      });
      $$('[data-k]').forEach(inp=> inp.addEventListener('input', save));
    }
    function parseNames(){ return $('#names').value.split('\n').map(s=>s.trim()).filter(Boolean); }
    function shuffle(a){ for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]];} return a; }
    function assignRoles(){
      const names=parseNames(); if(!names.length){alert('–î–æ–¥–∞–π —É—á–∞—Å–Ω–∏–∫—ñ–≤ –∑–ª—ñ–≤–∞.'); return;}
      const roles=[]; const base=[...ROLES]; while(roles.length<names.length){roles.push(...base);}
      shuffle(roles);
      const roster = names.map((n,i)=>({name:n, role:roles[i], strength:'', note:''}));
      state.roster=roster; renderRoster(roster); save();
    }

    // ========= –ö–†–û–ö–ò –ü–õ–ê–ù–£
    function newStep(){
      return { title:'', owner:'', resource:'', deadline:'' };
    }
    function renderSteps(){
      const root=$('#steps'); root.innerHTML='';
      state.steps.forEach((s,i)=>{
        const el=document.createElement('div'); el.className='step';
        el.innerHTML=`
          <div class="row">
            <div><small>–ö—Ä–æ–∫</small><input type="text" data-k="title" data-i="${i}" value="${s.title}"></div>
            <div><small>–í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–π</small><input type="text" data-k="owner" data-i="${i}" value="${s.owner}"></div>
            <div><small>–†–µ—Å—É—Ä—Å</small><input type="text" data-k="resource" data-i="${i}" value="${s.resource}"></div>
            <div><small>–î–µ–¥–ª–∞–π–Ω</small><input type="text" data-k="deadline" data-i="${i}" value="${s.deadline}" placeholder="–Ω–∞–ø—Ä., 15.11"></div>
          </div>
          <div class="btn-row">
            <button class="btn" data-up="${i}">‚¨ÜÔ∏è</button>
            <button class="btn" data-down="${i}">‚¨áÔ∏è</button>
            <button class="btn danger" data-del="${i}">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</button>
          </div>`;
        root.appendChild(el);
      });
      $$('[data-k]').forEach(inp=> inp.addEventListener('input', e=>{
        const i=Number(e.target.getAttribute('data-i')); const k=e.target.getAttribute('data-k'); state.steps[i][k]=e.target.value; save();
      }));
      $$('[data-up]').forEach(b=> b.addEventListener('click',e=>{ const i=Number(e.target.getAttribute('data-up')); if(i>0){ [state.steps[i-1],state.steps[i]]=[state.steps[i],state.steps[i-1]]; renderSteps(); save(); }}));
      $$('[data-down]').forEach(b=> b.addEventListener('click',e=>{ const i=Number(e.target.getAttribute('data-down')); if(i<state.steps.length-1){ [state.steps[i+1],state.steps[i]]=[state.steps[i],state.steps[i+1]]; renderSteps(); save(); }}));
      $$('[data-del]').forEach(b=> b.addEventListener('click',e=>{ const i=Number(e.target.getAttribute('data-del')); state.steps.splice(i,1); renderSteps(); save(); }));
    }

    // ========= –†–ê–ù–ñ–£–í–ê–ù–ù–Ø –ü–†–ï–î–ú–ï–¢–Ü–í
    const ITEMS=[
      {id:1,t:'–ù—ñ–∂'},{id:2,t:'–ü–ª—è—à–∫–∞ –≤–æ–¥–∏ (1 –ª)'},{id:3,t:'–¢–µ–ª–µ—Ñ–æ–Ω –±–µ–∑ —Å–∏–≥–Ω–∞–ª—É'},{id:4,t:'–°–æ–Ω—Ü–µ–∑–∞—Ö–∏—Å–Ω–∏–π –∫—Ä–µ–º'},
      {id:5,t:'–ü–ª–∞—Å—Ç–∏–∫–æ–≤–∏–π —Ç–µ–Ω—Ç'},{id:6,t:'–ó–∞–ø–∞–ª—å–Ω–∏—á–∫–∞'},{id:7,t:'–ö–Ω–∏–≥–∞ ¬´–Ø–∫ –≤–∏–∂–∏—Ç–∏ –Ω–∞ –æ—Å—Ç—Ä–æ–≤—ñ¬ª'},
      {id:8,t:'–ö–æ–º–ø–∞—Å'},{id:9,t:'–ü–∞–∫–µ—Ç —Å—É—Ö–æ–≥–æ –ø–∞–π–∫–∞'},{id:10,t:'–î–∑–µ—Ä–∫–∞–ª—å—Ü–µ'}
    ];
    function renderRank(){
      const root=$('#rank'); root.innerHTML='';
      state.rank.forEach((id,idx)=>{
        const item=ITEMS.find(x=>x.id===id);
        const el=document.createElement('div'); el.className='item'; el.draggable=true; el.dataset.id=id;
        el.innerHTML=`<div>${idx+1}. ${item.t}</div><div class="hint">–ü–µ—Ä–µ—Ç—è–≥–Ω–∏</div>`;
        el.addEventListener('dragstart',()=>{ el.classList.add('dragging'); });
        el.addEventListener('dragend',()=>{ el.classList.remove('dragging'); save(); });
        root.appendChild(el);
      });
      root.addEventListener('dragover',e=>{
        e.preventDefault();
        const dragging = $('.dragging'); if(!dragging) return;
        const afterEl = getDragAfterElement(root, e.clientY);
        if(afterEl==null){ root.appendChild(dragging); }
        else{ root.insertBefore(dragging, afterEl); }
        // –æ–Ω–æ–≤–∏—Ç–∏ state.rank –ø–æ DOM
        state.rank = $$('.rank .item').map(x=>Number(x.dataset.id));
      }, {once:false});
    }
    function getDragAfterElement(container, y){
      const els=[...container.querySelectorAll('.item:not(.dragging)')];
      return els.reduce((closest,child)=>{
        const box=child.getBoundingClientRect(); const offset=y - box.top - box.height/2;
        if(offset<0 && offset>closest.offset){ return {offset:offset, element:child}; } else { return closest; }
      }, {offset:Number.NEGATIVE_INFINITY}).element;
    }

    // ========= –°–¢–ê–ù / –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø
    const state = {
      notesIntro:'',
      roster:[],
      steps:[],
      rank: ITEMS.map(x=>x.id), // –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤–∏—Ö—ñ–¥–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫
      names:''
    };
    function collect(){
      return {
        names: $('#names').value,
        notesIntro: $('#notesIntro').value,
        roster: state.roster,
        steps: state.steps,
        rank: state.rank,
        present: $('#present').value,
        risks: $('#risks').value,
        refl1: $('#refl1').value, refl2: $('#refl2').value, refl3: $('#refl3').value, refl4: $('#refl4').value
      };
    }
    function save(){ localStorage.setItem(KEY, JSON.stringify(collect())); }
    function load(){
      const raw=localStorage.getItem(KEY);
      if(!raw){ // 3 –∫—Ä–æ–∫–∏ –∑–∞–≥–æ—Ç–æ–≤–∫–∏
        state.steps=[newStep(), newStep(), newStep()];
        renderSteps(); renderRank(); renderRoster([]);
        return;
      }
      try{
        const data=JSON.parse(raw);
        $('#names').value=data.names||'';
        $('#notesIntro').value=data.notesIntro||'';
        state.roster=data.roster||[];
        state.steps=data.steps||[newStep(),newStep()];
        state.rank=Array.isArray(data.rank)&&data.rank.length?data.rank:ITEMS.map(x=>x.id);
        $('#present').value=data.present||'';
        $('#risks').value=data.risks||'';
        $('#refl1').value=data.refl1||'';
        $('#refl2').value=data.refl2||'';
        $('#refl3').value=data.refl3||'';
        $('#refl4').value=data.refl4||'';
        renderRoster(state.roster);
        renderSteps();
        renderRank();
      }catch(e){
        state.steps=[newStep(),newStep()];
        renderSteps(); renderRank(); renderRoster([]);
      }
    }
    $$('textarea,input,select').forEach(el=> el.addEventListener('input', save));

    // ========= –ï–ö–°–ü–û–†–¢ / –î–†–£–ö / –û–ß–ò–°–¢–ö–ê
    function exportTxt(){
      const d=collect();
      const rosterLines = (d.roster||[]).map(r=>`- ${r.name}: ${r.role} (—Å–∏–ª–∞: ${r.strength||'-'}, –∫–æ–º–µ–Ω—Ç–∞—Ä: ${r.note||'-'})`).join('\n');
      const stepsLines = (d.steps||[]).map((s,i)=>`${i+1}) ${s.title} ‚Äî –≤—ñ–¥–ø.: ${s.owner||'-'} ‚Äî —Ä–µ—Å—É—Ä—Å: ${s.resource||'-'} ‚Äî –¥–µ–¥–ª–∞–π–Ω: ${s.deadline||'-'}`).join('\n');
      const rankLines = (d.rank||state.rank).map((id,i)=>`${i+1}. ${ITEMS.find(x=>x.id===id).t}`).join('\n');
      const txt=[
'–Ü–ù–¢–ï–†–ê–ö–¢–ò–í ¬´–¶–ò–§–†–û–í–ò–ô –û–°–¢–†–Ü–í¬ª ‚Äî –ü–Ü–î–°–£–ú–ö–ò',
'',
'[–£–ß–ê–°–ù–ò–ö–ò]',
(d.names||'').trim(),
'',
'[–†–û–ó–ü–û–î–Ü–õ –†–û–õ–ï–ô]',
rosterLines||'(–Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ)',
'',
'[–ü–õ–ê–ù 5‚Äì7 –ö–†–û–ö–Ü–í]',
stepsLines||'(–Ω–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–æ)',
'',
'[–ü–†–Ü–û–†–ò–¢–ï–¢–ò –ü–†–ï–î–ú–ï–¢–Ü–í]',
rankLines,
'',
'[–ü–†–ï–ó–ï–ù–¢–ê–¶–Ü–Ø]',
(d.present||'-'),
'',
'[–†–ò–ó–ò–ö–ò]',
(d.risks||'-'),
'',
'[–†–ï–§–õ–ï–ö–°–Ü–Ø]',
'–°–∫–ª–∞–¥–Ω–æ –¥–æ–º–æ–≤–∏—Ç–∏—Å—å: '+(d.refl1||'-'),
'–¶—ñ–Ω–Ω–∏–π —Ä–µ—Å—É—Ä—Å: '+(d.refl2||'-'),
'–°—Ö–æ–∂—ñ—Å—Ç—å –∑ –Ü–¢/–Ω–∞–≤—á–∞–Ω–Ω—è–º: '+(d.refl3||'-'),
'–ú–æ—è —Ä–æ–ª—å –¥–∞–ª—ñ: '+(d.refl4||'-')
      ].join('\n');
      const a=document.createElement('a');
      const stamp=new Date().toISOString().slice(0,16).replace('T','_').replace(':','-');
      a.href=URL.createObjectURL(new Blob([txt],{type:'text/plain;charset=utf-8'}));
      a.download=`digital_island_${stamp}.txt`;
      document.body.appendChild(a); a.click();
      setTimeout(()=>{URL.revokeObjectURL(a.href); a.remove();},0);
    }

    // ========= –ü–û–î–Ü–á –ö–ù–û–ü–û–ö
    $('#assign').addEventListener('click', assignRoles);
    $('#addEmpty').addEventListener('click', ()=>{
      state.roster.push({name:'',role:ROLES[state.roster.length%ROLES.length],strength:'',note:''});
      renderRoster(state.roster); save();
    });
    $('#addStep').addEventListener('click', ()=>{ if(state.steps.length>=7){alert('–î–æ—Å—Ç–∞—Ç–Ω—å–æ: –º–∞–∫—Å–∏–º—É–º 7 –∫—Ä–æ–∫—ñ–≤.'); return;} state.steps.push(newStep()); renderSteps(); save();});
    $('#clearSteps').addEventListener('click', ()=>{ if(confirm('–°–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –∫—Ä–æ–∫–∏?')){ state.steps=[newStep(),newStep(),newStep()]; renderSteps(); save(); }});
    $('#resetRank').addEventListener('click', ()=>{ state.rank=ITEMS.map(x=>x.id); renderRank(); save(); });

    $('#exportTxt').addEventListener('click', exportTxt);
    $('#printPage').addEventListener('click',()=>window.print());
    $('#clearAll').addEventListener('click',()=>{ if(confirm('–û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å—ñ –ª–æ–∫–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ —Ü—ñ—î—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏?')){ localStorage.removeItem(KEY); location.reload(); }});

    // ========= –°–¢–ê–†–¢
    window.addEventListener('load', load);
  </script>
</body>
</html>
